!function o(s,a,u){function l(t,e){if(!a[t]){if(!s[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(h)return h(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var i=a[t]={exports:{}};s[t][0].call(i.exports,function(e){return l(s[t][1][e]||e)},i,i.exports,o,s,a,u)}return a[t].exports}for(var h="function"==typeof require&&require,e=0;e<u.length;e++)l(u[e]);return l}({1:[function(e,t,n){function s(){}t.exports=function(e,n,r){var i=!1;return r=r||s,0===(o.count=e)?n():o;function o(e,t){if(o.count<=0)throw new Error("after called too many times");--o.count,e?(i=!0,n(e),n=r):0!==o.count||i||n(null,t)}}},{}],2:[function(e,t,n){t.exports=function(e,t,n){var r=e.byteLength;if(t=t||0,n=n||r,e.slice)return e.slice(t,n);if(t<0&&(t+=r),n<0&&(n+=r),r<n&&(n=r),r<=t||n<=t||0===r)return new ArrayBuffer(0);for(var i=new Uint8Array(e),o=new Uint8Array(n-t),s=t,a=0;s<n;s++,a++)o[a]=i[s];return o.buffer}},{}],3:[function(e,t,n){function r(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=0<e.jitter&&e.jitter<=1?e.jitter:0,this.attempts=0}(t.exports=r).prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},r.prototype.reset=function(){this.attempts=0},r.prototype.setMin=function(e){this.ms=e},r.prototype.setMax=function(e){this.max=e},r.prototype.setJitter=function(e){this.jitter=e}},{}],4:[function(e,t,n){!function(c){"use strict";n.encode=function(e){var t,n=new Uint8Array(e),r=n.length,i="";for(t=0;t<r;t+=3)i+=c[n[t]>>2],i+=c[(3&n[t])<<4|n[t+1]>>4],i+=c[(15&n[t+1])<<2|n[t+2]>>6],i+=c[63&n[t+2]];return r%3==2?i=i.substring(0,i.length-1)+"=":r%3==1&&(i=i.substring(0,i.length-2)+"=="),i},n.decode=function(e){var t,n,r,i,o,s=.75*e.length,a=e.length,u=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var l=new ArrayBuffer(s),h=new Uint8Array(l);for(t=0;t<a;t+=4)n=c.indexOf(e[t]),r=c.indexOf(e[t+1]),i=c.indexOf(e[t+2]),o=c.indexOf(e[t+3]),h[u++]=n<<2|r>>4,h[u++]=(15&r)<<4|i>>2,h[u++]=(3&i)<<6|63&o;return l}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],5:[function(e,t,n){"use strict";n.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},n.toByteArray=function(e){var t,n,r=c(e),i=r[0],o=r[1],s=new h(function(e,t,n){return 3*(t+n)/4-n}(0,i,o)),a=0,u=0<o?i-4:i;for(n=0;n<u;n+=4)t=l[e.charCodeAt(n)]<<18|l[e.charCodeAt(n+1)]<<12|l[e.charCodeAt(n+2)]<<6|l[e.charCodeAt(n+3)],s[a++]=t>>16&255,s[a++]=t>>8&255,s[a++]=255&t;2===o&&(t=l[e.charCodeAt(n)]<<2|l[e.charCodeAt(n+1)]>>4,s[a++]=255&t);1===o&&(t=l[e.charCodeAt(n)]<<10|l[e.charCodeAt(n+1)]<<4|l[e.charCodeAt(n+2)]>>2,s[a++]=t>>8&255,s[a++]=255&t);return s},n.fromByteArray=function(e){for(var t,n=e.length,r=n%3,i=[],o=0,s=n-r;o<s;o+=16383)i.push(u(e,o,s<o+16383?s:o+16383));1==r?(t=e[n-1],i.push(a[t>>2]+a[t<<4&63]+"==")):2==r&&(t=(e[n-2]<<8)+e[n-1],i.push(a[t>>10]+a[t>>4&63]+a[t<<2&63]+"="));return i.join("")};for(var a=[],l=[],h="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=r.length;i<o;++i)a[i]=r[i],l[r.charCodeAt(i)]=i;function c(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,n){for(var r,i,o=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(a[(i=r)>>18&63]+a[i>>12&63]+a[i>>6&63]+a[63&i]);return o.join("")}l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},{}],6:[function(e,t,n){var r=void 0!==r?r:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,i=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),o=i&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),s=r&&r.prototype.append&&r.prototype.getBlob;function a(e){return e.map(function(e){if(e.buffer instanceof ArrayBuffer){var t=e.buffer;if(e.byteLength!==t.byteLength){var n=new Uint8Array(e.byteLength);n.set(new Uint8Array(t,e.byteOffset,e.byteLength)),t=n.buffer}return t}return e})}function u(e,t){t=t||{};var n=new r;return a(e).forEach(function(e){n.append(e)}),t.type?n.getBlob(t.type):n.getBlob()}function l(e,t){return new Blob(a(e),t||{})}"undefined"!=typeof Blob&&(u.prototype=Blob.prototype,l.prototype=Blob.prototype),t.exports=i?o?Blob:l:s?u:void 0},{}],7:[function(e,t,n){},{}],8:[function(L,e,N){(function(e){(function(){"use strict";var r=L("base64-js"),o=L("ieee754");N.Buffer=c,N.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},N.INSPECT_MAX_BYTES=50;var n=2147483647;function s(e){if(n<e)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return t.__proto__=c.prototype,t}function c(e,t,n){if("number"!=typeof e)return i(e,t,n);if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return u(e)}function i(e,t,n){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|f(e,t),r=s(n),i=r.write(e,t);i!==n&&(r=r.slice(0,i));return r}(e,t);if(ArrayBuffer.isView(e))return l(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(I(e,ArrayBuffer)||e&&I(e.buffer,ArrayBuffer))return function(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n);return r.__proto__=c.prototype,r}(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return c.from(r,t,n);var i=function(e){if(c.isBuffer(e)){var t=0|h(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!=typeof e.length||j(e.length)?s(0):l(e);if("Buffer"===e.type&&Array.isArray(e.data))return l(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function a(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return a(e),s(e<0?0:0|h(e))}function l(e){for(var t=e.length<0?0:0|h(e.length),n=s(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function h(e){if(n<=e)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return 0|e}function f(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||I(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=2<arguments.length&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return A(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return R(e).length;default:if(i)return r?-1:A(e).length;t=(""+t).toLowerCase(),i=!0}}function d(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function p(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),j(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,i){var o,s=1,a=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a/=s=2,u/=2,n/=2}function l(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var h=-1;for(o=n;o<a;o++)if(l(e,o)===l(t,-1===h?0:o-h)){if(-1===h&&(h=o),o-h+1===u)return h*s}else-1!==h&&(o-=o-h),h=-1}else for(a<n+u&&(n=a-u),o=n;0<=o;o--){for(var c=!0,f=0;f<u;f++)if(l(e,o+f)!==l(t,f)){c=!1;break}if(c)return o}return-1}function y(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?i<(r=Number(r))&&(r=i):r=i;var o=t.length;o/2<r&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(j(a))return s;e[n+s]=a}return s}function g(e,t,n,r){return D(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function _(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function m(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,s,a,u,l=e[i],h=null,c=239<l?4:223<l?3:191<l?2:1;if(i+c<=n)switch(c){case 1:l<128&&(h=l);break;case 2:128==(192&(o=e[i+1]))&&127<(u=(31&l)<<6|63&o)&&(h=u);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&2047<(u=(15&l)<<12|(63&o)<<6|63&s)&&(u<55296||57343<u)&&(h=u);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&65535<(u=(15&l)<<18|(63&o)<<12|(63&s)<<6|63&a)&&u<1114112&&(h=u)}null===h?(h=65533,c=1):65535<h&&(h-=65536,r.push(h>>>10&1023|55296),h=56320|1023&h),r.push(h),i+=c}return function(e){var t=e.length;if(t<=b)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=b));return n}(r)}N.kMaxLength=n,(c.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),c.poolSize=8192,c.from=function(e,t,n){return i(e,t,n)},c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,c.alloc=function(e,t,n){return function(e,t,n){return a(e),e<=0?s(e):void 0!==t?"string"==typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},c.allocUnsafe=function(e){return u(e)},c.allocUnsafeSlow=function(e){return u(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(I(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),I(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(n=t=0;n<e.length;++n)t+=e[n].length;var r=c.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(I(o,Uint8Array)&&(o=c.from(o)),!c.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},c.byteLength=f,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)d(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)d(this,t,t+3),d(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)d(this,t,t+7),d(this,t+1,t+6),d(this,t+2,t+5),d(this,t+3,t+4);return this},c.prototype.toLocaleString=c.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?m(this,0,e):function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e=e||"utf8";;)switch(e){case"hex":return T(this,t,n);case"utf8":case"utf-8":return m(this,t,n);case"ascii":return w(this,t,n);case"latin1":case"binary":return x(this,t,n);case"base64":return _(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",t=N.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,r,i){if(I(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(i<=r&&n<=t)return 0;if(i<=r)return-1;if(n<=t)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),a=Math.min(o,s),u=this.slice(r,i),l=e.slice(t,n),h=0;h<a;++h)if(u[h]!==l[h]){o=u[h],s=l[h];break}return o<s?-1:s<o?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return p(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return p(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||i<n)&&(n=i),0<e.length&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r=r||"utf8";for(var o,s,a,u,l,h,c,f,d,p=!1;;)switch(r){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return f=t,d=n,D(A(e,(c=this).length-f),c,f,d);case"ascii":return g(this,e,t,n);case"latin1":case"binary":return g(this,e,t,n);case"base64":return u=this,l=t,h=n,D(R(e),u,l,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s=t,a=n,D(function(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,(o=this).length-s),o,s,a);default:if(p)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),p=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var b=4096;function w(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function x(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function T(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||r<n)&&(n=r);for(var i="",o=t;o<n;++o)i+=M(e[o]);return i}function E(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function O(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(n<e+t)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,n,r,i,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(i<t||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function S(e,t,n,r){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function k(e,t,n,r,i){return t=+t,n>>>=0,i||S(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function C(e,t,n,r,i){return t=+t,n>>>=0,i||S(e,0,n,8),o.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):n<e&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):n<t&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return r.__proto__=c.prototype,r},c.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},c.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);for(var r=this[e+--t],i=1;0<t&&(i*=256);)r+=this[e+--t]*i;return r},c.prototype.readUInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return(i*=128)<=r&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);for(var r=t,i=1,o=this[e+--r];0<r&&(i*=256);)o+=this[e+--r]*i;return(i*=128)<=o&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||O(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){e>>>=0,t||O(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return e>>>=0,t||O(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||O(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||O(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||O(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||P(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||P(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;0<=--i&&(o*=256);)this[t+i]=e/o&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);P(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);P(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;0<=--o&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeFloatLE=function(e,t,n){return k(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return k(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return C(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return C(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n=n||0,r||0===r||(r=this.length),t>=e.length&&(t=e.length),t=t||0,0<r&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,n,r);else if(this===e&&n<t&&t<r)for(var o=i-1;0<=o;--o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,r),t);return i},c.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var i=e.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(e=i)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,"number"==typeof(e=e||0))for(o=t;o<n;++o)this[o]=e;else{var s=c.isBuffer(e)?e:c.from(e,r),a=s.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=s[o%a]}return this};var t=/[^+/0-9A-Za-z-_]/g;function M(e){return e<16?"0"+e.toString(16):e.toString(16)}function A(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if(55295<(n=e.charCodeAt(s))&&n<57344){if(!i){if(56319<n){-1<(t-=3)&&o.push(239,191,189);continue}if(s+1===r){-1<(t-=3)&&o.push(239,191,189);continue}i=n;continue}if(n<56320){-1<(t-=3)&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&-1<(t-=3)&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function R(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(t,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function D(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function I(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function j(e){return e!=e}}).call(this)}).call(this,L("buffer").Buffer)},{"base64-js":5,buffer:8,ieee754:30}],9:[function(e,t,n){var r=[].slice;t.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var n=r.call(arguments,2);return function(){return t.apply(e,n.concat(r.call(arguments)))}}},{}],10:[function(e,t,n){function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}void 0!==t&&(t.exports=r),r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t)}return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],11:[function(e,t,n){t.exports=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],12:[function(e,t,n){t.exports="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")()},{}],13:[function(e,t,n){t.exports=e("./socket"),t.exports.parser=e("engine.io-parser")},{"./socket":14,"engine.io-parser":24}],14:[function(e,t,n){var r=e("./transports/index"),i=e("component-emitter"),c=e("debug")("engine.io-client:socket"),o=e("indexof"),s=e("engine.io-parser"),a=e("parseuri"),u=e("parseqs");function f(e,t){if(!(this instanceof f))return new f(e,t);t=t||{},e&&"object"==typeof e&&(t=e,e=null),e?(e=a(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=a(t.host).host),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=u.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.withCredentials=!1!==t.withCredentials,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||void 0,this.key=t.key||void 0,this.passphrase=t.passphrase||void 0,this.cert=t.cert||void 0,this.ca=t.ca||void 0,this.ciphers=t.ciphers||void 0,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),"undefined"!=typeof self&&!this.isReactNative||(t.extraHeaders&&0<Object.keys(t.extraHeaders).length&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}(t.exports=f).priorWebsocketSuccess=!1,i(f.prototype),f.protocol=s.protocol,(f.Socket=f).Transport=e("./transport"),f.transports=e("./transports/index"),f.parser=e("engine.io-parser"),f.prototype.createTransport=function(e){c('creating transport "%s"',e);var t=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.query);t.EIO=s.protocol,t.transport=e;var n=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new r[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,withCredentials:n.withCredentials||this.withCredentials,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative})},f.prototype.open=function(){var e;if(this.rememberUpgrade&&f.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},f.prototype.setTransport=function(e){c("setting transport %s",e.name);var t=this;this.transport&&(c("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),(this.transport=e).on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},f.prototype.probe=function(n){c('probing transport "%s"',n);var r=this.createTransport(n,{probe:1}),i=!1,o=this;function e(){if(o.onlyBinaryUpgrades){var e=!this.supportsBinary&&o.transport.supportsBinary;i=i||e}i||(c('probe transport "%s" opened',n),r.send([{type:"ping",data:"probe"}]),r.once("packet",function(e){if(!i)if("pong"===e.type&&"probe"===e.data){if(c('probe transport "%s" pong',n),o.upgrading=!0,o.emit("upgrading",r),!r)return;f.priorWebsocketSuccess="websocket"===r.name,c('pausing current transport "%s"',o.transport.name),o.transport.pause(function(){i||"closed"!==o.readyState&&(c("changing transport and sending upgrade packet"),h(),o.setTransport(r),r.send([{type:"upgrade"}]),o.emit("upgrade",r),r=null,o.upgrading=!1,o.flush())})}else{c('probe transport "%s" failed',n);var t=new Error("probe error");t.transport=r.name,o.emit("upgradeError",t)}}))}function s(){i||(i=!0,h(),r.close(),r=null)}function t(e){var t=new Error("probe error: "+e);t.transport=r.name,s(),c('probe transport "%s" failed because of error: %s',n,e),o.emit("upgradeError",t)}function a(){t("transport closed")}function u(){t("socket closed")}function l(e){r&&e.name!==r.name&&(c('"%s" works - aborting "%s"',e.name,r.name),s())}function h(){r.removeListener("open",e),r.removeListener("error",t),r.removeListener("close",a),o.removeListener("close",u),o.removeListener("upgrading",l)}f.priorWebsocketSuccess=!1,r.once("open",e),r.once("error",t),r.once("close",a),this.once("close",u),this.once("upgrading",l),r.open()},f.prototype.onOpen=function(){if(c("socket open"),this.readyState="open",f.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){c("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},f.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(c('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else c('packet received with socket readyState "%s"',this.readyState)},f.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},f.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!==t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},f.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){c("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},f.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},f.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),(this.prevBufferLen=0)===this.writeBuffer.length?this.emit("drain"):this.flush()},f.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(c("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},f.prototype.write=f.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},f.prototype.sendPacket=function(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var i={type:e,data:t,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}},f.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?r():t()}):this.upgrading?r():t()}function t(){e.onClose("forced close"),c("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function r(){e.once("upgrade",n),e.once("upgradeError",n)}return this},f.prototype.onError=function(e){c("socket error %j",e),f.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},f.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){c('socket close with reason: "%s"',e);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0}},f.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;n<r;n++)~o(this.transports,e[n])&&t.push(e[n]);return t}},{"./transport":15,"./transports/index":16,"component-emitter":10,debug:22,"engine.io-parser":24,indexof:31,parseqs:35,parseuri:36}],15:[function(e,t,n){var r=e("engine.io-parser");function i(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.isReactNative=e.isReactNative,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}e("component-emitter")((t.exports=i).prototype),i.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},i.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},i.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},i.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},i.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},i.prototype.onData=function(e){var t=r.decodePacket(e,this.socket.binaryType);this.onPacket(t)},i.prototype.onPacket=function(e){this.emit("packet",e)},i.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":10,"engine.io-parser":24}],16:[function(e,t,n){var s=e("xmlhttprequest-ssl"),a=e("./polling-xhr"),u=e("./polling-jsonp"),r=e("./websocket");n.polling=function(e){var t=!1,n=!1,r=!1!==e.jsonp;if("undefined"!=typeof location){var i="https:"===location.protocol,o=location.port;o=o||(i?443:80),t=e.hostname!==location.hostname||o!==e.port,n=e.secure!==i}{if(e.xdomain=t,e.xscheme=n,"open"in new s(e)&&!e.forceJSONP)return new a(e);if(!r)throw new Error("JSONP disabled");return new u(e)}},n.websocket=r},{"./polling-jsonp":17,"./polling-xhr":18,"./websocket":20,"xmlhttprequest-ssl":21}],17:[function(e,t,n){var r=e("./polling"),i=e("component-inherit"),o=e("../globalThis");t.exports=u;var s,l=/\n/g,h=/\\n/g;function a(){}function u(e){r.call(this,e),this.query=this.query||{},s=s||(o.___eio=o.___eio||[]),this.index=s.length;var t=this;s.push(function(e){t.onData(e)}),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",function(){t.script&&(t.script.onerror=a)},!1)}i(u,r),u.prototype.supportsBinary=!1,u.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),r.prototype.doClose.call(this)},u.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(e,n):(document.head||document.body).appendChild(e),this.script=e,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},u.prototype.doWrite=function(e,t){var n=this;if(!this.form){var r,i=document.createElement("form"),o=document.createElement("textarea"),s=this.iframeId="eio_iframe_"+this.index;i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=s,i.method="POST",i.setAttribute("accept-charset","utf-8"),o.name="d",i.appendChild(o),document.body.appendChild(i),this.form=i,this.area=o}function a(){u(),t()}function u(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(e){n.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+n.iframeId+'">';r=document.createElement(e)}catch(e){(r=document.createElement("iframe")).name=n.iframeId,r.src="javascript:0"}r.id=n.iframeId,n.form.appendChild(r),n.iframe=r}this.form.action=this.uri(),u(),e=e.replace(h,"\\\n"),this.area.value=e.replace(l,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&a()}:this.iframe.onload=a}},{"../globalThis":12,"./polling":19,"component-inherit":11}],18:[function(e,t,n){var i=e("xmlhttprequest-ssl"),r=e("./polling"),o=e("component-emitter"),s=e("component-inherit"),a=e("debug")("engine.io-client:polling-xhr"),u=e("../globalThis");function l(){}function h(e){if(r.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,"undefined"!=typeof location){var t="https:"===location.protocol,n=location.port;n=n||(t?443:80),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==t}}function c(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}if(t.exports=h,t.exports.Request=c,s(h,r),h.prototype.supportsBinary=!0,h.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.withCredentials=this.withCredentials,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new c(e)},h.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,r=this.request({method:"POST",data:e,isBinary:n}),i=this;r.on("success",t),r.on("error",function(e){i.onError("xhr post error",e)}),this.sendXhr=r},h.prototype.doPoll=function(){a("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},o(c.prototype),c.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new i(e),n=this;try{a("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var r in t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(r)&&t.setRequestHeader(r,this.extraHeaders[r])}catch(e){}if("POST"===this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{t.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in t&&(t.withCredentials=this.withCredentials),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){n.onLoad()},t.onerror=function(){n.onError(t.responseText)}):t.onreadystatechange=function(){if(2===t.readyState)try{var e=t.getResponseHeader("Content-Type");(n.supportsBinary&&"application/octet-stream"===e||"application/octet-stream; charset=UTF-8"===e)&&(t.responseType="arraybuffer")}catch(e){}4===t.readyState&&(200===t.status||1223===t.status?n.onLoad():setTimeout(function(){n.onError("number"==typeof t.status?t.status:0)},0))},a("xhr data %s",this.data),t.send(this.data)}catch(e){return void setTimeout(function(){n.onError(e)},0)}"undefined"!=typeof document&&(this.index=c.requestsCount++,c.requests[this.index]=this)},c.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},c.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},c.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},c.prototype.cleanup=function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=l:this.xhr.onreadystatechange=l,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete c.requests[this.index],this.xhr=null}},c.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(e){}e=("application/octet-stream"===t||"application/octet-stream; charset=UTF-8"===t)&&this.xhr.response||this.xhr.responseText}catch(e){this.onError(e)}null!=e&&this.onData(e)},c.prototype.hasXDR=function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},c.prototype.abort=function(){this.cleanup()},c.requestsCount=0,c.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",f);else if("function"==typeof addEventListener){addEventListener("onpagehide"in u?"pagehide":"unload",f,!1)}function f(){for(var e in c.requests)c.requests.hasOwnProperty(e)&&c.requests[e].abort()}},{"../globalThis":12,"./polling":19,"component-emitter":10,"component-inherit":11,debug:22,"xmlhttprequest-ssl":21}],19:[function(e,t,n){var r=e("../transport"),i=e("parseqs"),o=e("engine.io-parser"),s=e("component-inherit"),a=e("yeast"),u=e("debug")("engine.io-client:polling");t.exports=h;var l=null!=new(e("xmlhttprequest-ssl"))({xdomain:!1}).responseType;function h(e){var t=e&&e.forceBase64;l&&!t||(this.supportsBinary=!1),r.call(this,e)}s(h,r),h.prototype.name="polling",h.prototype.doOpen=function(){this.poll()},h.prototype.pause=function(e){var t=this;function n(){u("paused"),t.readyState="paused",e()}if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(u("we are currently polling - waiting to pause"),r++,this.once("pollComplete",function(){u("pre-pause polling complete"),--r||n()})),this.writable||(u("we are currently writing - waiting to pause"),r++,this.once("drain",function(){u("pre-pause writing complete"),--r||n()}))}else n()},h.prototype.poll=function(){u("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},h.prototype.onData=function(e){var r=this;u("polling got data %s",e);o.decodePayload(e,this.socket.binaryType,function(e,t,n){if("opening"===r.readyState&&"open"===e.type&&r.onOpen(),"close"===e.type)return r.onClose(),!1;r.onPacket(e)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():u('ignoring poll - transport state "%s"',this.readyState))},h.prototype.doClose=function(){var e=this;function t(){u("writing close packet"),e.write([{type:"close"}])}"open"===this.readyState?(u("transport open - closing"),t()):(u("transport not open - deferring close"),this.once("open",t))},h.prototype.write=function(e){var t=this;this.writable=!1;function n(){t.writable=!0,t.emit("drain")}o.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,n)})},h.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=a()),this.supportsBinary||e.sid||(e.b64=1),e=i.encode(e),this.port&&("https"==t&&443!==Number(this.port)||"http"==t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e}},{"../transport":15,"component-inherit":11,debug:22,"engine.io-parser":24,parseqs:35,"xmlhttprequest-ssl":21,yeast:53}],20:[function(c,f,e){(function(h){(function(){var t,n,r=c("../transport"),s=c("engine.io-parser"),i=c("parseqs"),e=c("component-inherit"),o=c("yeast"),a=c("debug")("engine.io-client:websocket");if("undefined"!=typeof WebSocket?t=WebSocket:"undefined"!=typeof self&&(t=self.WebSocket||self.MozWebSocket),"undefined"==typeof window)try{n=c("ws")}catch(e){}var u=t||n;function l(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=t&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(u=n),r.call(this,e)}e(f.exports=l,r),l.prototype.name="websocket",l.prototype.supportsBinary=!0,l.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,n={};this.isReactNative||(n.agent=this.agent,n.perMessageDeflate=this.perMessageDeflate,n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized),this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new u(e,t):new u(e):new u(e,t,n)}catch(e){return this.emit("error",e)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},l.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},l.prototype.write=function(e){var r=this;this.writable=!1;for(var i=e.length,t=0,n=i;t<n;t++)!function(n){s.encodePacket(n,r.supportsBinary,function(e){if(!r.usingBrowserWebSocket){var t={};if(n.options&&(t.compress=n.options.compress),r.perMessageDeflate)("string"==typeof e?h.byteLength(e):e.length)<r.perMessageDeflate.threshold&&(t.compress=!1)}try{r.usingBrowserWebSocket?r.ws.send(e):r.ws.send(e,t)}catch(e){a("websocket closed before onclose event")}--i||o()})}(e[t]);function o(){r.emit("flush"),setTimeout(function(){r.writable=!0,r.emit("drain")},0)}},l.prototype.onClose=function(){r.prototype.onClose.call(this)},l.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},l.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"==t&&443!==Number(this.port)||"ws"==t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=o()),this.supportsBinary||(e.b64=1),(e=i.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},l.prototype.check=function(){return!(!u||"__initialize"in u&&this.name===l.prototype.name)}}).call(this)}).call(this,c("buffer").Buffer)},{"../transport":15,buffer:8,"component-inherit":11,debug:22,"engine.io-parser":24,parseqs:35,ws:7,yeast:53}],21:[function(e,t,n){var i=e("has-cors"),o=e("./globalThis");t.exports=function(e){var t=e.xdomain,n=e.xscheme,r=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||i))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!n&&r)return new XDomainRequest}catch(e){}if(!t)try{return new(o[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}},{"./globalThis":12,"has-cors":29}],22:[function(n,r,o){(function(t){(function(){function e(){var e;try{e=o.storage.debug}catch(e){}return!e&&void 0!==t&&"env"in t&&(e=t.env.DEBUG),e}(o=r.exports=n("./debug")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},o.formatArgs=function(e){var t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+o.humanize(this.diff),!t)return;var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var r=0,i=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(r++,"%c"===e&&(i=r))}),e.splice(i,0,n)},o.save=function(e){try{null==e?o.storage.removeItem("debug"):o.storage.debug=e}catch(e){}},o.load=e,o.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},o.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),o.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],o.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},o.enable(e())}).call(this)}).call(this,n("_process"))},{"./debug":23,_process:37}],23:[function(e,t,u){function n(e){var r;function a(){if(a.enabled){var i=a,e=+new Date,t=e-(r||e);i.diff=t,i.prev=r,i.curr=e,r=e;for(var o=new Array(arguments.length),n=0;n<o.length;n++)o[n]=arguments[n];o[0]=u.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var s=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(e,t){if("%%"===e)return e;s++;var n=u.formatters[t];if("function"==typeof n){var r=o[s];e=n.call(i,r),o.splice(s,1),s--}return e}),u.formatArgs.call(i,o),(a.log||u.log||console.log.bind(console)).apply(i,o)}}return a.namespace=e,a.enabled=u.enabled(e),a.useColors=u.useColors(),a.color=function(e){var t,n=0;for(t in e)n=(n<<5)-n+e.charCodeAt(t),n|=0;return u.colors[Math.abs(n)%u.colors.length]}(e),a.destroy=i,"function"==typeof u.init&&u.init(a),u.instances.push(a),a}function i(){var e=u.instances.indexOf(this);return-1!==e&&(u.instances.splice(e,1),!0)}(u=t.exports=n.debug=n.default=n).coerce=function(e){return e instanceof Error?e.stack||e.message:e},u.disable=function(){u.enable("")},u.enable=function(e){var t;u.save(e),u.names=[],u.skips=[];var n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length;for(t=0;t<r;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?u.skips.push(new RegExp("^"+e.substr(1)+"$")):u.names.push(new RegExp("^"+e+"$")));for(t=0;t<u.instances.length;t++){var i=u.instances[t];i.enabled=u.enabled(i.namespace)}},u.enabled=function(e){if("*"===e[e.length-1])return!0;var t,n;for(t=0,n=u.skips.length;t<n;t++)if(u.skips[t].test(e))return!1;for(t=0,n=u.names.length;t<n;t++)if(u.names[t].test(e))return!0;return!1},u.humanize=e("ms"),u.instances=[],u.names=[],u.skips=[],u.formatters={}},{ms:34}],24:[function(e,t,f){var i,n=e("./keys"),o=e("has-binary2"),d=e("arraybuffer.slice"),a=e("after"),s=e("./utf8");"undefined"!=typeof ArrayBuffer&&(i=e("base64-arraybuffer"));var r="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),u="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),l=r||u;f.protocol=3;var h=f.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},c=n(h),p={type:"error",data:"parser error"},v=e("blob");function y(e,t,n){function r(n,e,r){t(e,function(e,t){i[n]=t,r(e,i)})}for(var i=new Array(e.length),o=a(e.length,n),s=0;s<e.length;s++)r(s,e[s],o)}f.encodePacket=function(e,t,n,r){"function"==typeof t&&(r=t,t=!1),"function"==typeof n&&(r=n,n=null);var i=void 0===e.data?void 0:e.data.buffer||e.data;if("undefined"!=typeof ArrayBuffer&&i instanceof ArrayBuffer)return function(e,t,n){if(!t)return f.encodeBase64Packet(e,n);var r=e.data,i=new Uint8Array(r),o=new Uint8Array(1+r.byteLength);o[0]=h[e.type];for(var s=0;s<i.length;s++)o[s+1]=i[s];return n(o.buffer)}(e,t,r);if(void 0!==v&&i instanceof v)return function(e,t,n){if(!t)return f.encodeBase64Packet(e,n);if(l)return function(e,t,n){if(!t)return f.encodeBase64Packet(e,n);var r=new FileReader;return r.onload=function(){f.encodePacket({type:e.type,data:r.result},t,!0,n)},r.readAsArrayBuffer(e.data)}(e,t,n);var r=new Uint8Array(1);r[0]=h[e.type];var i=new v([r.buffer,e.data]);return n(i)}(e,t,r);if(i&&i.base64)return function(e,t){var n="b"+f.packets[e.type]+e.data.data;return t(n)}(e,r);var o=h[e.type];return void 0!==e.data&&(o+=n?s.encode(String(e.data),{strict:!1}):String(e.data)),r(""+o)},f.encodeBase64Packet=function(t,n){var r,i="b"+f.packets[t.type];if(void 0!==v&&t.data instanceof v){var o=new FileReader;return o.onload=function(){var e=o.result.split(",")[1];n(i+e)},o.readAsDataURL(t.data)}try{r=String.fromCharCode.apply(null,new Uint8Array(t.data))}catch(e){for(var s=new Uint8Array(t.data),a=new Array(s.length),u=0;u<s.length;u++)a[u]=s[u];r=String.fromCharCode.apply(null,a)}return i+=btoa(r),n(i)},f.decodePacket=function(e,t,n){if(void 0===e)return p;if("string"==typeof e){if("b"===e.charAt(0))return f.decodeBase64Packet(e.substr(1),t);if(n&&!1===(e=function(e){try{e=s.decode(e,{strict:!1})}catch(e){return!1}return e}(e)))return p;var r=e.charAt(0);return Number(r)==r&&c[r]?1<e.length?{type:c[r],data:e.substring(1)}:{type:c[r]}:p}r=new Uint8Array(e)[0];var i=d(e,1);return v&&"blob"===t&&(i=new v([i])),{type:c[r],data:i}},f.decodeBase64Packet=function(e,t){var n=c[e.charAt(0)];if(!i)return{type:n,data:{base64:!0,data:e.substr(1)}};var r=i.decode(e.substr(1));return"blob"===t&&v&&(r=new v([r])),{type:n,data:r}},f.encodePayload=function(e,n,r){"function"==typeof n&&(r=n,n=null);var i=o(e);if(n&&i)return v&&!l?f.encodePayloadAsBlob(e,r):f.encodePayloadAsArrayBuffer(e,r);if(!e.length)return r("0:");y(e,function(e,t){f.encodePacket(e,!!i&&n,!1,function(e){t(null,function(e){return e.length+":"+e}(e))})},function(e,t){return r(t.join(""))})},f.decodePayload=function(e,t,n){if("string"!=typeof e)return f.decodePayloadAsBinary(e,t,n);var r;if("function"==typeof t&&(n=t,t=null),""===e)return n(p,0,1);for(var i,o,s="",a=0,u=e.length;a<u;a++){var l=e.charAt(a);if(":"===l){if(""===s||s!=(i=Number(s)))return n(p,0,1);if(s!=(o=e.substr(a+1,i)).length)return n(p,0,1);if(o.length){if(r=f.decodePacket(o,t,!1),p.type===r.type&&p.data===r.data)return n(p,0,1);if(!1===n(r,a+i,u))return}a+=i,s=""}else s+=l}return""!==s?n(p,0,1):void 0},f.encodePayloadAsArrayBuffer=function(e,r){if(!e.length)return r(new ArrayBuffer(0));y(e,function(e,t){f.encodePacket(e,!0,!0,function(e){return t(null,e)})},function(e,t){var n=t.reduce(function(e,t){var n;return e+(n="string"==typeof t?t.length:t.byteLength).toString().length+n+2},0),s=new Uint8Array(n),a=0;return t.forEach(function(e){var t="string"==typeof e,n=e;if(t){for(var r=new Uint8Array(e.length),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);n=r.buffer}s[a++]=t?0:1;var o=n.byteLength.toString();for(i=0;i<o.length;i++)s[a++]=parseInt(o[i]);s[a++]=255;for(r=new Uint8Array(n),i=0;i<r.length;i++)s[a++]=r[i]}),r(s.buffer)})},f.encodePayloadAsBlob=function(e,n){y(e,function(e,a){f.encodePacket(e,!0,!0,function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);e=n.buffer,t[0]=0}var i=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),o=new Uint8Array(i.length+1);for(r=0;r<i.length;r++)o[r]=parseInt(i[r]);if(o[i.length]=255,v){var s=new v([t.buffer,o.buffer,e]);a(null,s)}})},function(e,t){return n(new v(t))})},f.decodePayloadAsBinary=function(e,n,r){"function"==typeof n&&(r=n,n=null);for(var t=e,i=[];0<t.byteLength;){for(var o=new Uint8Array(t),s=0===o[0],a="",u=1;255!==o[u];u++){if(310<a.length)return r(p,0,1);a+=o[u]}t=d(t,2+a.length),a=parseInt(a);var l=d(t,0,a);if(s)try{l=String.fromCharCode.apply(null,new Uint8Array(l))}catch(e){var h=new Uint8Array(l);l="";for(u=0;u<h.length;u++)l+=String.fromCharCode(h[u])}i.push(l),t=d(t,a)}var c=i.length;i.forEach(function(e,t){r(f.decodePacket(e,n,!0),t,c)})}},{"./keys":25,"./utf8":26,after:1,"arraybuffer.slice":2,"base64-arraybuffer":4,blob:6,"has-binary2":27}],25:[function(e,t,n){t.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t}},{}],26:[function(e,t,n){var o,s,a,u=String.fromCharCode;function l(e){for(var t,n,r=[],i=0,o=e.length;i<o;)55296<=(t=e.charCodeAt(i++))&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function r(e,t){if(55296<=e&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function i(e,t){return u(e>>t&63|128)}function h(e,t){if(0==(4294967168&e))return u(e);var n="";return 0==(4294965248&e)?n=u(e>>6&31|192):0==(4294901760&e)?(r(e,t)||(e=65533),n=u(e>>12&15|224),n+=i(e,6)):0==(4292870144&e)&&(n=u(e>>18&7|240),n+=i(e,12),n+=i(e,6)),n+=u(63&e|128)}function c(){if(s<=a)throw Error("Invalid byte index");var e=255&o[a];if(a++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function f(e){var t,n;if(s<a)throw Error("Invalid byte index");if(a==s)return!1;if(t=255&o[a],a++,0==(128&t))return t;if(192==(224&t)){if(128<=(n=(31&t)<<6|c()))return n;throw Error("Invalid continuation byte")}if(224==(240&t)){if(2048<=(n=(15&t)<<12|c()<<6|c()))return r(n,e)?n:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&65536<=(n=(7&t)<<18|c()<<12|c()<<6|c())&&n<=1114111)return n;throw Error("Invalid UTF-8 detected")}t.exports={version:"2.1.2",encode:function(e,t){for(var n=!1!==(t=t||{}).strict,r=l(e),i=r.length,o=-1,s="";++o<i;)s+=h(r[o],n);return s},decode:function(e,t){var n=!1!==(t=t||{}).strict;o=l(e),s=o.length,a=0;for(var r,i=[];!1!==(r=f(n));)i.push(r);return function(e){for(var t,n=e.length,r=-1,i="";++r<n;)65535<(t=e[r])&&(i+=u((t-=65536)>>>10&1023|55296),t=56320|1023&t),i+=u(t);return i}(i)}}},{}],27:[function(t,n,e){(function(u){(function(){var o=t("isarray"),e=Object.prototype.toString,s="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===e.call(Blob),a="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===e.call(File);n.exports=function e(t){if(!t||"object"!=typeof t)return!1;if(o(t)){for(var n=0,r=t.length;n<r;n++)if(e(t[n]))return!0;return!1}if("function"==typeof u&&u.isBuffer&&u.isBuffer(t)||"function"==typeof ArrayBuffer&&t instanceof ArrayBuffer||s&&t instanceof Blob||a&&t instanceof File)return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return e(t.toJSON(),!0);for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&e(t[i]))return!0;return!1}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:8,isarray:28}],28:[function(e,t,n){var r={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},{}],29:[function(e,t,n){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}},{}],30:[function(e,t,n){n.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,l=u>>1,h=-7,c=n?i-1:0,f=n?-1:1,d=e[t+c];for(c+=f,o=d&(1<<-h)-1,d>>=-h,h+=a;0<h;o=256*o+e[t+c],c+=f,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=r;0<h;s=256*s+e[t+c],c+=f,h-=8);if(0===o)o=1-l;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),o-=l}return(d?-1:1)*s*Math.pow(2,o-r)},n.write=function(e,t,n,r,i,o){var s,a,u,l=8*o-i-1,h=(1<<l)-1,c=h>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=h):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),2<=(t+=1<=s+c?f/u:f*Math.pow(2,1-c))*u&&(s++,u/=2),h<=s+c?(a=0,s=h):1<=s+c?(a=(t*u-1)*Math.pow(2,i),s+=c):(a=t*Math.pow(2,c-1)*Math.pow(2,i),s=0));8<=i;e[n+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,l+=i;0<l;e[n+d]=255&s,d+=p,s/=256,l-=8);e[n+d-p]|=128*v}},{}],31:[function(e,t,n){var r=[].indexOf;t.exports=function(e,t){if(r)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},{}],32:[function(e,t,n){"use strict";n.__esModule=!0,function(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}(e("./isMobile"));var r=e("./isMobile");n.default=r.default},{"./isMobile":33}],33:[function(e,t,n){"use strict";n.__esModule=!0;function s(e){return void 0!==e&&"MacIntel"===e.platform&&"number"==typeof e.maxTouchPoints&&1<e.maxTouchPoints&&"undefined"==typeof MSStream}var a=/iPhone/i,u=/iPod/i,l=/iPad/i,h=/\biOS-universal(?:.+)Mac\b/i,c=/\bAndroid(?:.+)Mobile\b/i,f=/Android/i,d=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,p=/Silk/i,v=/Windows Phone/i,y=/\bWindows(?:.+)ARM\b/i,g=/BlackBerry/i,_=/BB10/i,m=/Opera Mini/i,b=/\b(CriOS|Chrome)(?:.+)Mobile/i,w=/Mobile(?:.+)Firefox\b/i;n.default=function(e){var t={userAgent:"",platform:"",maxTouchPoints:0};e||"undefined"==typeof navigator?"string"==typeof e?t.userAgent=e:e&&e.userAgent&&(t={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0}):t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var n=t.userAgent,r=n.split("[FBAN");void 0!==r[1]&&(n=r[0]),void 0!==(r=n.split("Twitter"))[1]&&(n=r[0]);var i=function(t){return function(e){return e.test(t)}}(n),o={apple:{phone:i(a)&&!i(v),ipod:i(u),tablet:!i(a)&&(i(l)||s(t))&&!i(v),universal:i(h),device:(i(a)||i(u)||i(l)||i(h)||s(t))&&!i(v)},amazon:{phone:i(d),tablet:!i(d)&&i(p),device:i(d)||i(p)},android:{phone:!i(v)&&i(d)||!i(v)&&i(c),tablet:!i(v)&&!i(d)&&!i(c)&&(i(p)||i(f)),device:!i(v)&&(i(d)||i(p)||i(c)||i(f))||i(/\bokhttp\b/i)},windows:{phone:i(v),tablet:i(y),device:i(v)||i(y)},other:{blackberry:i(g),blackberry10:i(_),opera:i(m),firefox:i(w),chrome:i(b),device:i(g)||i(_)||i(m)||i(w)||i(b)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}},{}],34:[function(e,t,n){var r=36e5,i=864e5;function o(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}t.exports=function(e,t){t=t||{};var n=typeof e;if("string"==n&&0<e.length)return function(e){if(100<(e=String(e)).length)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"days":case"day":case"d":return n*i;case"hours":case"hour":case"hrs":case"hr":case"h":return n*r;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*n;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(e);if("number"==n&&!1===isNaN(e))return t.long?function(e){return o(e,i,"day")||o(e,r,"hour")||o(e,6e4,"minute")||o(e,1e3,"second")||e+" ms"}(e):function(e){if(i<=e)return Math.round(e/i)+"d";if(r<=e)return Math.round(e/r)+"h";if(6e4<=e)return Math.round(e/6e4)+"m";if(1e3<=e)return Math.round(e/1e3)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},{}],35:[function(e,t,n){n.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},n.decode=function(e){for(var t={},n=e.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}},{}],36:[function(e,t,n){var a=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,u=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(e){var t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));for(var i=a.exec(e||""),o={},s=14;s--;)o[u[s]]=i[s]||"";return-1!=n&&-1!=r&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function(e,t){var n=t.replace(/\/{2,9}/g,"/").split("/");"/"!=t.substr(0,1)&&0!==t.length||n.splice(0,1);"/"==t.substr(t.length-1,1)&&n.splice(n.length-1,1);return n}(0,o.path),o.queryKey=function(e,t){var r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(e,t,n){t&&(r[t]=n)}),r}(0,o.query),o}},{}],37:[function(e,t,n){var r,i,o=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(r===setTimeout)return setTimeout(t,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:s}catch(e){r=s}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var l,h=[],c=!1,f=-1;function d(){c&&l&&(c=!1,l.length?h=l.concat(h):f=-1,h.length&&p())}function p(){if(!c){var e=u(d);c=!0;for(var t=h.length;t;){for(l=h,h=[];++f<t;)l&&l[f].run();f=-1,t=h.length}l=null,c=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(e)}}function v(e,t){this.fun=e,this.array=t}function y(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new v(e,t)),1!==h.length||c||u(p)},v.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],38:[function(e,t,n){var r,i;r=window,i=function(){return r={},i.m=n=[function(e,y,g){"use strict";g.r(y),function(e,t){g.d(y,"_gsScope",function(){return n}),g.d(y,"TweenLite",function(){return r}),g.d(y,"globals",function(){return i}),g.d(y,"default",function(){return r}),g.d(y,"SimpleTimeline",function(){return o}),g.d(y,"Animation",function(){return s}),g.d(y,"Ease",function(){return a}),g.d(y,"Linear",function(){return u}),g.d(y,"Power0",function(){return l}),g.d(y,"Power1",function(){return h}),g.d(y,"Power2",function(){return c}),g.d(y,"Power3",function(){return f}),g.d(y,"Power4",function(){return d}),g.d(y,"TweenPlugin",function(){return p}),g.d(y,"EventDispatcher",function(){return v});var n="undefined"!=typeof window?window:e.exports&&void 0!==t?t:{},r=function(c){var f={},d=c.document,p=c.GreenSockGlobals=c.GreenSockGlobals||c;if(p.TweenLite)return p.TweenLite;function v(e){for(var t=e.split("."),n=p,r=0;r<t.length;r++)n[t[r]]=n=n[t[r]]||{};return n}function a(e){for(var t=[],n=e.length,r=0;r!==n;t.push(e[r++]));return t}function y(){}var g,t,n,_=v("com.greensock"),m=1e-8,b=(t=Object.prototype.toString,n=t.call([]),function(e){return null!=e&&(e instanceof Array||"object"==typeof e&&!!e.push&&t.call(e)===n)}),w={},x=function(s,a,u,l){this.sc=w[s]?w[s].sc:[],(w[s]=this).gsClass=null,this.func=u;var h=[];this.check=function(e){for(var t,n,r,i=a.length,o=i;-1<--i;)(t=w[a[i]]||new x(a[i],[])).gsClass?(h[i]=t.gsClass,o--):e&&t.sc.push(this);if(0===o&&u)for(n=(r=("com.greensock."+s).split(".")).pop(),r=v(r.join("."))[n]=this.gsClass=u.apply(u,h),l&&(p[n]=f[n]=r),i=0;i<this.sc.length;i++)this.sc[i].check()},this.check(!0)},r=c._gsDefine=function(e,t,n,r){return new x(e,t,n,r)},T=_._class=function(e,t,n){return t=t||function(){},r(e,[],function(){return t},n),t};r.globals=p;var e,i=[0,0,1,1],E=T("easing.Ease",function(e,t,n,r){this._func=e,this._type=n||0,this._power=r||0,this._params=t?i.concat(t):i},!0),O=E.map={},o=E.register=function(e,t,n,r){for(var i,o,s,a,u=t.split(","),l=u.length,h=(n||"easeIn,easeOut,easeInOut").split(",");-1<--l;)for(o=u[l],i=r?T("easing."+o,null,!0):_.easing[o]||{},s=h.length;-1<--s;)a=h[s],O[o+"."+a]=O[a+o]=i[a]=e.getRatio?e:e[a]||new e};for((e=E.prototype)._calcEnd=!1,e.getRatio=function(e){if(this._func)return this._params[0]=e,this._func.apply(null,this._params);var t=this._type,n=this._power,r=1===t?1-e:2===t?e:e<.5?2*e:2*(1-e);return 1===n?r*=r:2===n?r*=r*r:3===n?r*=r*r*r:4===n&&(r*=r*r*r*r),1===t?1-r:2===t?r:e<.5?r/2:1-r/2},u=(s=["Linear","Quad","Cubic","Quart","Quint,Strong"]).length;-1<--u;)e=s[u]+",Power"+u,o(new E(null,null,1,u),e,"easeOut",!0),o(new E(null,null,2,u),e,"easeIn"+(0===u?",easeNone":"")),o(new E(null,null,3,u),e,"easeInOut");O.linear=_.easing.Linear.easeIn,O.swing=_.easing.Quad.easeInOut;var P=T("events.EventDispatcher",function(e){this._listeners={},this._eventTarget=e||this});(e=P.prototype).addEventListener=function(e,t,n,r,i){i=i||0;var o,s,a=this._listeners[e],u=0;for(this!==A||g||A.wake(),null==a&&(this._listeners[e]=a=[]),s=a.length;-1<--s;)(o=a[s]).c===t&&o.s===n?a.splice(s,1):0===u&&o.pr<i&&(u=s+1);a.splice(u,0,{c:t,s:n,up:r,pr:i})},e.removeEventListener=function(e,t){var n,r=this._listeners[e];if(r)for(n=r.length;-1<--n;)if(r[n].c===t)return void r.splice(n,1)},e.dispatchEvent=function(e){var t,n,r,i=this._listeners[e];if(i)for(1<(t=i.length)&&(i=i.slice(0)),n=this._eventTarget;-1<--t;)(r=i[t])&&(r.up?r.c.call(r.s||n,{type:e,target:n}):r.c.call(r.s||n))};for(var s,S=c.requestAnimationFrame,k=c.cancelAnimationFrame,C=Date.now||function(){return(new Date).getTime()},M=C(),u=(s=["ms","moz","webkit","o"]).length;-1<--u&&!S;)S=c[s[u]+"RequestAnimationFrame"],k=c[s[u]+"CancelAnimationFrame"]||c[s[u]+"CancelRequestAnimationFrame"];T("Ticker",function(e,t){var r,i,o,s,a,u=this,l=C(),n=!(!1===t||!S)&&"auto",h=500,c=33,f=function(e){var t,n=C()-M;h<n&&(l+=n-c),M+=n,u.time=(M-l)/1e3,n=u.time-a,(!r||0<n||!0===e)&&(u.frame++,a+=n+(s<=n?.004:s-n),t=!0),!0!==e&&(o=i(f)),t&&u.dispatchEvent("tick")};P.call(u),u.time=u.frame=0,u.tick=function(){f(!0)},u.lagSmoothing=function(e,t){if(!arguments.length)return h<1e8;h=e||1e8,c=Math.min(t,h,0)},u.sleep=function(){null!=o&&((n&&k?k:clearTimeout)(o),i=y,o=null,u===A&&(g=!1))},u.wake=function(e){null!==o?u.sleep():e?l+=-M+(M=C()):10<u.frame&&(M=C()-h+5),i=0===r?y:n&&S?S:function(e){return setTimeout(e,1e3*(a-u.time)+1|0)},u===A&&(g=!0),f(2)},u.fps=function(e){if(!arguments.length)return r;s=1/((r=e)||60),a=this.time+s,u.wake()},u.useRAF=function(e){if(!arguments.length)return n;u.sleep(),n=e,u.fps(r)},u.fps(e),setTimeout(function(){"auto"===n&&u.frame<5&&"hidden"!==(d||{}).visibilityState&&u.useRAF(!1)},1500)}),(e=_.Ticker.prototype=new _.events.EventDispatcher).constructor=_.Ticker;var l=T("core.Animation",function(e,t){this.vars=t=t||{},this._duration=this._totalDuration=e||0,this._delay=Number(t.delay)||0,this._timeScale=1,this._active=!!t.immediateRender,this.data=t.data,this._reversed=!!t.reversed,J&&(g||A.wake(),(t=this.vars.useFrames?K:J).add(this,t._time),this.vars.paused&&this.paused(!0))}),A=l.ticker=new _.Ticker;(e=l.prototype)._dirty=e._gc=e._initted=e._paused=!1,e._totalTime=e._time=0,e._rawPrevTime=-1,e._next=e._last=e._onUpdate=e._timeline=e.timeline=null,e._paused=!1;var h=function(){g&&2e3<C()-M&&("hidden"!==(d||{}).visibilityState||!A.lagSmoothing())&&A.wake();var e=setTimeout(h,2e3);e.unref&&e.unref()};h(),e.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},e.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},e.resume=function(e,t){return null!=e&&this.seek(e,t),this.paused(!1)},e.seek=function(e,t){return this.totalTime(Number(e),!1!==t)},e.restart=function(e,t){return this.reversed(!1).paused(!1).totalTime(e?-this._delay:0,!1!==t,!0)},e.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},e.render=function(e,t,n){},e.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},e.isActive=function(){var e,t=this._timeline,n=this._startTime;return!t||!this._gc&&!this._paused&&t.isActive()&&(e=t.rawTime(!0))>=n&&e<n+this.totalDuration()/this._timeScale-m},e._enabled=function(e,t){return g||A.wake(),this._gc=!e,this._active=this.isActive(),!0!==t&&(e&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!e&&this.timeline&&this._timeline._remove(this,!0)),!1},e._kill=function(e,t){return this._enabled(!1,!1)},e.kill=function(e,t){return this._kill(e,t),this},e._uncache=function(e){for(var t=e?this:this.timeline;t;)t._dirty=!0,t=t.timeline;return this},e._swapSelfInParams=function(e){for(var t=e.length,n=e.concat();-1<--t;)"{self}"===e[t]&&(n[t]=this);return n},e._callback=function(e){var t=this.vars,n=t[e],r=t[e+"Params"],i=t[e+"Scope"]||t.callbackScope||this;switch(r?r.length:0){case 0:n.call(i);break;case 1:n.call(i,r[0]);break;case 2:n.call(i,r[0],r[1]);break;default:n.apply(i,r)}},e.eventCallback=function(e,t,n,r){if("on"===(e||"").substr(0,2)){var i=this.vars;if(1===arguments.length)return i[e];null==t?delete i[e]:(i[e]=t,i[e+"Params"]=b(n)&&-1!==n.join("").indexOf("{self}")?this._swapSelfInParams(n):n,i[e+"Scope"]=r),"onUpdate"===e&&(this._onUpdate=t)}return this},e.delay=function(e){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+e-this._delay),this._delay=e,this):this._delay},e.duration=function(e){return arguments.length?(this._duration=this._totalDuration=e,this._uncache(!0),this._timeline.smoothChildTiming&&0<this._time&&this._time<this._duration&&0!==e&&this.totalTime(this._totalTime*(e/this._duration),!0),this):(this._dirty=!1,this._duration)},e.totalDuration=function(e){return this._dirty=!1,arguments.length?this.duration(e):this._totalDuration},e.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(e>this._duration?this._duration:e,t)):this._time},e.totalTime=function(e,t,n){if(g||A.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(e<0&&!n&&(e+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var r=this._totalDuration,i=this._timeline;if(r<e&&!n&&(e=r),this._startTime=(this._paused?this._pauseTime:i._time)-(this._reversed?r-e:e)/this._timeScale,i._dirty||this._uncache(!1),i._timeline)for(;i._timeline;)i._timeline._time!==(i._startTime+i._totalTime)/i._timeScale&&i.totalTime(i._totalTime,!0),i=i._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===e&&0!==this._duration||(F.length&&Q(),this.render(e,t,!1),F.length&&Q())}return this},e.progress=e.totalProgress=function(e,t){var n=this.duration();return arguments.length?this.totalTime(n*e,t):n?this._time/n:this.ratio},e.startTime=function(e){return arguments.length?(e!==this._startTime&&(this._startTime=e,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,e-this._delay)),this):this._startTime},e.endTime=function(e){return this._startTime+(0!=e?this.totalDuration():this.duration())/this._timeScale},e.timeScale=function(e){if(!arguments.length)return this._timeScale;var t,n;for(e=e||m,this._timeline&&this._timeline.smoothChildTiming&&(n=(t=this._pauseTime)||0===t?t:this._timeline.totalTime(),this._startTime=n-(n-this._startTime)*this._timeScale/e),this._timeScale=e,n=this.timeline;n&&n.timeline;)n._dirty=!0,n.totalDuration(),n=n.timeline;return this},e.reversed=function(e){return arguments.length?(e!=this._reversed&&(this._reversed=e,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},e.paused=function(e){if(!arguments.length)return this._paused;var t,n,r=this._timeline;return e!=this._paused&&r&&(g||e||A.wake(),n=(t=r.rawTime())-this._pauseTime,!e&&r.smoothChildTiming&&(this._startTime+=n,this._uncache(!1)),this._pauseTime=e?t:null,this._paused=e,this._active=this.isActive(),!e&&0!=n&&this._initted&&this.duration()&&(t=r.smoothChildTiming?this._totalTime:(t-this._startTime)/this._timeScale,this.render(t,t===this._totalTime,!0))),this._gc&&!e&&this._enabled(!0,!1),this};var R=T("core.SimpleTimeline",function(e){l.call(this,0,e),this.autoRemoveChildren=this.smoothChildTiming=!0});function D(e){return e&&e.length&&e!==c&&e[0]&&(e[0]===c||e[0].nodeType&&e[0].style&&!e.nodeType)}(e=R.prototype=new l).constructor=R,e.kill()._gc=!1,e._first=e._last=e._recent=null,e._sortChildren=!1,e.add=e.insert=function(e,t,n,r){var i,o;if(e._startTime=Number(t||0)+e._delay,e._paused&&this!==e._timeline&&(e._pauseTime=this.rawTime()-(e._timeline.rawTime()-e._pauseTime)),e.timeline&&e.timeline._remove(e,!0),e.timeline=e._timeline=this,e._gc&&e._enabled(!0,!0),i=this._last,this._sortChildren)for(o=e._startTime;i&&i._startTime>o;)i=i._prev;return i?(e._next=i._next,i._next=e):(e._next=this._first,this._first=e),e._next?e._next._prev=e:this._last=e,e._prev=i,this._recent=e,this._timeline&&this._uncache(!0),this},e._remove=function(e,t){return e.timeline===this&&(t||e._enabled(!1,!0),e._prev?e._prev._next=e._next:this._first===e&&(this._first=e._next),e._next?e._next._prev=e._prev:this._last===e&&(this._last=e._prev),e._next=e._prev=e.timeline=null,e===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},e.render=function(e,t,n){var r,i=this._first;for(this._totalTime=this._time=this._rawPrevTime=e;i;)r=i._next,(i._active||e>=i._startTime&&!i._paused&&!i._gc)&&(i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(e-i._startTime)*i._timeScale,t,n):i.render((e-i._startTime)*i._timeScale,t,n)),i=r},e.rawTime=function(){return g||A.wake(),this._totalTime};var I=T("TweenLite",function(e,t,n){if(l.call(this,t,n),this.render=I.prototype.render,null==e)throw"Cannot tween a null target.";this.target=e="string"==typeof e&&I.selector(e)||e;n=e.jquery||e.length&&e!==c&&e[0]&&(e[0]===c||e[0].nodeType&&e[0].style&&!e.nodeType);var r,i,o,s=this.vars.overwrite;if(this._overwrite=s=null==s?V[I.defaultOverwrite]:"number"==typeof s?s>>0:V[s],(n||e instanceof Array||e.push&&b(e))&&"number"!=typeof e[0])for(this._targets=o=a(e),this._propLookup=[],this._siblings=[],r=0;r<o.length;r++)(i=o[r])?"string"!=typeof i?i.length&&i!==c&&i[0]&&(i[0]===c||i[0].nodeType&&i[0].style&&!i.nodeType)?(o.splice(r--,1),this._targets=o=o.concat(a(i))):(this._siblings[r]=ee(i,this,!1),1===s&&1<this._siblings[r].length&&te(i,this,null,1,this._siblings[r])):"string"==typeof(i=o[r--]=I.selector(i))&&o.splice(r+1,1):o.splice(r--,1);else this._propLookup={},this._siblings=ee(e,this,!1),1===s&&1<this._siblings.length&&te(e,this,null,1,this._siblings);(this.vars.immediateRender||0===t&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-m,this.render(Math.min(0,-this._delay)))},!0);function j(e){for(var t,n=this._firstPT;n;)t=n.blob?1===e&&null!=this.end?this.end:e?this.join(""):this.start:n.c*e+n.s,n.m?t=n.m.call(this._tween,t,this._target||n.t,this._tween):t<1e-6&&-1e-6<t&&!n.blob&&(t=0),n.f?n.fp?n.t[n.p](n.fp,t):n.t[n.p](t):n.t[n.p]=t,n=n._next}function L(e){return(1e3*e|0)/1e3+""}function N(e,t,n,r){var i,o,s,a,u,l,h=[],c=0,f="",d=0;for(h.start=e,h.end=t,e=h[0]=e+"",t=h[1]=t+"",n&&(n(h),e=h[0],t=h[1]),h.length=0,i=e.match(z)||[],o=t.match(z)||[],r&&(r._next=null,r.blob=1,h._firstPT=h._applyPT=r),a=o.length,s=0;s<a;s++)l=o[s],f+=(u=t.substr(c,t.indexOf(l,c)-c))||!s?u:",",c+=u.length,d?d=(d+1)%5:"rgba("===u.substr(-5)&&(d=1),l===i[s]||i.length<=s?f+=l:(f&&(h.push(f),f=""),u=parseFloat(i[s]),h.push(u),h._firstPT={_next:h._firstPT,t:h,p:h.length-1,s:u,c:("="===l.charAt(1)?parseInt(l.charAt(0)+"1",10)*parseFloat(l.substr(2)):parseFloat(l)-u)||0,f:0,m:d&&d<4?Math.round:L}),c+=l.length;return(f+=t.substr(c))&&h.push(f),h.setRatio=j,X.test(t)&&(h.end=null),h}function B(e,t,n,r,i,o,s,a,u){"function"==typeof r&&(r=r(u||0,e));var l=typeof e[t];u="function"!=l?"":t.indexOf("set")||"function"!=typeof e["get"+t.substr(3)]?t:"get"+t.substr(3),n="get"!==n?n:u?s?e[u](s):e[u]():e[t],u="string"==typeof r&&"="===r.charAt(1),o={t:e,p:t,s:n,f:"function"==l,pg:0,n:i||t,m:o?"function"==typeof o?o:Math.round:0,pr:0,c:u?parseInt(r.charAt(0)+"1",10)*parseFloat(r.substr(2)):parseFloat(r)-n||0};if("number"==typeof n&&("number"==typeof r||u)||(s||isNaN(n)||!u&&isNaN(r)||"boolean"==typeof n||"boolean"==typeof r?(o.fp=s,o={t:N(n,u?parseFloat(o.s)+o.c+(o.s+"").replace(/[0-9\-\.]/g,""):r,a||I.defaultStringFilter,o),p:"setRatio",s:0,c:1,f:2,pg:0,n:i||t,pr:0,m:0}):(o.s=parseFloat(n),u||(o.c=parseFloat(r)-o.s||0))),o.c)return(o._next=this._firstPT)&&(o._next._prev=o),this._firstPT=o}(e=I.prototype=new l).constructor=I,e.kill()._gc=!1,e.ratio=0,e._firstPT=e._targets=e._overwrittenProps=e._startAt=null,e._notifyPluginsOfEnabled=e._lazy=!1,I.version="2.1.3",I.defaultEase=e._ease=new E(null,null,1,1),I.defaultOverwrite="auto",I.ticker=A,I.autoSleep=120,I.lagSmoothing=function(e,t){A.lagSmoothing(e,t)},I.selector=c.$||c.jQuery||function(e){var t=c.$||c.jQuery;return t?(I.selector=t)(e):(d=d||c.document)?d.querySelectorAll?d.querySelectorAll(e):d.getElementById("#"===e.charAt(0)?e.substr(1):e):e};var F=[],U={},z=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,X=/[\+-]=-?[\.\d]/,H=I._internals={isArray:b,isSelector:D,lazyTweens:F,blobDif:N},Y=I._plugins={},G=H.tweenLookup={},W=0,q=H.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1,stagger:1},V={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},K=l._rootFramesTimeline=new R,J=l._rootTimeline=new R,$=30,Q=H.lazyRender=function(){var e,t,n=F.length;for(U={},e=0;e<n;e++)(t=F[e])&&!1!==t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);F.length=0};function Z(e,t,n,r){var i,o,s=e.vars.onOverwrite;return s&&(i=s(e,t,n,r)),(s=I.onOverwrite)&&(o=s(e,t,n,r)),!1!==i&&!1!==o}J._startTime=A.time,K._startTime=A.frame,J._active=K._active=!0,setTimeout(Q,1),l._updateRoot=I.render=function(){var e,t,n;if(F.length&&Q(),J.render((A.time-J._startTime)*J._timeScale,!1,!1),K.render((A.frame-K._startTime)*K._timeScale,!1,!1),F.length&&Q(),A.frame>=$){for(n in $=A.frame+(parseInt(I.autoSleep,10)||120),G){for(e=(t=G[n].tweens).length;-1<--e;)t[e]._gc&&t.splice(e,1);0===t.length&&delete G[n]}if((!(n=J._first)||n._paused)&&I.autoSleep&&!K._first&&1===A._listeners.tick.length){for(;n&&n._paused;)n=n._next;n||A.sleep()}}},A.addEventListener("tick",l._updateRoot);var ee=function(e,t,n){var r,i,o=e._gsTweenID;if(G[o||(e._gsTweenID=o="t"+W++)]||(G[o]={target:e,tweens:[]}),t&&((r=G[o].tweens)[i=r.length]=t,n))for(;-1<--i;)r[i]===t&&r.splice(i,1);return G[o].tweens},te=function(e,t,n,r,i){var o,s,a;if(1===r||4<=r){for(a=i.length,d=0;d<a;d++)if((s=i[d])!==t)s._gc||s._kill(null,e,t)&&(o=!0);else if(5===r)break;return o}for(var u,l=t._startTime+m,h=[],c=0,f=0===t._duration,d=i.length;-1<--d;)(s=i[d])===t||s._gc||s._paused||(s._timeline!==t._timeline?(u=u||ne(t,0,f),0===ne(s,u,f)&&(h[c++]=s)):s._startTime<=l&&s._startTime+s.totalDuration()/s._timeScale>l&&((f||!s._initted)&&l-s._startTime<=2e-8||(h[c++]=s)));for(d=c;-1<--d;)a=(s=h[d])._firstPT,2===r&&s._kill(n,e,t)&&(o=!0),(2!==r||!s._firstPT&&s._initted&&a)&&(2===r||Z(s,t))&&s._enabled(!1,!1)&&(o=!0);return o},ne=function(e,t,n){for(var r=e._timeline,i=r._timeScale,o=e._startTime;r._timeline;){if(o+=r._startTime,i*=r._timeScale,r._paused)return-100;r=r._timeline}return t<(o/=i)?o-t:n&&o===t||!e._initted&&o-t<2e-8?m:(o+=e.totalDuration()/e._timeScale/i)>t+m?0:o-t-m};e._init=function(){var e,t,n,r,i,o,s=this.vars,a=this._overwrittenProps,u=this._duration,l=!!s.immediateRender,h=s.ease,c=this._startAt;if(s.startAt){for(r in c&&(c.render(-1,!0),c.kill()),i={},s.startAt)i[r]=s.startAt[r];if(i.data="isStart",i.overwrite=!1,i.immediateRender=!0,i.lazy=l&&!1!==s.lazy,i.startAt=i.delay=null,i.onUpdate=s.onUpdate,i.onUpdateParams=s.onUpdateParams,i.onUpdateScope=s.onUpdateScope||s.callbackScope||this,this._startAt=I.to(this.target||{},0,i),l)if(0<this._time)this._startAt=null;else if(0!==u)return}else if(s.runBackwards&&0!==u)if(c)c.render(-1,!0),c.kill(),this._startAt=null;else{for(r in 0!==this._time&&(l=!1),n={},s)q[r]&&"autoCSS"!==r||(n[r]=s[r]);if(n.overwrite=0,n.data="isFromStart",n.lazy=l&&!1!==s.lazy,n.immediateRender=l,this._startAt=I.to(this.target,0,n),l){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=h=h?h instanceof E?h:"function"==typeof h?new E(h,s.easeParams):O[h]||I.defaultEase:I.defaultEase,s.easeParams instanceof Array&&h.config&&(this._ease=h.config.apply(h,s.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(o=this._targets.length,e=0;e<o;e++)this._initProps(this._targets[e],this._propLookup[e]={},this._siblings[e],a?a[e]:null,e)&&(t=!0);else t=this._initProps(this.target,this._propLookup,this._siblings,a,0);if(t&&I._onPluginEvent("_onInitAllProps",this),a&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),s.runBackwards)for(n=this._firstPT;n;)n.s+=n.c,n.c=-n.c,n=n._next;this._onUpdate=s.onUpdate,this._initted=!0},e._initProps=function(e,t,n,r,i){var o,s,a,u,l,h;if(null==e)return!1;for(o in U[e._gsTweenID]&&Q(),this.vars.css||e.style&&e!==c&&e.nodeType&&Y.css&&!1!==this.vars.autoCSS&&function(e,t){var n,r={};for(n in e)q[n]||n in t&&"transform"!==n&&"x"!==n&&"y"!==n&&"width"!==n&&"height"!==n&&"className"!==n&&"border"!==n||!(!Y[n]||Y[n]&&Y[n]._autoCSS)||(r[n]=e[n],delete e[n]);e.css=r}(this.vars,e),this.vars)if(h=this.vars[o],q[o])h&&(h instanceof Array||h.push&&b(h))&&-1!==h.join("").indexOf("{self}")&&(this.vars[o]=h=this._swapSelfInParams(h,this));else if(Y[o]&&(u=new Y[o])._onInitTween(e,this.vars[o],this,i)){for(this._firstPT=l={_next:this._firstPT,t:u,p:"setRatio",s:0,c:1,f:1,n:o,pg:1,pr:u._priority,m:0},s=u._overwriteProps.length;-1<--s;)t[u._overwriteProps[s]]=this._firstPT;(u._priority||u._onInitAllProps)&&(a=!0),(u._onDisable||u._onEnable)&&(this._notifyPluginsOfEnabled=!0),l._next&&(l._next._prev=l)}else t[o]=B.call(this,e,o,"get",h,o,0,null,this.vars.stringFilter,i);return r&&this._kill(r,e)?this._initProps(e,t,n,r,i):1<this._overwrite&&this._firstPT&&1<n.length&&te(e,this,t,this._overwrite,n)?(this._kill(t,e),this._initProps(e,t,n,r,i)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(U[e._gsTweenID]=!0),a)},e.render=function(e,t,n){var r,i,o,s,a,u,l,h=this,c=h._time,f=h._duration,d=h._rawPrevTime;if(f-m<=e&&0<=e?(h._totalTime=h._time=f,h.ratio=h._ease._calcEnd?h._ease.getRatio(1):1,h._reversed||(r=!0,i="onComplete",n=n||h._timeline.autoRemoveChildren),0===f&&(!h._initted&&h.vars.lazy&&!n||(h._startTime===h._timeline._duration&&(e=0),(d<0||e<=0&&-m<=e||d===m&&"isPause"!==h.data)&&d!==e&&(n=!0,m<d&&(i="onReverseComplete")),h._rawPrevTime=s=!t||e||d===e?e:m))):e<m?(h._totalTime=h._time=0,h.ratio=h._ease._calcEnd?h._ease.getRatio(0):0,(0!==c||0===f&&0<d)&&(i="onReverseComplete",r=h._reversed),-m<e?e=0:e<0&&(h._active=!1,0===f&&(!h._initted&&h.vars.lazy&&!n||(0<=d&&(d!==m||"isPause"!==h.data)&&(n=!0),h._rawPrevTime=s=!t||e||d===e?e:m))),(!h._initted||h._startAt&&h._startAt.progress())&&(n=!0)):(h._totalTime=h._time=e,h._easeType?(a=e/f,(1===(u=h._easeType)||3===u&&.5<=a)&&(a=1-a),3===u&&(a*=2),1===(l=h._easePower)?a*=a:2===l?a*=a*a:3===l?a*=a*a*a:4===l&&(a*=a*a*a*a),h.ratio=1===u?1-a:2===u?a:e/f<.5?a/2:1-a/2):h.ratio=h._ease.getRatio(e/f)),h._time!==c||n){if(!h._initted){if(h._init(),!h._initted||h._gc)return;if(!n&&h._firstPT&&(!1!==h.vars.lazy&&h._duration||h.vars.lazy&&!h._duration))return h._time=h._totalTime=c,h._rawPrevTime=d,F.push(h),void(h._lazy=[e,t]);h._time&&!r?h.ratio=h._ease.getRatio(h._time/f):r&&h._ease._calcEnd&&(h.ratio=h._ease.getRatio(0===h._time?0:1))}for(!1!==h._lazy&&(h._lazy=!1),h._active||!h._paused&&h._time!==c&&0<=e&&(h._active=!0),0===c&&(h._startAt&&(0<=e?h._startAt.render(e,!0,n):i=i||"_dummyGS"),h.vars.onStart&&(0===h._time&&0!==f||t||h._callback("onStart"))),o=h._firstPT;o;)o.f?o.t[o.p](o.c*h.ratio+o.s):o.t[o.p]=o.c*h.ratio+o.s,o=o._next;h._onUpdate&&(e<0&&h._startAt&&-1e-4!==e&&h._startAt.render(e,!0,n),t||(h._time!==c||r||n)&&h._callback("onUpdate")),i&&(h._gc&&!n||(e<0&&h._startAt&&!h._onUpdate&&-1e-4!==e&&h._startAt.render(e,!0,n),r&&(h._timeline.autoRemoveChildren&&h._enabled(!1,!1),h._active=!1),!t&&h.vars[i]&&h._callback(i),0===f&&h._rawPrevTime===m&&s!==m&&(h._rawPrevTime=0)))}},e._kill=function(e,t,n){if(null==(e="all"===e?null:e)&&(null==t||t===this.target))return this._lazy=!1,this._enabled(!1,!1);t="string"!=typeof t?t||this._targets||this.target:I.selector(t)||t;var r,i,o,s,a,u,l,h,c,f=n&&this._time&&n._startTime===this._startTime&&this._timeline===n._timeline,d=this._firstPT;if((b(t)||D(t))&&"number"!=typeof t[0])for(r=t.length;-1<--r;)this._kill(e,t[r],n)&&(u=!0);else{if(this._targets){for(r=this._targets.length;-1<--r;)if(t===this._targets[r]){a=this._propLookup[r]||{},this._overwrittenProps=this._overwrittenProps||[],i=this._overwrittenProps[r]=e?this._overwrittenProps[r]||{}:"all";break}}else{if(t!==this.target)return!1;a=this._propLookup,i=this._overwrittenProps=e?this._overwrittenProps||{}:"all"}if(a){if(l=e||a,h=e!==i&&"all"!==i&&e!==a&&("object"!=typeof e||!e._tempKill),n&&(I.onOverwrite||this.vars.onOverwrite)){for(o in l)a[o]&&(c=c||[]).push(o);if((c||!e)&&!Z(this,n,t,c))return!1}for(o in l)(s=a[o])&&(f&&(s.f?s.t[s.p](s.s):s.t[s.p]=s.s,u=!0),s.pg&&s.t._kill(l)&&(u=!0),s.pg&&0!==s.t._overwriteProps.length||(s._prev?s._prev._next=s._next:s===this._firstPT&&(this._firstPT=s._next),s._next&&(s._next._prev=s._prev),s._next=s._prev=null),delete a[o]),h&&(i[o]=1);!this._firstPT&&this._initted&&d&&this._enabled(!1,!1)}}return u},e.invalidate=function(){this._notifyPluginsOfEnabled&&I._onPluginEvent("_onDisable",this);var e=this._time;return this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],l.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-m,this.render(e,!1,!1!==this.vars.lazy)),this},e._enabled=function(e,t){if(g||A.wake(),e&&this._gc){var n,r=this._targets;if(r)for(n=r.length;-1<--n;)this._siblings[n]=ee(r[n],this,!0);else this._siblings=ee(this.target,this,!0)}return l.prototype._enabled.call(this,e,t),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&I._onPluginEvent(e?"_onEnable":"_onDisable",this)},I.to=function(e,t,n){return new I(e,t,n)},I.from=function(e,t,n){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,new I(e,t,n)},I.fromTo=function(e,t,n,r){return r.startAt=n,r.immediateRender=0!=r.immediateRender&&0!=n.immediateRender,new I(e,t,r)},I.delayedCall=function(e,t,n,r,i){return new I(t,0,{delay:e,onComplete:t,onCompleteParams:n,callbackScope:r,onReverseComplete:t,onReverseCompleteParams:n,immediateRender:!1,lazy:!1,useFrames:i,overwrite:0})},I.set=function(e,t){return new I(e,0,t)},I.getTweensOf=function(e,t){if(null==e)return[];var n,r,i,o;if(e="string"==typeof e&&I.selector(e)||e,(b(e)||D(e))&&"number"!=typeof e[0]){for(n=e.length,r=[];-1<--n;)r=r.concat(I.getTweensOf(e[n],t));for(n=r.length;-1<--n;)for(o=r[n],i=n;-1<--i;)o===r[i]&&r.splice(n,1)}else if(e._gsTweenID)for(n=(r=ee(e).concat()).length;-1<--n;)(r[n]._gc||t&&!r[n].isActive())&&r.splice(n,1);return r||[]},I.killTweensOf=I.killDelayedCallsTo=function(e,t,n){"object"==typeof t&&(n=t,t=!1);for(var r=I.getTweensOf(e,t),i=r.length;-1<--i;)r[i]._kill(n,e)};var re=T("plugins.TweenPlugin",function(e,t){this._overwriteProps=(e||"").split(","),this._propName=this._overwriteProps[0],this._priority=t||0,this._super=re.prototype},!0);if(e=re.prototype,re.version="1.19.0",re.API=2,e._firstPT=null,e._addTween=B,e.setRatio=j,e._kill=function(e){var t,n=this._overwriteProps,r=this._firstPT;if(null!=e[this._propName])this._overwriteProps=[];else for(t=n.length;-1<--t;)null!=e[n[t]]&&n.splice(t,1);for(;r;)null!=e[r.n]&&(r._next&&(r._next._prev=r._prev),r._prev?(r._prev._next=r._next,r._prev=null):this._firstPT===r&&(this._firstPT=r._next)),r=r._next;return!1},e._mod=e._roundProps=function(e){for(var t,n=this._firstPT;n;)(t=e[this._propName]||null!=n.n&&e[n.n.split(this._propName+"_").join("")])&&"function"==typeof t&&(2===n.f?n.t._applyPT.m=t:n.m=t),n=n._next},I._onPluginEvent=function(e,t){var n,r,i,o,s,a=t._firstPT;if("_onInitAllProps"===e){for(;a;){for(s=a._next,r=i;r&&r.pr>a.pr;)r=r._next;(a._prev=r?r._prev:o)?a._prev._next=a:i=a,(a._next=r)?r._prev=a:o=a,a=s}a=t._firstPT=i}for(;a;)a.pg&&"function"==typeof a.t[e]&&a.t[e]()&&(n=!0),a=a._next;return n},re.activate=function(e){for(var t=e.length;-1<--t;)e[t].API===re.API&&(Y[(new e[t])._propName]=e[t]);return!0},r.plugin=function(e){if(!(e&&e.propName&&e.init&&e.API))throw"illegal plugin definition.";var t,n=e.propName,r=e.priority||0,i=e.overwriteProps,o={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},s=T("plugins."+n.charAt(0).toUpperCase()+n.substr(1)+"Plugin",function(){re.call(this,n,r),this._overwriteProps=i||[]},!0===e.global),a=s.prototype=new re(n);for(t in(a.constructor=s).API=e.API,o)"function"==typeof e[t]&&(a[o[t]]=e[t]);return s.version=e.version,re.activate([s]),s},s=c._gsQueue){for(u=0;u<s.length;u++)s[u]();for(e in w)w[e].func||c.console.log("GSAP encountered missing dependency: "+e)}return g=!1,I}(n),i=n.GreenSockGlobals,o=(t=i.com.greensock).core.SimpleTimeline,s=t.core.Animation,a=i.Ease,u=i.Linear,l=u,h=i.Power1,c=i.Power2,f=i.Power3,d=i.Power4,p=i.TweenPlugin,v=t.events.EventDispatcher}.call(this,g(147)(e),g(16))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION="0.0.11",t.PI_2=2*Math.PI,t.RAD_TO_DEG=180/Math.PI,t.DEG_TO_RAD=Math.PI/180,t.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},t.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19},t.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},t.SCALE_MODES={LINEAR:0,NEAREST:1},t.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},t.GC_MODES={AUTO:0,MANUAL:1},t.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i,t.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i,t.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,t.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},t.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"},t.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},t.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},t.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Application=t.Filter=t.Quad=t.RenderTarget=t.ObjectRenderer=t.WebGLManager=t.Shader=t.RenderTexture=t.BaseTexture=t.TextureMatrix=t.Texture=t.Spritesheet=t.TextMetrics=t.TextStyle=t.Text=t.SpriteRenderer=t.CanvasTinter=t.CanvasSpriteRenderer=t.Sprite=t.TransformBase=t.TransformStatic=t.Transform=t.Container=t.DisplayObject=t.Bounds=t.WebGLRenderer=t.CanvasRenderer=t.ticker=t.utils=t.settings=void 0;var r=n(1);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var i=n(5);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var o=n(31);Object.defineProperty(t,"Bounds",{enumerable:!0,get:function(){return j(o).default}});var s=n(32);Object.defineProperty(t,"DisplayObject",{enumerable:!0,get:function(){return j(s).default}});var a=n(13);Object.defineProperty(t,"Container",{enumerable:!0,get:function(){return j(a).default}});var u=n(34);Object.defineProperty(t,"Transform",{enumerable:!0,get:function(){return j(u).default}});var l=n(33);Object.defineProperty(t,"TransformStatic",{enumerable:!0,get:function(){return j(l).default}});var h=n(20);Object.defineProperty(t,"TransformBase",{enumerable:!0,get:function(){return j(h).default}});var c=n(35);Object.defineProperty(t,"Sprite",{enumerable:!0,get:function(){return j(c).default}});var f=n(99);Object.defineProperty(t,"CanvasSpriteRenderer",{enumerable:!0,get:function(){return j(f).default}});var d=n(41);Object.defineProperty(t,"CanvasTinter",{enumerable:!0,get:function(){return j(d).default}});var p=n(104);Object.defineProperty(t,"SpriteRenderer",{enumerable:!0,get:function(){return j(p).default}});var v=n(130);Object.defineProperty(t,"Text",{enumerable:!0,get:function(){return j(v).default}});var y=n(56);Object.defineProperty(t,"TextStyle",{enumerable:!0,get:function(){return j(y).default}});var g=n(57);Object.defineProperty(t,"TextMetrics",{enumerable:!0,get:function(){return j(g).default}});var _=n(132);Object.defineProperty(t,"Spritesheet",{enumerable:!0,get:function(){return j(_).default}});var m=n(9);Object.defineProperty(t,"Texture",{enumerable:!0,get:function(){return j(m).default}});var b=n(52);Object.defineProperty(t,"TextureMatrix",{enumerable:!0,get:function(){return j(b).default}});var w=n(10);Object.defineProperty(t,"BaseTexture",{enumerable:!0,get:function(){return j(w).default}});var x=n(39);Object.defineProperty(t,"RenderTexture",{enumerable:!0,get:function(){return j(x).default}});var T=n(27);Object.defineProperty(t,"Shader",{enumerable:!0,get:function(){return j(T).default}});var E=n(11);Object.defineProperty(t,"WebGLManager",{enumerable:!0,get:function(){return j(E).default}});var O=n(24);Object.defineProperty(t,"ObjectRenderer",{enumerable:!0,get:function(){return j(O).default}});var P=n(14);Object.defineProperty(t,"RenderTarget",{enumerable:!0,get:function(){return j(P).default}});var S=n(53);Object.defineProperty(t,"Quad",{enumerable:!0,get:function(){return j(S).default}});var k=n(42);Object.defineProperty(t,"Filter",{enumerable:!0,get:function(){return j(k).default}});var C=n(58);Object.defineProperty(t,"Application",{enumerable:!0,get:function(){return j(C).default}});var M=I(n(4)),A=I(n(22)),R=j(n(3)),D=j(n(23));n=j(n(25));function I(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function j(e){return e&&e.__esModule?e:{default:e}}t.settings=R.default,t.utils=M,t.ticker=A,t.CanvasRenderer=D.default,t.WebGLRenderer=n.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(83));n=i(n(84));function i(e){return e&&e.__esModule?e:{default:e}}t.default={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,r.default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1,width:800,height:600,legacy:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:"mediump",CAN_UPLOAD_SAME_BUFFER:(0,n.default)(),MESH_CANVAS_PADDING:0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.premultiplyBlendMode=t.BaseTextureCache=t.TextureCache=t.mixins=t.pluginTarget=t.EventEmitter=t.removeItems=void 0,t.uid=function(){return++h},t.hex2rgb=function(e,t){return(t=t||[])[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(255&e)/255,t},t.hex2string=function(e){return e=e.toString(16),"#"+("000000".substr(0,6-e.length)+e)},t.rgb2hex=function(e){return(255*e[0]<<16)+(255*e[1]<<8)+(255*e[2]|0)},t.getResolutionOfUrl=function(e,t){return(e=i.default.RETINA_PREFIX.exec(e))?parseFloat(e[1]):void 0!==t?t:1},t.decomposeDataUri=function(e){if(e=r.DATA_URI.exec(e))return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}},t.getUrlFileExtension=function(e){if(e=r.URL_FILE_EXTENSION.exec(e))return e[1].toLowerCase()},t.getSvgSize=function(e){var t=r.SVG_SIZE.exec(e);e={};return t&&(e[t[1]]=Math.round(parseFloat(t[3])),e[t[5]]=Math.round(parseFloat(t[7]))),e},t.skipHello=function(){c=!0},t.sayHello=function(e){var t;c||(-1<navigator.userAgent.toLowerCase().indexOf("chrome")?(t=["\n %c %c %c SINTJS "+r.VERSION+" - ✰ "+e+" ✰  %c  %c  http://www.sintlib.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"],window.console.log.apply(console,t)):window.console&&window.console.log("SINTJS "+r.VERSION+" - "+e+" - http://www.sintlib.com/"),c=!0)},t.isWebGLSupported=function(){var e={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var t,n=document.createElement("canvas"),r=n.getContext("webgl",e)||n.getContext("experimental-webgl",e),i=!(!r||!r.getContextAttributes().stencil);return!r||(t=r.getExtension("WEBGL_lose_context"))&&t.loseContext(),r=null,i}catch(e){return!1}},t.sign=function(e){return 0===e?0:e<0?-1:1},t.destroyTextureCache=function(){var e=void 0;for(e in f)f[e].destroy();for(e in d)d[e].destroy()},t.clearTextureCache=function(){var e=void 0;for(e in f)delete f[e];for(e in d)delete d[e]},t.correctBlendMode=function(e,t){return p[t?1:0][e]},t.premultiplyTint=function(e,t){if(1===t)return(255*t<<24)+e;if(0===t)return 0;var n=e>>16&255,r=e>>8&255;return(255*t<<24)+((n=n*t+.5|0)<<16)+((r=r*t+.5|0)<<8)+((e=255&e)*t+.5|0)},t.premultiplyRgba=function(e,t,n,r){return n=n||new Float32Array(4),r||void 0===r?(n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t):(n[0]=e[0],n[1]=e[1],n[2]=e[2]),n[3]=t,n},t.premultiplyTintToRgba=function(e,t,n,r){return(n=n||new Float32Array(4))[0]=(e>>16&255)/255,n[1]=(e>>8&255)/255,n[2]=(255&e)/255,!r&&void 0!==r||(n[0]*=t,n[1]*=t,n[2]*=t),n[3]=t,n};var r=n(1),i=l(n(3)),o=l(n(6)),s=l(n(85)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(86)),u=l(n(87));n=l(n(88));function l(e){return e&&e.__esModule?e:{default:e}}var h=0,c=!1;t.removeItems=u.default,t.EventEmitter=o.default,t.pluginTarget=s.default,t.mixins=a;var f=t.TextureCache=Object.create(null),d=t.BaseTextureCache=Object.create(null),p=t.premultiplyBlendMode=(0,n.default)()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17);Object.defineProperty(t,"Point",{enumerable:!0,get:function(){return f(r).default}});var i=n(78);Object.defineProperty(t,"ObservablePoint",{enumerable:!0,get:function(){return f(i).default}});var o=n(18);Object.defineProperty(t,"Matrix",{enumerable:!0,get:function(){return f(o).default}});var s=n(30);Object.defineProperty(t,"GroupD8",{enumerable:!0,get:function(){return f(s).default}});var a=n(79);Object.defineProperty(t,"Circle",{enumerable:!0,get:function(){return f(a).default}});var u=n(80);Object.defineProperty(t,"Ellipse",{enumerable:!0,get:function(){return f(u).default}});var l=n(81);Object.defineProperty(t,"Polygon",{enumerable:!0,get:function(){return f(l).default}});var h=n(19);Object.defineProperty(t,"Rectangle",{enumerable:!0,get:function(){return f(h).default}});var c=n(82);function f(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"RoundedRectangle",{enumerable:!0,get:function(){return f(c).default}})},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,d="~";function i(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,n,r,i){if("function"!=typeof n)throw new TypeError("The listener must be a function");return i=new o(n,r||e,i),t=d?d+t:t,e._events[t]?e._events[t].fn?e._events[t]=[e._events[t],i]:e._events[t].push(i):(e._events[t]=i,e._eventsCount++),e}function u(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function a(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(d=!1)),a.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(d?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},a.prototype.listeners=function(e){var t=this._events[d?d+e:e];if(!t)return[];if(t.fn)return[t.fn];for(var n=0,r=t.length,i=new Array(r);n<r;n++)i[n]=t[n].fn;return i},a.prototype.listenerCount=function(e){return(e=this._events[d?d+e:e])?e.fn?1:e.length:0},a.prototype.emit=function(e,t,n,r,i,o){var s=d?d+e:e;if(!this._events[s])return!1;var a,u=this._events[s],l=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),l){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,r),!0;case 5:return u.fn.call(u.context,t,n,r,i),!0;case 6:return u.fn.call(u.context,t,n,r,i,o),!0}for(f=1,a=new Array(l-1);f<l;f++)a[f-1]=arguments[f];u.fn.apply(u.context,a)}else for(var h,c=u.length,f=0;f<c;f++)switch(u[f].once&&this.removeListener(e,u[f].fn,void 0,!0),l){case 1:u[f].fn.call(u[f].context);break;case 2:u[f].fn.call(u[f].context,t);break;case 3:u[f].fn.call(u[f].context,t,n);break;case 4:u[f].fn.call(u[f].context,t,n,r);break;default:if(!a)for(h=1,a=new Array(l-1);h<l;h++)a[h-1]=arguments[h];u[f].fn.apply(u[f].context,a)}return!0},a.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},a.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},a.prototype.removeListener=function(e,t,n,r){if(e=d?d+e:e,!this._events[e])return this;if(!t)return u(this,e),this;var i=this._events[e];if(i.fn)i.fn!==t||r&&!i.once||n&&i.context!==n||u(this,e);else{for(var o=0,s=[],a=i.length;o<a;o++)(i[o].fn!==t||r&&!i[o].once||n&&i[o].context!==n)&&s.push(i[o]);s.length?this._events[e]=1===s.length?s[0]:s:u(this,e)}return this},a.prototype.removeAllListeners=function(e){return e?this._events[e=d?d+e:e]&&u(this,e):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=d,e.exports=a.EventEmitter=a},function(e,t,n){n={createContext:n(108),setVertexAttribArrays:n(43),GLBuffer:n(109),GLFramebuffer:n(110),GLShader:n(111),GLTexture:n(44),VertexArrayObject:n(112),shader:n(113)},e.exports&&(e.exports=n),"undefined"!=typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=n)},function(e,t){e.exports="#define GLSLIFY 1\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=c(n(10)),i=c(n(95)),s=c(n(98)),a=c(n(6)),u=n(5),l=n(4),h=c(n(3));function c(e){return e&&e.__esModule?e:{default:e}}var f,d,p,v=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(y,a.default),f=y,p=[{key:"fromImage",value:function(e,t,n,r){var i=l.TextureCache[e];return i||(i=new y(o.default.fromImage(e,t,n,r)),y.addToCache(i,e)),i}},{key:"fromFrame",value:function(e){var t=l.TextureCache[e];if(!t)throw new Error('The frameId "'+e+'" does not exist in the texture cache');return t}},{key:"fromCanvas",value:function(e,t){return new y(o.default.fromCanvas(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:"canvas"))}},{key:"fromVideo",value:function(e,t,n,r){return"string"==typeof e?y.fromVideoUrl(e,t,n,r):new y(i.default.fromVideo(e,t,r))}},{key:"fromVideoUrl",value:function(e,t,n,r){return new y(i.default.fromUrl(e,t,n,r))}},{key:"from",value:function(e){return"string"!=typeof e?e instanceof HTMLImageElement?new y(o.default.from(e)):e instanceof HTMLCanvasElement?y.fromCanvas(e,h.default.SCALE_MODE,"HTMLCanvasElement"):e instanceof HTMLVideoElement?y.fromVideo(e):e instanceof o.default?new y(e):e:l.TextureCache[e]||(null!==e.match(/\.(mp4|webm|ogg|h264|avi|mov)$/)?y.fromVideoUrl(e):y.fromImage(e))}},{key:"fromLoader",value:function(e,t,n){var r=new o.default(e,void 0,(0,l.getResolutionOfUrl)(t));e=new y(r);return r.imageUrl=t,o.default.addToCache(e.baseTexture,n=n||t),y.addToCache(e,n),n!==t&&(o.default.addToCache(e.baseTexture,t),y.addToCache(e,t)),e}},{key:"addToCache",value:function(e,t){t&&(-1===e.textureCacheIds.indexOf(t)&&e.textureCacheIds.push(t),l.TextureCache[t]&&console.warn("Texture added to the cache with an id ["+t+"] that already had an entry"),l.TextureCache[t]=e)}},{key:"removeFromCache",value:function(e){if("string"==typeof e){var t=l.TextureCache[e];if(t){var n=t.textureCacheIds.indexOf(e);return-1<n&&t.textureCacheIds.splice(n,1),delete l.TextureCache[e],t}}else if(e&&e.textureCacheIds){for(var r=0;r<e.textureCacheIds.length;++r)l.TextureCache[e.textureCacheIds[r]]===e&&delete l.TextureCache[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}}],(d=[{key:"update",value:function(){this.baseTexture.update()}},{key:"onBaseTextureLoaded",value:function(e){this._updateID++,this.noFrame?this.frame=new u.Rectangle(0,0,e.width,e.height):this.frame=this._frame,this.baseTexture.on("update",this.onBaseTextureUpdated,this),this.emit("update",this)}},{key:"onBaseTextureUpdated",value:function(e){this._updateID++,this._frame.width=e.width,this._frame.height=e.height,this.emit("update",this)}},{key:"destroy",value:function(e){this.baseTexture&&(e&&(l.TextureCache[this.baseTexture.imageUrl]&&y.removeFromCache(this.baseTexture.imageUrl),this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,y.removeFromCache(this),this.textureCacheIds=null}},{key:"clone",value:function(){return new y(this.baseTexture,this.frame,this.orig,this.trim,this.rotate)}},{key:"_updateUvs",value:function(){this._uvs||(this._uvs=new s.default),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}},{key:"frame",get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var t=e.x,n=e.y,r=e.width,i=e.height,o=t+r>this.baseTexture.width,s=n+i>this.baseTexture.height;if(o||s)throw t="X: "+t+" + "+r+" = "+(t+r)+" > "+this.baseTexture.width,n="Y: "+n+" + "+i+" = "+(n+i)+" > "+this.baseTexture.height,new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+t+" "+(o&&s?"and":"or")+" "+n);this.valid=r&&i&&this.baseTexture.hasLoaded,this.trim||this.rotate||(this.orig=e),this.valid&&this._updateUvs()}},{key:"rotate",get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this._updateUvs()}},{key:"width",get:function(){return this.orig.width}},{key:"height",get:function(){return this.orig.height}}])&&r(f.prototype,d),p&&r(f,p),y);function y(e,t,n,r,i,o){!function(e){if(!(e instanceof y))throw new TypeError("Cannot call a class as a function")}(this);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(y.__proto__||Object.getPrototypeOf(y)).call(this));if(s.noFrame=!1,t||(s.noFrame=!0,t=new u.Rectangle(0,0,1,1)),e instanceof y&&(e=e.baseTexture),s.baseTexture=e,s._frame=t,s.trim=r,s.valid=!1,s.requiresUpdate=!1,s._uvs=null,s.orig=n||t,s._rotate=Number(i||0),!0===i)s._rotate=2;else if(s._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return e.hasLoaded?(s.noFrame&&(t=new u.Rectangle(0,0,e.width,e.height),e.on("update",s.onBaseTextureUpdated,s)),s.frame=t):e.once("loaded",s.onBaseTextureLoaded,s),s.defaultAnchor=o?new u.Point(o.x,o.y):new u.Point(0,0),s._updateID=0,s.transform=null,s.textureCacheIds=[],s}function g(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}(t.default=v).EMPTY=new v(new o.default),g(v.EMPTY),g(v.EMPTY.baseTexture),v.WHITE=function(){var e=document.createElement("canvas");e.width=10,e.height=10;var t=e.getContext("2d");return t.fillStyle="white",t.fillRect(0,0,10,10),new v(new o.default(e))}(),g(v.WHITE),g(v.WHITE.baseTexture)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=n(4),o=h(n(3)),a=h(n(6)),u=h(n(36)),l=h(n(21));function h(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n){!function(e){if(!(e instanceof c))throw new TypeError("Cannot call a class as a function")}(this);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return r.uid=(0,s.uid)(),r.touched=0,r.resolution=n||o.default.RESOLUTION,r.width=100,r.height=100,r.realWidth=100,r.realHeight=100,r.scaleMode=void 0!==t?t:o.default.SCALE_MODE,r.hasLoaded=!1,r.isLoading=!1,r.source=null,r.origSource=null,r.imageType=null,r.sourceScale=1,r.premultipliedAlpha=!0,r.imageUrl=null,r.isPowerOfTwo=!1,r.mipmap=o.default.MIPMAP_TEXTURES,r.wrapMode=o.default.WRAP_MODE,r._glTextures={},r._enabled=0,r._virtalBoundId=-1,r._destroyed=!1,r.textureCacheIds=[],e&&r.loadSource(e),r}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(c,a.default),r(c,[{key:"update",value:function(){"svg"!==this.imageType&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions()),this.emit("update",this)}},{key:"_updateDimensions",value:function(){this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=l.default.isPow2(this.realWidth)&&l.default.isPow2(this.realHeight)}},{key:"loadSource",value:function(e){var t=this.isLoading;this.hasLoaded=!1,this.isLoading=!1,t&&this.source&&(this.source.onload=null,this.source.onerror=null);var n,r=!this.source;((this.source=e).src&&e.complete||e.getContext)&&e.width&&e.height?(this._updateImageType(),"svg"===this.imageType?this._loadSvgSource():this._sourceLoaded(),r&&this.emit("loaded",this)):e.getContext||(this.isLoading=!0,n=this,e.onload=function(){n._updateImageType(),e.onload=null,e.onerror=null,n.isLoading&&(n.isLoading=!1,n._sourceLoaded(),"svg"!==n.imageType?n.emit("loaded",n):n._loadSvgSource())},e.onerror=function(){e.onload=null,e.onerror=null,n.isLoading&&(n.isLoading=!1,n.emit("error",n))},e.complete&&e.src&&(e.onload=null,e.onerror=null,"svg"!==n.imageType?(this.isLoading=!1,e.width&&e.height?(this._sourceLoaded(),t&&this.emit("loaded",this)):t&&this.emit("error",this)):n._loadSvgSource()))}},{key:"_updateImageType",value:function(){if(this.imageUrl){var e=(0,s.decomposeDataUri)(this.imageUrl),t=void 0;if(e&&"image"===e.mediaType){if(e=e.subType.split("+")[0],!(t=(0,s.getUrlFileExtension)("."+e)))throw new Error("Invalid image type in data URI.")}else t=(t=(0,s.getUrlFileExtension)(this.imageUrl))||"png";this.imageType=t}}},{key:"_loadSvgSource",value:function(){var e;"svg"===this.imageType&&((e=(0,s.decomposeDataUri)(this.imageUrl))?this._loadSvgSourceUsingDataUri(e):this._loadSvgSourceUsingXhr())}},{key:"_loadSvgSourceUsingDataUri",value:function(e){var t=void 0;if("base64"===e.encoding){if(!atob)throw new Error("Your browser doesn't support base64 conversions.");t=atob(e.data)}else t=e.data;this._loadSvgSourceUsingString(t)}},{key:"_loadSvgSourceUsingXhr",value:function(){var e=this,t=new XMLHttpRequest;t.onload=function(){if(t.readyState!==t.DONE||200!==t.status)throw new Error("Failed to load SVG using XHR.");e._loadSvgSourceUsingString(t.response)},t.onerror=function(){return e.emit("error",e)},t.open("GET",this.imageUrl,!0),t.send()}},{key:"_loadSvgSourceUsingString",value:function(e){var t=(0,s.getSvgSize)(e),n=t.width;e=t.height;if(!n||!e)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");this.realWidth=Math.round(n*this.sourceScale),this.realHeight=Math.round(e*this.sourceScale),this._updateDimensions(),(t=document.createElement("canvas")).width=this.realWidth,t.height=this.realHeight,t._SINTId="canvas_"+(0,s.uid)(),t.getContext("2d").drawImage(this.source,0,0,n,e,0,0,this.realWidth,this.realHeight),this.origSource=this.source,this.source=t,c.addToCache(this,t._SINTId),this.isLoading=!1,this._sourceLoaded(),this.emit("loaded",this)}},{key:"_sourceLoaded",value:function(){this.hasLoaded=!0,this.update()}},{key:"destroy",value:function(){this.imageUrl&&(delete s.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")),this.source=null,this.dispose(),c.removeFromCache(this),this.textureCacheIds=null,this._destroyed=!0}},{key:"dispose",value:function(){this.emit("dispose",this)}},{key:"updateSourceImage",value:function(e){this.source.src=e,this.loadSource(this.source)}}],[{key:"fromImage",value:function(e,t,n,r){var i,o=s.BaseTextureCache[e];return o||(i=new Image,void 0===t&&0!==e.indexOf("data:")?i.crossOrigin=(0,u.default)(e):t&&(i.crossOrigin="string"==typeof t?t:"anonymous"),(o=new c(i,n)).imageUrl=e,r&&(o.sourceScale=r),o.resolution=(0,s.getResolutionOfUrl)(e),i.src=e,c.addToCache(o,e)),o}},{key:"fromCanvas",value:function(e,t){e._SINTId||(e._SINTId=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:"canvas")+"_"+(0,s.uid)());var n=s.BaseTextureCache[e._SINTId];return n||(n=new c(e,t),c.addToCache(n,e._SINTId)),n}},{key:"from",value:function(e,t,n){if("string"==typeof e)return c.fromImage(e,void 0,t,n);if(e instanceof HTMLImageElement){var r=e.src,i=s.BaseTextureCache[r];return i||((i=new c(e,t)).imageUrl=r,n&&(i.sourceScale=n),i.resolution=(0,s.getResolutionOfUrl)(r),c.addToCache(i,r)),i}return e instanceof HTMLCanvasElement?c.fromCanvas(e,t):e}},{key:"addToCache",value:function(e,t){t&&(-1===e.textureCacheIds.indexOf(t)&&e.textureCacheIds.push(t),s.BaseTextureCache[t]&&console.warn("BaseTexture added to the cache with an id ["+t+"] that already had an entry"),s.BaseTextureCache[t]=e)}},{key:"removeFromCache",value:function(e){if("string"==typeof e){var t=s.BaseTextureCache[e];if(t){var n=t.textureCacheIds.indexOf(e);return-1<n&&t.textureCacheIds.splice(n,1),delete s.BaseTextureCache[e],t}}else if(e&&e.textureCacheIds){for(var r=0;r<e.textureCacheIds.length;++r)delete s.BaseTextureCache[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}}]),r=c,t.default=r},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var i=(r(o.prototype,[{key:"onContextChange",value:function(){}},{key:"destroy",value:function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null}}]),o);function o(e){!function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),this.renderer=e,this.renderer.on("context",this.onContextChange,this)}t.default=i},function(e,t,n){"use strict";var r=n(134).Loader,i=n(29).Resource,o=n(63);n=n(64);r.Resource=i,r.async=o,r.encodeBinary=n,r.base64=n,e.exports=r,e.exports.Loader=r,e.exports.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,s=n(4);function a(){!function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));return e.children=[],e}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(a,((o=n(32))&&o.__esModule?o:{default:o}).default),r(a,[{key:"onChildrenChange",value:function(){}},{key:"addChild",value:function(e){var t=arguments.length;if(1<t)for(var n=0;n<t;n++)this.addChild(arguments[n]);else e.parent&&e.parent.removeChild(e),e.parent=this,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),e.emit("added",this);return e}},{key:"addChildAt",value:function(e,t){if(t<0||t>this.children.length)throw new Error(e+"addChildAt: The index "+t+" supplied is out of bounds "+this.children.length);return e.parent&&e.parent.removeChild(e),e.parent=this,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit("added",this),e}},{key:"swapChildren",value:function(e,t){var n,r;e!==t&&(n=this.getChildIndex(e),r=this.getChildIndex(t),this.children[n]=t,this.children[r]=e,this.onChildrenChange(n<r?n:r))}},{key:"getChildIndex",value:function(e){if(-1===(e=this.children.indexOf(e)))throw new Error("The supplied DisplayObject must be a child of the caller");return e}},{key:"setChildIndex",value:function(e,t){if(t<0||t>=this.children.length)throw new Error("The index "+t+" supplied is out of bounds "+this.children.length);var n=this.getChildIndex(e);(0,s.removeItems)(this.children,n,1),this.children.splice(t,0,e),this.onChildrenChange(t)}},{key:"getChildAt",value:function(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index ("+e+") does not exist.");return this.children[e]}},{key:"removeChild",value:function(e){var t=arguments.length;if(1<t)for(var n=0;n<t;n++)this.removeChild(arguments[n]);else{var r=this.children.indexOf(e);if(-1===r)return null;e.parent=null,e.transform._parentID=-1,(0,s.removeItems)(this.children,r,1),this._boundsID++,this.onChildrenChange(r),e.emit("removed",this)}return e}},{key:"removeChildAt",value:function(e){var t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,(0,s.removeItems)(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit("removed",this),t}},{key:"removeChildren",value:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n="number"==typeof(e=arguments[1])?e:this.children.length,r=void 0;if(0<(e=n-t)&&e<=n){r=this.children.splice(t,e);for(var i=0;i<r.length;++i)r[i].parent=null,r[i].transform&&(r[i].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(var o=0;o<r.length;++o)r[o].emit("removed",this);return r}if(0==e&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}},{key:"updateTransform",value:function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,t=this.children.length;e<t;++e){var n=this.children[e];n.visible&&n.updateTransform()}}},{key:"calculateBounds",value:function(){this._bounds.clear(),this._calculateBounds();for(var e=0;e<this.children.length;e++){var t=this.children[e];t.visible&&t.renderable&&(t.calculateBounds(),t._mask?(t._mask.calculateBounds(),this._bounds.addBoundsMask(t._bounds,t._mask._bounds)):t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds))}this._lastBoundsID=this._boundsID}},{key:"_calculateBounds",value:function(){}},{key:"renderWebGL",value:function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this._filters)this.renderAdvancedWebGL(e);else{this._renderWebGL(e);for(var t=0,n=this.children.length;t<n;++t)this.children[t].renderWebGL(e)}}},{key:"renderAdvancedWebGL",value:function(e){e.flush();var t=this._filters,n=this._mask;if(t){this._enabledFilters||(this._enabledFilters=[]);for(var r=this._enabledFilters.length=0;r<t.length;r++)t[r].enabled&&this._enabledFilters.push(t[r]);this._enabledFilters.length&&e.filterManager.pushFilter(this,this._enabledFilters)}n&&e.maskManager.pushMask(this,this._mask),this._renderWebGL(e);for(var i=0,o=this.children.length;i<o;i++)this.children[i].renderWebGL(e);e.flush(),n&&e.maskManager.popMask(this,this._mask),t&&this._enabledFilters&&this._enabledFilters.length&&e.filterManager.popFilter()}},{key:"_renderWebGL",value:function(e){}},{key:"_renderCanvas",value:function(e){}},{key:"renderCanvas",value:function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&e.maskManager.pushMask(this._mask),this._renderCanvas(e);for(var t=0,n=this.children.length;t<n;++t)this.children[t].renderCanvas(e);this._mask&&e.maskManager.popMask(e)}}},{key:"destroy",value:function(e){(function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);return void 0!==i?"value"in i?i.value:void 0!==(i=i.get)?i.call(r):void 0:null!==(t=Object.getPrototypeOf(t))?e(t,n,r):void 0})(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"destroy",this).call(this);var t="boolean"==typeof e?e:e&&e.children,n=this.removeChildren(0,this.children.length);if(t)for(var r=0;r<n.length;++r)n[r].destroy(e)}},{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var t=this.getLocalBounds().width;this.scale.x=0!==t?e/t:1,this._width=e}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var t=this.getLocalBounds().height;this.scale.y=0!==t?e/t:1,this._height=e}}]),r=a,(t.default=r).prototype.containerUpdateTransform=r.prototype.updateTransform},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,s=n(5),a=n(1),u=(o=n(3))&&o.__esModule?o:{default:o},l=n(7);function h(e,t,n,r,i,o){!function(e){if(!(e instanceof h))throw new TypeError("Cannot call a class as a function")}(this),this.gl=e,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new s.Rectangle(0,0,1,1),this.resolution=i||u.default.RESOLUTION,this.projectionMatrix=new s.Matrix,this.transform=null,this.frame=null,this.defaultFrame=new s.Rectangle,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.filterPoolKey="",this.scaleMode=void 0!==r?r:u.default.SCALE_MODE,this.root=o||!1,this.root?(this.frameBuffer=new l.GLFramebuffer(e,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=l.GLFramebuffer.createRGBA(e,100,100),this.scaleMode===a.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(t,n)}r(h,[{key:"clear",value:function(e){e=e||this.clearColor,this.frameBuffer.clear(e[0],e[1],e[2],e[3])}},{key:"attachStencilBuffer",value:function(){this.root||this.frameBuffer.enableStencil()}},{key:"setFrame",value:function(e,t){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||this.destinationFrame}},{key:"activate",value:function(){var e=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame!==this.sourceFrame?(e.enable(e.SCISSOR_TEST),e.scissor(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):e.disable(e.SCISSOR_TEST),e.viewport(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)}},{key:"calculateProjection",value:function(e,t){var n=this.projectionMatrix;t=t||e,n.identity(),this.root?(n.a=1/e.width*2,n.d=-1/e.height*2,n.tx=-1-t.x*n.a,n.ty=1-t.y*n.d):(n.a=1/e.width*2,n.d=1/e.height*2,n.tx=-1-t.x*n.a,n.ty=-1-t.y*n.d)}},{key:"resize",value:function(e,t){t|=0,this.size.width===(e|=0)&&this.size.height===t||(this.size.width=e,this.size.height=t,this.defaultFrame.width=e,this.defaultFrame.height=t,this.frameBuffer.resize(e*this.resolution,t*this.resolution),t=this.frame||this.size,this.calculateProjection(t))}},{key:"destroy",value:function(){this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null}}]),r=h,t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=!!window.Audio,i=window.AudioContext||window.webkitAudioContext,o=!!i,s=o||r,a=o?new i:null;t.default={isHTMLAudioSupported:r,webAudioContext:i,isWebAudioSupported:o,isAudioSupported:s,globalWebAudioContext:a,createGainNode:null,exts:["mp3","ogg","oga","opus","mpeg","wav","m4a","mp4"]}},function(e,t){var n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var i=(r(o.prototype,[{key:"clone",value:function(){return new o(this.x,this.y)}},{key:"copy",value:function(e){this.set(e.x,e.y)}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"set",value:function(e,t){this.x=e||0,this.y=t||(0!==t?this.x:0)}}]),o);function o(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;!function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),this.x=e,this.y=t}t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,s=(o=n(17))&&o.__esModule?o:{default:o},u=n(1);function a(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;!function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),this.a=e,this.b=t,this.c=n,this.d=r,this.tx=i,this.ty=o,this.array=null}r(a,[{key:"fromArray",value:function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}},{key:"set",value:function(e,t,n,r,i,o){return this.a=e,this.b=t,this.c=n,this.d=r,this.tx=i,this.ty=o,this}},{key:"toArray",value:function(e,t){return this.array||(this.array=new Float32Array(9)),t=t||this.array,e?(t[0]=this.a,t[1]=this.b,t[2]=0,t[3]=this.c,t[4]=this.d,t[5]=0,t[6]=this.tx,t[7]=this.ty):(t[0]=this.a,t[1]=this.c,t[2]=this.tx,t[3]=this.b,t[4]=this.d,t[5]=this.ty,t[6]=0,t[7]=0),t[8]=1,t}},{key:"apply",value:function(e,t){t=t||new s.default;var n=e.x;e=e.y;return t.x=this.a*n+this.c*e+this.tx,t.y=this.b*n+this.d*e+this.ty,t}},{key:"applyInverse",value:function(e,t){t=t||new s.default;var n=1/(this.a*this.d+this.c*-this.b),r=e.x;e=e.y;return t.x=this.d*n*r+-this.c*n*e+(this.ty*this.c-this.tx*this.d)*n,t.y=this.a*n*e+-this.b*n*r+(-this.ty*this.a+this.tx*this.b)*n,t}},{key:"translate",value:function(e,t){return this.tx+=e,this.ty+=t,this}},{key:"scale",value:function(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this}},{key:"rotate",value:function(e){var t=Math.cos(e),n=Math.sin(e),r=this.a,i=this.c;e=this.tx;return this.a=r*t-this.b*n,this.b=r*n+this.b*t,this.c=i*t-this.d*n,this.d=i*n+this.d*t,this.tx=e*t-this.ty*n,this.ty=e*n+this.ty*t,this}},{key:"append",value:function(e){var t=this.a,n=this.b,r=this.c,i=this.d;return this.a=e.a*t+e.b*r,this.b=e.a*n+e.b*i,this.c=e.c*t+e.d*r,this.d=e.c*n+e.d*i,this.tx=e.tx*t+e.ty*r+this.tx,this.ty=e.tx*n+e.ty*i+this.ty,this}},{key:"setTransform",value:function(e,t,n,r,i,o,s,a,u){return this.a=Math.cos(s+u)*i,this.b=Math.sin(s+u)*i,this.c=-Math.sin(s-a)*o,this.d=Math.cos(s-a)*o,this.tx=e-(n*this.a+r*this.c),this.ty=t-(n*this.b+r*this.d),this}},{key:"prepend",value:function(e){var t,n,r=this.tx;return 1===e.a&&0===e.b&&0===e.c&&1===e.d||(t=this.a,n=this.c,this.a=t*e.a+this.b*e.c,this.b=t*e.b+this.b*e.d,this.c=n*e.a+this.d*e.c,this.d=n*e.b+this.d*e.d),this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}},{key:"decompose",value:function(e){var t=this.a,n=this.b,r=this.c,i=this.d,o=-Math.atan2(-r,i),s=Math.atan2(n,t),a=Math.abs(o+s);return a<1e-5||Math.abs(u.PI_2-a)<1e-5?(e.rotation=s,t<0&&0<=i&&(e.rotation+=e.rotation<=0?Math.PI:-Math.PI),e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=o,e.skew.y=s),e.scale.x=Math.sqrt(t*t+n*n),e.scale.y=Math.sqrt(r*r+i*i),e.position.x=this.tx,e.position.y=this.ty,e}},{key:"invert",value:function(){var e=this.a,t=this.b,n=this.c,r=this.d,i=this.tx,o=e*r-t*n;return this.a=r/o,this.b=-t/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-r*i)/o,this.ty=-(e*this.ty-t*i)/o,this}},{key:"identity",value:function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}},{key:"clone",value:function(){var e=new a;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}},{key:"copy",value:function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}}],[{key:"IDENTITY",get:function(){return new a}},{key:"TEMP_MATRIX",get:function(){return new a}}]),r=a,t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(1);function s(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;!function(e){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),this.x=Number(e),this.y=Number(t),this.width=Number(n),this.height=Number(r),this.type=o.SHAPES.RECT}r(s,[{key:"clone",value:function(){return new s(this.x,this.y,this.width,this.height)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}},{key:"contains",value:function(e,t){return!(this.width<=0||this.height<=0)&&e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height}},{key:"pad",value:function(e,t){e=e||0,t=t||(0!==t?e:0),this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t}},{key:"fit",value:function(e){this.x<e.x&&(this.width+=this.x,this.width<0&&(this.width=0),this.x=e.x),this.y<e.y&&(this.height+=this.y,this.height<0&&(this.height=0),this.y=e.y),this.x+this.width>e.x+e.width&&(this.width=e.width-this.x,this.width<0&&(this.width=0)),this.y+this.height>e.y+e.height&&(this.height=e.height-this.y,this.height<0&&(this.height=0))}},{key:"enlarge",value:function(e){var t=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),r=Math.min(this.y,e.y);e=Math.max(this.y+this.height,e.y+e.height);this.x=t,this.width=n-t,this.y=r,this.height=e-r}},{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}}],[{key:"EMPTY",get:function(){return new s(0,0,0,0)}}]),r=s,t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(5);function s(){!function(e){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),this.worldTransform=new o.Matrix,this.localTransform=new o.Matrix,this._worldID=0,this._parentID=0}r(s,[{key:"updateLocalTransform",value:function(){}},{key:"updateTransform",value:function(e){var t=e.worldTransform,n=this.worldTransform;e=this.localTransform;n.a=e.a*t.a+e.b*t.c,n.b=e.a*t.b+e.b*t.d,n.c=e.c*t.a+e.d*t.c,n.d=e.c*t.b+e.d*t.d,n.tx=e.tx*t.a+e.ty*t.c+t.tx,n.ty=e.tx*t.b+e.ty*t.d+t.ty,this._worldID++}}]),r=s,(t.default=r).prototype.updateWorldTransform=r.prototype.updateTransform,r.IDENTITY=new r},function(e,t,n){"use strict";function r(e){var t=32;return(e&=-e)&&t--,65535&e&&(t-=16),16711935&e&&(t-=8),252645135&e&&(t-=4),858993459&e&&(t-=2),1431655765&e&&--t,t}t.INT_BITS=32,t.INT_MAX=2147483647,t.INT_MIN=-1<<31,t.sign=function(e){return(0<e)-(e<0)},t.abs=function(e){var t=e>>31;return(e^t)-t},t.min=function(e,t){return t^(e^t)&-(e<t)},t.max=function(e,t){return e^(e^t)&-(e<t)},t.isPow2=function(e){return!(e&e-1||!e)},t.log2=function(e){var t,n=(65535<e)<<4;return n|=t=(255<(e>>>=n))<<3,n|=t=(15<(e>>>=t))<<2,(n|=t=(3<(e>>>=t))<<1)|(e>>>=t)>>1},t.log10=function(e){return 1e9<=e?9:1e8<=e?8:1e7<=e?7:1e6<=e?6:1e5<=e?5:1e4<=e?4:1e3<=e?3:100<=e?2:10<=e?1:0},t.popCount=function(e){return 16843009*((e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)>>>24},t.countTrailingZeros=r,t.nextPow2=function(e){return e+=0===e,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,1+(e|=e>>>16)},t.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)-(e>>>1)},t.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,27030>>>(e&=15)&1};var i=new Array(256);!function(e){for(var t=0;t<256;++t){var n=t,r=t,i=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=1&n,--i;e[t]=r<<i&255}}(i),t.reverse=function(e){return i[255&e]<<24|i[e>>>8&255]<<16|i[e>>>16&255]<<8|i[e>>>24&255]},t.interleave2=function(e,t){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))<<1},t.deinterleave2=function(e,t){return(e=65535&((e=16711935&((e=252645135&((e=858993459&((e=e>>>t&1431655765)|e>>>1))|e>>>2))|e>>>4))|e>>>16))<<16>>16},t.interleave3=function(e,t,n){return e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2),(e|=(t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2))<<1)|(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<2},t.deinterleave3=function(e,t){return(e=1023&((e=4278190335&((e=251719695&((e=3272356035&((e=e>>>t&1227133513)|e>>>2))|e>>>4))|e>>>8))|e>>>16))<<22>>22},t.nextCombination=function(e){var t=e|e-1;return 1+t|(~t&-~t)-1>>>r(e)+1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ticker=t.shared=void 0;var r,i=(r=n(96))&&r.__esModule?r:{default:r};(n=new i.default).autoStart=!0,n.destroy=function(){},t.shared=n,t.Ticker=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);return void 0!==r?"value"in r?r.value:void 0!==(r=r.get)?r.call(n):void 0:null!==(e=Object.getPrototypeOf(e))?o(e,t,n):void 0}var s=d(n(38)),a=d(n(101)),u=d(n(102)),l=d(n(103)),h=n(4),c=n(1),f=d(n(3));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n){return function(e){if(!(e instanceof p))throw new TypeError("Cannot call a class as a function")}(this),(n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,"Canvas",e,t,n))).type=c.RENDERER_TYPE.CANVAS,n.rootContext=n.view.getContext("2d",{alpha:n.transparent}),n.context=n.rootContext,n.refresh=!0,n.maskManager=new a.default(n),n.smoothProperty="imageSmoothingEnabled",n.rootContext.imageSmoothingEnabled||(n.rootContext.webkitImageSmoothingEnabled?n.smoothProperty="webkitImageSmoothingEnabled":n.rootContext.mozImageSmoothingEnabled?n.smoothProperty="mozImageSmoothingEnabled":n.rootContext.oImageSmoothingEnabled?n.smoothProperty="oImageSmoothingEnabled":n.rootContext.msImageSmoothingEnabled&&(n.smoothProperty="msImageSmoothingEnabled")),n.initPlugins(),n.blendModes=(0,l.default)(),n._activeBlendMode=null,n.renderingToScreen=!1,n.resize(n.options.width,n.options.height),n}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(p,s.default),r(p,[{key:"render",value:function(e,t,n,r,i){var o,s;this.view&&(this.renderingToScreen=!t,this.emit("prerender"),o=this.resolution,t?((t=t.baseTexture||t)._canvasRenderTarget||(t._canvasRenderTarget=new u.default(t.width,t.height,t.resolution),t.source=t._canvasRenderTarget.canvas,t.valid=!0),this.context=t._canvasRenderTarget.context,this.resolution=t._canvasRenderTarget.resolution):this.context=this.rootContext,s=this.context,t||(this._lastObjectRendered=e),i||(t=e.parent,i=this._tempDisplayObjectParent.transform.worldTransform,r?(r.copy(i),this._tempDisplayObjectParent.transform._worldID=-1):i.identity(),e.parent=this._tempDisplayObjectParent,e.updateTransform(),e.parent=t),s.save(),s.setTransform(1,0,0,1,0,0),s.globalAlpha=1,this._activeBlendMode=c.BLEND_MODES.NORMAL,s.globalCompositeOperation=this.blendModes[c.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(s.fillStyle="black",s.clear()),(void 0!==n?n:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?s.clearRect(0,0,this.width,this.height):(s.fillStyle=this._backgroundColorString,s.fillRect(0,0,this.width,this.height))),n=this.context,this.context=s,e.renderCanvas(this),this.context=n,s.restore(),this.resolution=o,this.emit("postrender"))}},{key:"clear",value:function(e){var t=this.context;e=e||this._backgroundColorString,!this.transparent&&e?(t.fillStyle=e,t.fillRect(0,0,this.width,this.height)):t.clearRect(0,0,this.width,this.height)}},{key:"setBlendMode",value:function(e){this._activeBlendMode!==e&&(this._activeBlendMode=e,this.context.globalCompositeOperation=this.blendModes[e])}},{key:"destroy",value:function(e){this.destroyPlugins(),o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"destroy",this).call(this,e),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null}},{key:"resize",value:function(e,t){o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"resize",this).call(this,e,t),this.smoothProperty&&(this.rootContext[this.smoothProperty]=f.default.SCALE_MODE===c.SCALE_MODES.LINEAR)}},{key:"invalidateBlendMode",value:function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)}}]),r=p,t.default=r,h.pluginTarget.mixin(r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(){return function(e){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(s,((r=n(11))&&r.__esModule?r:{default:r}).default),i(s,[{key:"start",value:function(){}},{key:"stop",value:function(){this.flush()}},{key:"flush",value:function(){}},{key:"render",value:function(e){}}]),i=s,t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=b(n(38)),s=b(n(105)),a=b(n(116)),u=b(n(117)),l=b(n(14)),h=b(n(24)),c=b(n(119)),f=b(n(10)),d=b(n(120)),p=b(n(121)),v=b(n(123)),y=b(n(124)),g=n(4),_=b(n(7)),m=n(1);function b(e){return e&&e.__esModule?e:{default:e}}var w=0;(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(x,o.default),r(x,[{key:"_initContext",value:function(){var e=this.gl;e.isContextLost()&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").restoreContext();var t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this._activeShader=null,this._activeVao=null,this.boundTextures=new Array(t),this.emptyTextures=new Array(t),this.textureManager=new c.default(this),this.filterManager=new u.default(this),this.textureGC=new d.default(this),this.state.resetToDefault(),this.rootRenderTarget=new l.default(e,this.width,this.height,null,this.resolution,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget);var n=new _.default.GLTexture.fromData(e,null,1,1),r={_glTextures:{}};r._glTextures[this.CONTEXT_UID]={};for(var i=0;i<t;i++){var o=new f.default;o._glTextures[this.CONTEXT_UID]=n,this.boundTextures[i]=r,this.emptyTextures[i]=o,this.bindTexture(null,i)}this.emit("context",e),this.resize(this.screen.width,this.screen.height)}},{key:"render",value:function(e,t,n,r,i){this.renderingToScreen=!t,this.emit("prerender"),this.gl&&!this.gl.isContextLost()&&(this._nextTextureLocation=0,t||(this._lastObjectRendered=e),i||(i=e.parent,e.parent=this._tempDisplayObjectParent,e.updateTransform(),e.parent=i),this.bindRenderTexture(t,r),this.currentRenderer.start(),(void 0!==n?n:this.clearBeforeRender)&&this._activeRenderTarget.clear(),e.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit("postrender"))}},{key:"setObjectRenderer",value:function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}},{key:"flush",value:function(){this.setObjectRenderer(this.emptyRenderer)}},{key:"resize",value:function(e,t){o.default.prototype.resize.call(this,e,t),this.rootRenderTarget.resize(e,t),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))}},{key:"setBlendMode",value:function(e){this.state.setBlendMode(e)}},{key:"clear",value:function(e){this._activeRenderTarget.clear(e)}},{key:"setTransform",value:function(e){this._activeRenderTarget.transform=e}},{key:"clearRenderTexture",value:function(e,t){return(e=e.baseTexture._glRenderTargets[this.CONTEXT_UID])&&e.clear(t),this}},{key:"bindRenderTexture",value:function(e,t){var n,r=void 0;return e?((n=e.baseTexture)._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(n,0),this.unbindTexture(n),(r=n._glRenderTargets[this.CONTEXT_UID]).setFrame(e.frame)):r=this.rootRenderTarget,r.transform=t,this.bindRenderTarget(r),this}},{key:"bindRenderTarget",value:function(e){return e!==this._activeRenderTarget&&((this._activeRenderTarget=e).activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=e.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(e.stencilMaskStack)),this}},{key:"bindShader",value:function(e,t){return this._activeShader!==e&&((this._activeShader=e).bind(),!1!==t&&(e.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this}},{key:"bindTexture",value:function(e,t,n){if((e=(e=e||this.emptyTextures[t]).baseTexture||e).touched=this.textureGC.count,n)t=t||0;else{for(var r=0;r<this.boundTextures.length;r++)if(this.boundTextures[r]===e)return r;void 0===t&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,t=this.boundTextures.length-this._nextTextureLocation-1)}var i=this.gl;return(n=e._glTextures[this.CONTEXT_UID])?(this.boundTextures[t]=e,i.activeTexture(i.TEXTURE0+t),i.bindTexture(i.TEXTURE_2D,n.texture)):this.textureManager.updateTexture(e,t),t}},{key:"unbindTexture",value:function(e){var t=this.gl;e=e.baseTexture||e;for(var n=0;n<this.boundTextures.length;n++)this.boundTextures[n]===e&&(this.boundTextures[n]=this.emptyTextures[n],t.activeTexture(t.TEXTURE0+n),t.bindTexture(t.TEXTURE_2D,this.emptyTextures[n]._glTextures[this.CONTEXT_UID].texture));return this}},{key:"createVao",value:function(){return new _.default.VertexArrayObject(this.gl,this.state.attribState)}},{key:"bindVao",value:function(e){return this._activeVao===e||(e?e.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=e),this}},{key:"reset",value:function(){this.setObjectRenderer(this.emptyRenderer),this.bindVao(null),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.emptyTextures[e];return this.rootRenderTarget.activate(),this.state.resetToDefault(),this}},{key:"handleContextLost",value:function(e){e.preventDefault()}},{key:"handleContextRestored",value:function(){this.textureManager.removeAll(),this.filterManager.destroy(!0),this._initContext()}},{key:"destroy",value:function(e){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),this.textureManager.destroy(),function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);return void 0!==i?"value"in i?i.value:void 0!==(i=i.get)?i.call(r):void 0:null!==(t=Object.getPrototypeOf(t))?e(t,n,r):void 0}(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"destroy",this).call(this,e),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext(),this.gl=null}}]),r=x;function x(e,t,n){return function(e){if(!(e instanceof x))throw new TypeError("Cannot call a class as a function")}(this),(n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,"WebGL",e,t,n))).legacy=n.options.legacy,n.legacy&&(_.default.VertexArrayObject.FORCE_NATIVE=!0),n.type=m.RENDERER_TYPE.WEBGL,n.handleContextLost=n.handleContextLost.bind(n),n.handleContextRestored=n.handleContextRestored.bind(n),n.view.addEventListener("webglcontextlost",n.handleContextLost,!1),n.view.addEventListener("webglcontextrestored",n.handleContextRestored,!1),n._contextOptions={alpha:n.transparent,antialias:n.options.antialias,premultipliedAlpha:n.transparent&&"notMultiplied"!==n.transparent,stencil:!0,preserveDrawingBuffer:n.options.preserveDrawingBuffer,powerPreference:n.options.powerPreference},n._backgroundColorRgba[3]=n.transparent?0:1,n.maskManager=new s.default(n),n.stencilManager=new a.default(n),n.emptyRenderer=new h.default(n),n.currentRenderer=n.emptyRenderer,n.textureManager=null,n.filterManager=null,n.initPlugins(),n.options.context&&(0,y.default)(n.options.context),n.gl=n.options.context||_.default.createContext(n.view,n._contextOptions),n.CONTEXT_UID=w++,n.state=new p.default(n.gl),n.renderingToScreen=!0,n.boundTextures=null,n._activeShader=null,n._activeVao=null,n._activeRenderTarget=null,n._initContext(),n.drawModes=(0,v.default)(n.gl),n._nextTextureLocation=0,n.setBlendMode(0),n}t.default=r,g.pluginTarget.mixin(r)},function(e,t){var o=null,s={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};e.exports=function(e,t){if(!o){var n=Object.keys(s);o={};for(var r=0;r<n.length;++r){var i=n[r];o[e[i]]=s[i]}}return o[t]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(7),o=(r=n(3))&&r.__esModule?r:{default:r};function s(e,t){if(e instanceof Array){if("precision"!==e[0].substring(0,9)){var n=e.slice(0);return n.unshift("precision "+t+" float;"),n}}else if("precision"!==e.trim().substring(0,9))return"precision "+t+" float;\n"+e;return e}function a(e,t,n,r,i){return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e,s(t,i||o.default.PRECISION_VERTEX),s(n,i||o.default.PRECISION_FRAGMENT),void 0,r))}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(a,i.GLShader),i=a,t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shared=t.Resource=t.textureParser=t.getResourcePath=t.spritesheetParser=t.parseBitmapFontData=t.bitmapFontParser=t.Loader=void 0;var r=n(60);Object.defineProperty(t,"bitmapFontParser",{enumerable:!0,get:function(){return l(r).default}}),Object.defineProperty(t,"parseBitmapFontData",{enumerable:!0,get:function(){return r.parse}});var i=n(65);Object.defineProperty(t,"spritesheetParser",{enumerable:!0,get:function(){return l(i).default}}),Object.defineProperty(t,"getResourcePath",{enumerable:!0,get:function(){return i.getResourcePath}});var o=n(66);Object.defineProperty(t,"textureParser",{enumerable:!0,get:function(){return l(o).default}});var s=n(12);Object.defineProperty(t,"Resource",{enumerable:!0,get:function(){return s.Resource}});var a=l(n(58)),u=l(n(135));function l(e){return e&&e.__esModule?e:{default:e}}t.Loader=u.default;var h=new u.default;h.destroy=function(){},t.shared=h,(a=a.default.prototype)._loader=null,Object.defineProperty(a,"loader",{get:function(){var e;return this._loader||(e=this._options.sharedLoader,this._loader=e?h:new u.default),this._loader}}),a._parentDestroy=a.destroy,a.destroy=function(e,t){this._loader&&(this._loader.destroy(),this._loader=null),this._parentDestroy(e,t)}},function(e,t,n){"use strict";t.__esModule=!0,t.Resource=void 0;var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=a(n(62)),s=a(n(61));function a(e){return e&&e.__esModule?e:{default:e}}var u=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),l=null;function h(){}function c(e,t,n){if(function(e){if(!(e instanceof c))throw new TypeError("Cannot call a class as a function")}(this),"string"!=typeof e||"string"!=typeof t)throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(c.STATUS_FLAGS.DATA_URL,0===t.indexOf("data:")),this.name=e,this.url=t,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===n.crossOrigin?"anonymous":n.crossOrigin,this.timeout=n.timeout||0,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=c.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=h,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new s.default,this.onProgress=new s.default,this.onComplete=new s.default,this.onAfterMiddleware=new s.default}function f(e,t,n){(t=t&&0===t.indexOf(".")?t.substring(1):t)&&(e[t]=n)}function d(e){return e.toString().replace("object ","")}(r=t.Resource=(c.setExtensionLoadType=function(e,t){f(c._loadTypeMap,e,t)},c.setExtensionXhrType=function(e,t){f(c._xhrTypeMap,e,t)},c.prototype.complete=function(){this._clearEvents(),this._finish()},c.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=c.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},c.prototype.load=function(e){var t=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout(function(){return e(t)},1);else switch(e&&this.onComplete.once(e),this._setFlag(c.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case c.LOAD_TYPE.IMAGE:this.type=c.TYPE.IMAGE,this._loadElement("image");break;case c.LOAD_TYPE.AUDIO:this.type=c.TYPE.AUDIO,this._loadSourceElement("audio");break;case c.LOAD_TYPE.VIDEO:this.type=c.TYPE.VIDEO,this._loadSourceElement("video");break;case c.LOAD_TYPE.XHR:default:u&&this.crossOrigin?this._loadXdr():this._loadXhr()}},c.prototype._hasFlag=function(e){return 0!=(this._flags&e)},c.prototype._setFlag=function(e,t){this._flags=t?this._flags|e:this._flags&~e},c.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},c.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(c.STATUS_FLAGS.COMPLETE,!0),this._setFlag(c.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},c.prototype._loadElement=function(e){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===e&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(e),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},c.prototype._loadSourceElement=function(e){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===e&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(e),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var t=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(e,this.url[n],Array.isArray(t)?t[n]:t));else{var r=this.metadata.mimeType;this.data.appendChild(this._createSource(e,this.url,Array.isArray(r)?r[0]:r))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+e)},c.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===c.XHR_RESPONSE_TYPE.JSON||this.xhrType===c.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=c.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},c.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XDomainRequest;e.timeout=this.timeout||5e3,e.onerror=this._boundXhrOnError,e.ontimeout=this._boundXhrOnTimeout,e.onprogress=this._boundOnProgress,e.onload=this._boundXhrOnLoad,e.open("GET",this.url,!0),setTimeout(function(){return e.send()},1)},c.prototype._createSource=function(e,t,n){return n=n||e+"/"+this._getExtension(t),(e=document.createElement("source")).src=t,e.type=n,e},c.prototype._onError=function(e){this.abort("Failed to load element using: "+e.target.nodeName)},c.prototype._onProgress=function(e){e&&e.lengthComputable&&this.onProgress.dispatch(this,e.loaded/e.total)},c.prototype._onTimeout=function(){this.abort("Load timed out.")},c.prototype._xhrOnError=function(){var e=this.xhr;this.abort(d(e)+" Request failed. Status: "+e.status+', text: "'+e.statusText+'"')},c.prototype._xhrOnTimeout=function(){var e=this.xhr;this.abort(d(e)+" Request timed out.")},c.prototype._xhrOnAbort=function(){var e=this.xhr;this.abort(d(e)+" Request was aborted by the user.")},c.prototype._xhrOnLoad=function(){var e,t,n=this.xhr,r="",i=void 0===n.status?200:n.status;if(""!==n.responseType&&"text"!==n.responseType&&void 0!==n.responseType||(r=n.responseText),0===i&&(0<r.length||n.responseType===c.XHR_RESPONSE_TYPE.BUFFER)?i=200:1223===i&&(i=204),2==(i/100|0)){if(this.xhrType===c.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=c.TYPE.TEXT;else if(this.xhrType===c.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=c.TYPE.JSON}catch(e){return void this.abort("Error trying to parse loaded json: "+e)}else if(this.xhrType===c.XHR_RESPONSE_TYPE.DOCUMENT)try{window.DOMParser?(e=new DOMParser,this.data=e.parseFromString(r,"text/xml")):((t=document.createElement("div")).innerHTML=r,this.data=t),this.type=c.TYPE.XML}catch(e){return void this.abort("Error trying to parse loaded xml: "+e)}else this.data=n.response||r;this.complete()}else this.abort("["+n.status+"] "+n.statusText+": "+n.responseURL)},c.prototype._determineCrossOrigin=function(e,t){if(0===e.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";t=t||window.location,(l=l||document.createElement("a")).href=e;var n=!(e=(0,o.default)(l.href,{strictMode:!0})).port&&""===t.port||e.port===t.port,r=e.protocol?e.protocol+":":"";return e.host===t.hostname&&n&&r===t.protocol?"":"anonymous"},c.prototype._determineXhrType=function(){return c._xhrTypeMap[this.extension]||c.XHR_RESPONSE_TYPE.TEXT},c.prototype._determineLoadType=function(){return c._loadTypeMap[this.extension]||c.LOAD_TYPE.XHR},c.prototype._getExtension=function(){var e,t,n=this.url;return(this.isDataUrl?(t=n.indexOf("/"),n.substring(t+1,n.indexOf(";",t))):(e=n.indexOf("?"),t=n.indexOf("#"),t=Math.min(-1<e?e:n.length,-1<t?t:n.length),(n=n.substring(0,t)).substring(n.lastIndexOf(".")+1))).toLowerCase()},c.prototype._getMimeFromXhrType=function(e){switch(e){case c.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case c.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case c.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case c.XHR_RESPONSE_TYPE.JSON:return"application/json";case c.XHR_RESPONSE_TYPE.DEFAULT:case c.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},r(c,[{key:"isDataUrl",get:function(){return this._hasFlag(c.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(c.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(c.STATUS_FLAGS.LOADING)}}]),c)).STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},r.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},r.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},r.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},r._loadTypeMap={gif:r.LOAD_TYPE.IMAGE,png:r.LOAD_TYPE.IMAGE,bmp:r.LOAD_TYPE.IMAGE,jpg:r.LOAD_TYPE.IMAGE,jpeg:r.LOAD_TYPE.IMAGE,tif:r.LOAD_TYPE.IMAGE,tiff:r.LOAD_TYPE.IMAGE,webp:r.LOAD_TYPE.IMAGE,tga:r.LOAD_TYPE.IMAGE,svg:r.LOAD_TYPE.IMAGE,"svg+xml":r.LOAD_TYPE.IMAGE,mp3:r.LOAD_TYPE.AUDIO,ogg:r.LOAD_TYPE.AUDIO,wav:r.LOAD_TYPE.AUDIO,mp4:r.LOAD_TYPE.VIDEO,webm:r.LOAD_TYPE.VIDEO},r._xhrTypeMap={xhtml:r.XHR_RESPONSE_TYPE.DOCUMENT,html:r.XHR_RESPONSE_TYPE.DOCUMENT,htm:r.XHR_RESPONSE_TYPE.DOCUMENT,xml:r.XHR_RESPONSE_TYPE.DOCUMENT,tmx:r.XHR_RESPONSE_TYPE.DOCUMENT,svg:r.XHR_RESPONSE_TYPE.DOCUMENT,tsx:r.XHR_RESPONSE_TYPE.DOCUMENT,gif:r.XHR_RESPONSE_TYPE.BLOB,png:r.XHR_RESPONSE_TYPE.BLOB,bmp:r.XHR_RESPONSE_TYPE.BLOB,jpg:r.XHR_RESPONSE_TYPE.BLOB,jpeg:r.XHR_RESPONSE_TYPE.BLOB,tif:r.XHR_RESPONSE_TYPE.BLOB,tiff:r.XHR_RESPONSE_TYPE.BLOB,webp:r.XHR_RESPONSE_TYPE.BLOB,tga:r.XHR_RESPONSE_TYPE.BLOB,json:r.XHR_RESPONSE_TYPE.JSON,text:r.XHR_RESPONSE_TYPE.TEXT,txt:r.XHR_RESPONSE_TYPE.TEXT,ttf:r.XHR_RESPONSE_TYPE.BUFFER,otf:r.XHR_RESPONSE_TYPE.BUFFER},r.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",e.exports.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,h=(r=n(18))&&r.__esModule?r:{default:r},c=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],f=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],d=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],p=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],v=[],y=[];function g(e){return e<0?-1:0<e?1:0}!function(){for(var e=0;e<16;e++){var t=[];y.push(t);for(var n=0;n<16;n++)for(var r=g(c[e]*c[n]+d[e]*f[n]),i=g(f[e]*c[n]+p[e]*f[n]),o=g(c[e]*d[n]+d[e]*p[n]),s=g(f[e]*d[n]+p[e]*p[n]),a=0;a<16;a++)if(c[a]===r&&f[a]===i&&d[a]===o&&p[a]===s){t.push(a);break}}for(var u=0;u<16;u++){var l=new h.default;l.set(c[u],f[u],d[u],p[u],0,0),v.push(l)}}();var i={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(e){return c[e]},uY:function(e){return f[e]},vX:function(e){return d[e]},vY:function(e){return p[e]},inv:function(e){return 8&e?15&e:7&-e},add:function(e,t){return y[e][t]},sub:function(e,t){return y[e][i.inv(t)]},rotate180:function(e){return 4^e},isVertical:function(e){return 2==(3&e)},byDirection:function(e,t){return 2*Math.abs(e)<=Math.abs(t)?0<=t?i.S:i.N:2*Math.abs(t)<=Math.abs(e)?0<e?i.E:i.W:0<t?0<e?i.SE:i.SW:0<e?i.NE:i.NW},matrixAppendRotationInv:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;(t=v[i.inv(t)]).tx=n,t.ty=r,e.append(t)}};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(5);function s(){!function(e){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null}r(s,[{key:"isEmpty",value:function(){return this.minX>this.maxX||this.minY>this.maxY}},{key:"clear",value:function(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}},{key:"getRectangle",value:function(e){return this.minX>this.maxX||this.minY>this.maxY?o.Rectangle.EMPTY:((e=e||new o.Rectangle(0,0,1,1)).x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}},{key:"addPoint",value:function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}},{key:"addQuad",value:function(e){var t=this.minX,n=this.minY,r=this.maxX,i=this.maxY,o=e[0],s=e[1];t=o<t?o:t,n=s<n?s:n,r=r<o?o:r,i=i<s?s:i;t=(o=e[2])<t?o:t,n=(s=e[3])<n?s:n,r=r<o?o:r,i=i<s?s:i,t=(o=e[4])<t?o:t,n=(s=e[5])<n?s:n,r=r<o?o:r,i=i<s?s:i,o=e[6],n=(s=e[7])<n?s:n,r=r<o?o:r,i=i<s?s:i,this.minX=t=o<t?o:t,this.minY=n,this.maxX=r,this.maxY=i}},{key:"addFrame",value:function(e,t,n,r,i){var o=(v=e.worldTransform).a,s=v.b,a=v.c,u=v.d,l=v.tx,h=v.ty,c=o*t+a*n+l,f=s*t+u*n+h,d=c<(d=this.minX)?c:d,p=f<(p=this.minY)?f:p,v=(e=(e=this.maxX)<c?c:e,(v=this.maxY)<f?f:v);d=(c=o*r+a*n+l)<d?c:d,p=(f=s*r+u*n+h)<p?f:p,e=e<c?c:e,v=v<f?f:v,d=(c=o*t+a*i+l)<d?c:d,p=(f=s*t+u*i+h)<p?f:p,v=v<f?f:v,p=(f=s*r+u*i+h)<p?f:p,e=(e=e<c?c:e)<(c=o*r+a*i+l)?c:e,v=v<f?f:v,this.minX=d=c<d?c:d,this.minY=p,this.maxX=e,this.maxY=v}},{key:"addVertices",value:function(e,t,n,r){for(var i=(e=e.worldTransform).a,o=e.b,s=e.c,a=e.d,u=e.tx,l=e.ty,h=this.minX,c=this.minY,f=this.maxX,d=this.maxY,p=n;p<r;p+=2){var v=t[p],y=t[p+1],g=i*v+s*y+u;h=g<h?g:h,c=(v=a*y+o*v+l)<c?v:c,f=f<g?g:f,d=d<v?v:d}this.minX=h,this.minY=c,this.maxX=f,this.maxY=d}},{key:"addBounds",value:function(e){var t=this.minX,n=this.minY,r=this.maxX,i=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>r?e.maxX:r,this.maxY=e.maxY>i?e.maxY:i}},{key:"addBoundsMask",value:function(e,t){var n,r,i=(e.minX>t.minX?e:t).minX,o=(e.minY>t.minY?e:t).minY,s=(e.maxX<t.maxX?e:t).maxX,a=(e.maxY<t.maxY?e:t).maxY;i<=s&&o<=a&&(n=this.minX,r=this.minY,e=this.maxX,t=this.maxY,this.minX=i<n?i:n,this.minY=o<r?o:r,this.maxX=e<s?s:e,this.maxY=t<a?a:t)}},{key:"addBoundsArea",value:function(e,t){var n,r,i=e.minX>t.x?e.minX:t.x,o=e.minY>t.y?e.minY:t.y,s=e.maxX<t.x+t.width?e.maxX:t.x+t.width,a=e.maxY<t.y+t.height?e.maxY:t.y+t.height;i<=s&&o<=a&&(n=this.minX,r=this.minY,e=this.maxX,t=this.maxY,this.minX=i<n?i:n,this.minY=o<r?o:r,this.maxX=e<s?s:e,this.maxY=t<a?a:t)}}]),r=s,t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=f(n(6)),s=n(1),a=f(n(3)),u=f(n(33)),l=f(n(34)),h=f(n(31)),c=n(5);function f(e){return e&&e.__esModule?e:{default:e}}function d(){!function(e){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")}(this);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this)),t=(a.default.TRANSFORM_MODE===s.TRANSFORM_MODE.STATIC?u:l).default;return e.tempDisplayObjectParent=null,e.transform=new t,e.alpha=1,e.visible=!0,e.renderable=!0,e.parent=null,e.worldAlpha=1,e.filterArea=null,e._filters=null,e._enabledFilters=null,e._bounds=new h.default,e._boundsID=0,e._lastBoundsID=-1,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._destroyed=!1,e}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(d,o.default),r(d,[{key:"updateTransform",value:function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++}},{key:"_recursivePostUpdateTransform",value:function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}},{key:"getBounds",value:function(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),t||(this._boundsRect||(this._boundsRect=new c.Rectangle),t=this._boundsRect),this._bounds.getRectangle(t)}},{key:"getLocalBounds",value:function(e){var t=this.transform,n=this.parent;return this.parent=null,this.transform=this._tempDisplayObjectParent.transform,e||(this._localBoundsRect||(this._localBoundsRect=new c.Rectangle),e=this._localBoundsRect),e=this.getBounds(!1,e),this.parent=n,this.transform=t,e}},{key:"toGlobal",value:function(e,t){return 2<arguments.length&&void 0!==arguments[2]&&arguments[2]||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)}},{key:"toLocal",value:function(e,t,n,r){return t&&(e=t.toGlobal(e,n,r)),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}},{key:"renderWebGL",value:function(e){}},{key:"renderCanvas",value:function(e){}},{key:"setParent",value:function(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}},{key:"setTransform",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0,s=6<arguments.length&&void 0!==arguments[6]?arguments[6]:0,a=7<arguments.length&&void 0!==arguments[7]?arguments[7]:0,u=8<arguments.length&&void 0!==arguments[8]?arguments[8]:0;return this.position.x=e,this.position.y=t,this.scale.x=n||1,this.scale.y=r||1,this.rotation=i,this.skew.x=o,this.skew.y=s,this.pivot.x=a,this.pivot.y=u,this}},{key:"destroy",value:function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0}},{key:"_tempDisplayObjectParent",get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new d),this.tempDisplayObjectParent}},{key:"x",get:function(){return this.position.x},set:function(e){this.transform.position.x=e}},{key:"y",get:function(){return this.position.y},set:function(e){this.transform.position.y=e}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(e){this.transform.position.copy(e)}},{key:"scale",get:function(){return this.transform.scale},set:function(e){this.transform.scale.copy(e)}},{key:"pivot",get:function(){return this.transform.pivot},set:function(e){this.transform.pivot.copy(e)}},{key:"skew",get:function(){return this.transform.skew},set:function(e){this.transform.skew.copy(e)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(e){this.transform.rotation=e}},{key:"worldVisible",get:function(){var e=this;do{if(!e.visible)return!1}while(e=e.parent);return!0}},{key:"mask",get:function(){return this._mask},set:function(e){this._mask&&(this._mask.renderable=!0,this._mask.isMask=!1),this._mask=e,this._mask&&(this._mask.renderable=!1,this._mask.isMask=!0)}},{key:"filters",get:function(){return this._filters&&this._filters.slice()},set:function(e){this._filters=e&&e.slice()}}]),r=d,(t.default=r).prototype.displayObjectUpdateTransform=r.prototype.updateTransform},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,s=n(5);function a(){!function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));return e.position=new s.ObservablePoint(e.onChange,e,0,0),e.scale=new s.ObservablePoint(e.onChange,e,1,1),e.pivot=new s.ObservablePoint(e.onChange,e,0,0),e.skew=new s.ObservablePoint(e.updateSkew,e,0,0),e._rotation=0,e._cx=1,e._sx=0,e._cy=0,e._sy=1,e._localID=0,e._currentLocalID=0,e}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(a,((o=n(20))&&o.__esModule?o:{default:o}).default),r(a,[{key:"onChange",value:function(){this._localID++}},{key:"updateSkew",value:function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++}},{key:"updateLocalTransform",value:function(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale._x,e.b=this._sx*this.scale._x,e.c=this._cy*this.scale._y,e.d=this._sy*this.scale._y,e.tx=this.position._x-(this.pivot._x*e.a+this.pivot._y*e.c),e.ty=this.position._y-(this.pivot._x*e.b+this.pivot._y*e.d),this._currentLocalID=this._localID,this._parentID=-1)}},{key:"updateTransform",value:function(e){var t,n,r=this.localTransform;this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale._x,r.b=this._sx*this.scale._x,r.c=this._cy*this.scale._y,r.d=this._sy*this.scale._y,r.tx=this.position._x-(this.pivot._x*r.a+this.pivot._y*r.c),r.ty=this.position._y-(this.pivot._x*r.b+this.pivot._y*r.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID&&(t=e.worldTransform,(n=this.worldTransform).a=r.a*t.a+r.b*t.c,n.b=r.a*t.b+r.b*t.d,n.c=r.c*t.a+r.d*t.c,n.d=r.c*t.b+r.d*t.d,n.tx=r.tx*t.a+r.ty*t.c+t.tx,n.ty=r.tx*t.b+r.ty*t.d+t.ty,this._parentID=e._worldID,this._worldID++)}},{key:"setFromMatrix",value:function(e){e.decompose(this),this._localID++}},{key:"rotation",get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())}}]),r=a,t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,s=n(5);function a(){!function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));return e.position=new s.Point(0,0),e.scale=new s.Point(1,1),e.skew=new s.ObservablePoint(e.updateSkew,e,0,0),e.pivot=new s.Point(0,0),e._rotation=0,e._cx=1,e._sx=0,e._cy=0,e._sy=1,e}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(a,((o=n(20))&&o.__esModule?o:{default:o}).default),r(a,[{key:"updateSkew",value:function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x)}},{key:"updateLocalTransform",value:function(){var e=this.localTransform;e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d)}},{key:"updateTransform",value:function(e){var t=this.localTransform;t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d);var n=e.worldTransform;(e=this.worldTransform).a=t.a*n.a+t.b*n.c,e.b=t.a*n.b+t.b*n.d,e.c=t.c*n.a+t.d*n.c,e.d=t.c*n.b+t.d*n.d,e.tx=t.tx*n.a+t.ty*n.c+n.tx,e.ty=t.tx*n.b+t.ty*n.d+n.ty,this._worldID++}},{key:"setFromMatrix",value:function(e){e.decompose(this)}},{key:"rotation",get:function(){return this._rotation},set:function(e){this._rotation=e,this.updateSkew()}}]),r=a,t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);return void 0!==r?"value"in r?r.value:void 0!==(r=r.get)?r.call(n):void 0:null!==(e=Object.getPrototypeOf(e))?o(e,t,n):void 0}var s=n(5),a=n(4),u=n(1),l=h(n(9));n=h(n(13));function h(e){return e&&e.__esModule?e:{default:e}}var c=new s.Point;(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(f,n.default),r(f,[{key:"_onTextureUpdate",value:function(){this._textureID=-1,this._textureTrimmedID=-1,this.cachedTint=16777215,this._width&&(this.scale.x=(0,a.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,a.sign)(this.scale.y)*this._height/this._texture.orig.height)}},{key:"_onAnchorUpdate",value:function(){this._transformID=-1,this._transformTrimmedID=-1}},{key:"calculateVertices",value:function(){var e,t,n,r,i,o,s,a,u,l,h,c,f,d;this._transformID===this.transform._worldID&&this._textureID===this._texture._updateID||(this._transformID=this.transform._worldID,this._textureID=this._texture._updateID,f=this._texture,e=(d=this.transform.worldTransform).a,t=d.b,n=d.c,r=d.d,i=d.tx,o=d.ty,s=this.vertexData,a=f.trim,u=f.orig,l=this._anchor,f=d=c=h=0,d=a?(h=(c=a.x-l._x*u.width)+a.width,(f=a.y-l._y*u.height)+a.height):(h=(c=-l._x*u.width)+u.width,(f=-l._y*u.height)+u.height),s[0]=e*c+n*f+i,s[1]=r*f+t*c+o,s[2]=e*h+n*f+i,s[3]=r*f+t*h+o,s[4]=e*h+n*d+i,s[5]=r*d+t*h+o,s[6]=e*c+n*d+i,s[7]=r*d+t*c+o)}},{key:"calculateTrimmedVertices",value:function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var e=this._texture,t=this.vertexTrimmedData,n=e.orig,r=this._anchor,i=(h=this.transform.worldTransform).a,o=h.b,s=h.c,a=h.d,u=h.tx,l=h.ty,h=(e=-r._x*n.width)+n.width;n=(r=-r._y*n.height)+n.height;t[0]=i*e+s*r+u,t[1]=a*r+o*e+l,t[2]=i*h+s*r+u,t[3]=a*r+o*h+l,t[4]=i*h+s*n+u,t[5]=a*n+o*h+l,t[6]=i*e+s*n+u,t[7]=a*n+o*e+l}},{key:"_renderWebGL",value:function(e){this.calculateVertices(),e.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}},{key:"_renderCanvas",value:function(e){e.plugins[this.pluginName].render(this)}},{key:"_calculateBounds",value:function(){var e=this._texture.trim,t=this._texture.orig;!e||e.width===t.width&&e.height===t.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}},{key:"getLocalBounds",value:function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new s.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):o(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"getLocalBounds",this).call(this,e)}},{key:"containsPoint",value:function(e){this.worldTransform.applyInverse(e,c);var t=this._texture.orig.width,n=this._texture.orig.height,r=-t*this.anchor.x;e=0;return c.x>=r&&c.x<r+t&&(e=-n*this.anchor.y,c.y>=e&&c.y<e+n)}},{key:"destroy",value:function(e){o(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"destroy",this).call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,("boolean"==typeof e?e:e&&e.texture)&&(e="boolean"==typeof e?e:e&&e.baseTexture,this._texture.destroy(!!e)),this._texture=null,this.shader=null}},{key:"width",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){var t=(0,a.sign)(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}},{key:"height",get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){var t=(0,a.sign)(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}},{key:"anchor",get:function(){return this._anchor},set:function(e){this._anchor.copy(e)}},{key:"tint",get:function(){return this._tint},set:function(e){this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16)}},{key:"texture",get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture=e||l.default.EMPTY,this.cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.hasLoaded?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}],[{key:"from",value:function(e){return new f(l.default.from(e))}},{key:"fromFrame",value:function(e){var t=a.TextureCache[e];if(!t)throw new Error('The frameId "'+e+'" does not exist in the texture cache');return new f(t)}},{key:"fromImage",value:function(e,t,n){return new f(l.default.fromImage(e,t,n))}}]),r=f;function f(e){!function(e){if(!(e instanceof f))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this));return t._anchor=new s.ObservablePoint(t._onAnchorUpdate,t,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),t._texture=null,t._width=0,t._height=0,t._tint=null,t._tintRGB=null,t.tint=16777215,t.blendMode=u.BLEND_MODES.NORMAL,t.shader=null,t.cachedTint=16777215,t.texture=e||l.default.EMPTY,t.vertexData=new Float32Array(8),t.vertexTrimmedData=null,t._transformID=-1,t._textureID=-1,t._transformTrimmedID=-1,t._textureTrimmedID=-1,t.pluginName="sprite",t}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:window.location;if(0===e.indexOf("data:"))return"";t=t||window.location,(o=o||document.createElement("a")).href=e;var n=!(e=i.default.parse(o.href)).port&&""===t.port||e.port===t.port;return e.hostname===t.hostname&&n&&e.protocol===t.protocol?"":"anonymous"};var r,i=(r=n(37))&&r.__esModule?r:{default:r},o=void 0},function(e,t,n){"use strict";var P=n(89),S=n(91);function w(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=i,t.resolve=function(e,t){return i(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?i(e,!1,!0).resolveObject(t):t},t.format=function(e){return S.isString(e)&&(e=i(e)),e instanceof w?e.format():w.prototype.format.call(e)},t.Url=w;var k=/^([a-z0-9.+-]+:)/i,r=/:[0-9]*$/,C=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,M=(t=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),["'"].concat(t)),A=["%","/","?",";","#"].concat(M),R=["/","?","#"],D=/^[+a-z0-9A-Z_-]{0,63}$/,I=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,j={javascript:!0,"javascript:":!0},L={javascript:!0,"javascript:":!0},N={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},B=n(92);function i(e,t,n){if(e&&S.isObject(e)&&e instanceof w)return e;var r=new w;return r.parse(e,t,n),r}w.prototype.parse=function(e,t,n){if(!S.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r,i=-1!==(r=e.indexOf("?"))&&r<e.indexOf("#")?"?":"#";(r=e.split(i))[0]=r[0].replace(/\\/g,"/");var o,s,a,u=(u=e=r.join(i)).trim();if(!n&&1===e.split("#").length&&(s=C.exec(u)))return this.path=u,this.href=u,this.pathname=s[1],s[2]?(this.search=s[2],this.query=t?B.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this;if((s=k.exec(u))&&(a=(s=s[0]).toLowerCase(),this.protocol=a,u=u.substr(s.length)),(n||s||u.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(o="//"===u.substr(0,2))||s&&L[s]||(u=u.substr(2),this.slashes=!0)),!L[s]&&(o||s&&!N[s])){for(var l=-1,h=0;h<R.length;h++)-1!==(c=u.indexOf(R[h]))&&(-1===l||c<l)&&(l=c);-1!==(x=-1===l?u.lastIndexOf("@"):u.lastIndexOf("@",l))&&(T=u.slice(0,x),u=u.slice(x+1),this.auth=decodeURIComponent(T));var c;for(l=-1,h=0;h<A.length;h++)-1!==(c=u.indexOf(A[h]))&&(-1===l||c<l)&&(l=c);var f;if(-1===l&&(l=u.length),this.host=u.slice(0,l),u=u.slice(l),this.parseHost(),this.hostname=this.hostname||"",!(f="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1]))for(var d=this.hostname.split(/\./),p=(h=0,d.length);h<p;h++){var v=d[h];if(v&&!v.match(D)){for(var y="",g=0,_=v.length;g<_;g++)127<v.charCodeAt(g)?y+="x":y+=v[g];if(!y.match(D)){var m=d.slice(0,h),b=d.slice(h+1),w=v.match(I);w&&(m.push(w[1]),b.unshift(w[2])),b.length&&(u="/"+b.join(".")+u),this.hostname=m.join(".");break}}}255<this.hostname.length?this.hostname="":this.hostname=this.hostname.toLowerCase(),f||(this.hostname=P.toASCII(this.hostname));var x=this.port?":"+this.port:"",T=this.hostname||"";this.host=T+x,this.href+=this.host,f&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==u[0]&&(u="/"+u))}if(!j[a])for(h=0,p=M.length;h<p;h++){var E,O=M[h];-1!==u.indexOf(O)&&((E=encodeURIComponent(O))===O&&(E=escape(O)),u=u.split(O).join(E))}return-1!==(f=u.indexOf("#"))&&(this.hash=u.substr(f),u=u.slice(0,f)),-1!==(f=u.indexOf("?"))?(this.search=u.substr(f),this.query=u.substr(f+1),t&&(this.query=B.parse(this.query)),u=u.slice(0,f)):t&&(this.search="",this.query={}),u&&(this.pathname=u),N[a]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(x=this.pathname||"",a=this.search||"",this.path=x+a),this.href=this.format(),this},w.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";return this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&S.isObject(this.query)&&Object.keys(this.query).length&&(o=B.stringify(this.query)),o=this.search||o&&"?"+o||"",t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||N[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i=i||"",r&&"#"!==r.charAt(0)&&(r="#"+r),o&&"?"!==o.charAt(0)&&(o="?"+o),t+i+(n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(o=o.replace("#","%23"))+r},w.prototype.resolve=function(e){return this.resolveObject(i(e,!1,!0)).format()},w.prototype.resolveObject=function(e){S.isString(e)&&((g=new w).parse(e,!1,!0),e=g);for(var t=new w,n=Object.keys(this),r=0;r<n.length;r++){var i=n[r];t[i]=this[i]}if(t.hash=e.hash,""===e.href)return t.href=t.format(),t;if(e.slashes&&!e.protocol){for(var o=Object.keys(e),s=0;s<o.length;s++){var a=o[s];"protocol"!==a&&(t[a]=e[a])}return N[t.protocol]&&t.hostname&&!t.pathname&&(t.path=t.pathname="/"),t.href=t.format(),t}if(e.protocol&&e.protocol!==t.protocol){if(!N[e.protocol]){for(var u=Object.keys(e),l=0;l<u.length;l++){var h=u[l];t[h]=e[h]}return t.href=t.format(),t}if(t.protocol=e.protocol,e.host||L[e.protocol])t.pathname=e.pathname;else{for(var c=(e.pathname||"").split("/");c.length&&!(e.host=c.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==c[0]&&c.unshift(""),c.length<2&&c.unshift(""),t.pathname=c.join("/")}return t.search=e.search,t.query=e.query,t.host=e.host||"",t.auth=e.auth,t.hostname=e.hostname||e.host,t.port=e.port,(t.pathname||t.search)&&(d=t.pathname||"",p=t.search||"",t.path=d+p),t.slashes=t.slashes||e.slashes,t.href=t.format(),t}var f=t.pathname&&"/"===t.pathname.charAt(0),d=(g=e.host||e.pathname&&"/"===e.pathname.charAt(0))||f||t.host&&e.pathname,p=d,v=t.pathname&&t.pathname.split("/")||[];c=e.pathname&&e.pathname.split("/")||[];if((f=t.protocol&&!N[t.protocol])&&(t.hostname="",t.port=null,t.host&&(""===v[0]?v[0]=t.host:v.unshift(t.host)),t.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===c[0]?c[0]=e.host:c.unshift(e.host)),e.host=null),d=d&&(""===c[0]||""===v[0])),g)t.host=(e.host||""===e.host?e:t).host,t.hostname=(e.hostname||""===e.hostname?e:t).hostname,t.search=e.search,t.query=e.query,v=c;else if(c.length)(v=v||[]).pop(),v=v.concat(c),t.search=e.search,t.query=e.query;else if(!S.isNullOrUndefined(e.search))return f&&(t.hostname=t.host=v.shift(),(b=!!(t.host&&0<t.host.indexOf("@"))&&t.host.split("@"))&&(t.auth=b.shift(),t.host=t.hostname=b.shift())),t.search=e.search,t.query=e.query,S.isNull(t.pathname)&&S.isNull(t.search)||(t.path=(t.pathname||"")+(t.search||"")),t.href=t.format(),t;if(!v.length)return t.pathname=null,t.search?t.path="/"+t.search:t.path=null,t.href=t.format(),t;for(var y=v.slice(-1)[0],g=(t.host||e.host||1<v.length)&&("."===y||".."===y)||""===y,_=0,m=v.length;0<=m;m--)"."===(y=v[m])?v.splice(m,1):".."===y?(v.splice(m,1),_++):_&&(v.splice(m,1),_--);if(!d&&!p)for(;_--;)v.unshift("..");!d||""===v[0]||v[0]&&"/"===v[0].charAt(0)||v.unshift(""),g&&"/"!==v.join("/").substr(-1)&&v.push("");var b;g=""===v[0]||v[0]&&"/"===v[0].charAt(0);return f&&(t.hostname=t.host=!g&&v.length?v.shift():"",(b=!!(t.host&&0<t.host.indexOf("@"))&&t.host.split("@"))&&(t.auth=b.shift(),t.host=t.hostname=b.shift())),(d=d||t.host&&v.length)&&!g&&v.unshift(""),v.length?t.pathname=v.join("/"):(t.pathname=null,t.path=null),S.isNull(t.pathname)&&S.isNull(t.search)||(t.path=(t.pathname||"")+(t.search||"")),t.auth=e.auth||t.auth,t.slashes=t.slashes||e.slashes,t.href=t.format(),t},w.prototype.parseHost=function(){var e=this.host,t=r.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(4),s=n(5),a=n(1),u=c(n(3)),l=c(n(13)),h=c(n(39));n=c(n(6));function c(e){return e&&e.__esModule?e:{default:e}}var f=new s.Matrix;(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(d,n.default),r(d,[{key:"resize",value:function(e,t){this.screen.width=e,this.screen.height=t,this.view.width=e*this.resolution,this.view.height=t*this.resolution,this.autoResize&&(this.view.style.width=e+"px",this.view.style.height=t+"px")}},{key:"generateTexture",value:function(e,t,n,r){return r=r||e.getLocalBounds(),n=h.default.create(0|r.width,0|r.height,t,n),f.tx=-r.x,f.ty=-r.y,this.render(e,n,!1,f,!!e.parent),n}},{key:"destroy",value:function(e){e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=a.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null}},{key:"width",get:function(){return this.view.width}},{key:"height",get:function(){return this.view.height}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=(0,o.hex2string)(e),(0,o.hex2rgb)(e,this._backgroundColorRgba)}}]),r=d;function d(e,t,n,r){!function(e){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")}(this);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return(0,o.sayHello)(e),"number"==typeof t&&(t=Object.assign({width:t,height:n||u.default.RENDER_OPTIONS.height},r)),t=Object.assign({},u.default.RENDER_OPTIONS,t),i.options=t,i.type=a.RENDERER_TYPE.UNKNOWN,i.screen=new s.Rectangle(0,0,t.width,t.height),i.view=t.view||document.createElement("canvas"),i.resolution=t.resolution||u.default.RESOLUTION,i.transparent=t.transparent,i.autoResize=t.autoResize||!1,i.blendModes=null,i.preserveDrawingBuffer=t.preserveDrawingBuffer,i.clearBeforeRender=t.clearBeforeRender,i.roundPixels=t.roundPixels,i._backgroundColor=0,i._backgroundColorRgba=[0,0,0,0],i._backgroundColorString="#000000",i.backgroundColor=t.backgroundColor||i._backgroundColor,i._tempDisplayObjectParent=new l.default,i._lastObjectRendered=i._tempDisplayObjectParent,i}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=o(n(100));function o(e){return e&&e.__esModule?e:{default:e}}function u(e,t){!function(e){if(!(e instanceof u))throw new TypeError("Cannot call a class as a function")}(this);var n,r,i,o,s=null;return e instanceof a.default||(n=arguments[1],r=arguments[2],i=arguments[3],o=arguments[4],console.warn("Please use RenderTexture.create("+n+", "+r+") instead of the ctor directly."),s=arguments[0],t=null,e=new a.default(n,r,i,o)),(t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e,t))).legacyRenderer=s,t.valid=!0,t._updateUvs(),t}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(u,o(n(9)).default),r(u,[{key:"resize",value:function(e,t,n){e=Math.ceil(e),t=Math.ceil(t),this.valid=0<e&&0<t,this._frame.width=this.orig.width=e,this._frame.height=this.orig.height=t,n||this.baseTexture.resize(e,t),this._updateUvs()}}],[{key:"create",value:function(e,t,n,r){return new u(new a.default(e,t,n,r))}}]),r=u,t.default=r},function(e,t,n){"use strict";function r(e){var t=document.createElement("canvas");t.width=6,t.height=1;var n=t.getContext("2d");return n.fillStyle=e,n.fillRect(0,0,6,1),t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if("undefined"==typeof document)return!1;var e=r("#ff00ff"),t=r("#ffff00"),n=document.createElement("canvas");return n.width=6,n.height=1,(n=n.getContext("2d")).globalCompositeOperation="multiply",n.drawImage(e,0,0),n.drawImage(t,2,0),!!(n=n.getImageData(2,0,1,1))&&(255===(n=n.data)[0]&&0===n[1]&&0===n[2])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,c=n(4),o={getTintedTexture:function(e,t){var n=e._texture,r="#"+("00000"+(0|(t=o.roundColor(t))).toString(16)).substr(-6);n.tintCache=n.tintCache||{};var i=n.tintCache[r];e=void 0;if(i){if(i.tintId===n._updateID)return n.tintCache[r];e=n.tintCache[r]}else e=o.canvas||document.createElement("canvas");return o.tintMethod(n,t,e),e.tintId=n._updateID,o.convertTintToImage?((t=new Image).src=e.toDataURL(),n.tintCache[r]=t):(n.tintCache[r]=e,o.canvas=null),e},tintWithMultiply:function(e,t,n){var r=n.getContext("2d"),i=e._frame.clone(),o=e.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,n.width=Math.ceil(i.width),n.height=Math.ceil(i.height),r.save(),r.fillStyle="#"+("00000"+(0|t).toString(16)).substr(-6),r.fillRect(0,0,i.width,i.height),r.globalCompositeOperation="multiply",r.drawImage(e.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),r.globalCompositeOperation="destination-atop",r.drawImage(e.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),r.restore()},tintWithOverlay:function(e,t,n){var r=n.getContext("2d"),i=e._frame.clone(),o=e.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,n.width=Math.ceil(i.width),n.height=Math.ceil(i.height),r.save(),r.globalCompositeOperation="copy",r.fillStyle="#"+("00000"+(0|t).toString(16)).substr(-6),r.fillRect(0,0,i.width,i.height),r.globalCompositeOperation="destination-atop",r.drawImage(e.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),r.restore()},tintWithPerPixel:function(e,t,n){var r=n.getContext("2d"),i=e._frame.clone(),o=e.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,n.width=Math.ceil(i.width),n.height=Math.ceil(i.height),r.save(),r.globalCompositeOperation="copy",r.drawImage(e.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),r.restore();for(var s=(t=(0,c.hex2rgb)(t))[0],a=t[1],u=t[2],l=(i=r.getImageData(0,0,i.width,i.height)).data,h=0;h<l.length;h+=4)l[h+0]*=s,l[h+1]*=a,l[h+2]*=u;r.putImageData(i,0,0)},roundColor:function(e){var t=o.cacheStepsPerColorChannel;return(e=(0,c.hex2rgb)(e))[0]=Math.min(255,e[0]/t*t),e[1]=Math.min(255,e[1]/t*t),e[2]=Math.min(255,e[2]/t*t),(0,c.rgb2hex)(e)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,((r=n(40))&&r.__esModule?r:{default:r}).default)(),tintMethod:0};o.tintMethod=o.canUseMultiply?o.tintWithMultiply:o.tintWithPerPixel,t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=l(n(107)),s=n(4),a=n(1),u=l(n(3));function l(e){return e&&e.__esModule?e:{default:e}}var h={};r(c,[{key:"apply",value:function(e,t,n,r,i){e.applyFilter(this,t,n,r)}},{key:"blendMode",get:function(){return this._blendMode},set:function(e){this._blendMode=e}}],[{key:"defaultVertexSrc",get:function(){return["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 projectionMatrix;","uniform mat3 filterMatrix;","varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;","   vTextureCoord = aTextureCoord ;","}"].join("\n")}},{key:"defaultFragmentSrc",get:function(){return["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","void main(void){","   vec4 masky = texture2D(filterSampler, vFilterCoord);","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 color;","   if(mod(vFilterCoord.x, 1.0) > 0.5)","   {","     color = vec4(1.0, 0.0, 0.0, 1.0);","   }","   else","   {","     color = vec4(0.0, 1.0, 0.0, 1.0);","   }","   gl_FragColor = mix(sample, masky, 0.5);","   gl_FragColor *= sample.a;","}"].join("\n")}}]),r=c;function c(e,t,n){for(var r in function(e){if(!(e instanceof c))throw new TypeError("Cannot call a class as a function")}(this),this.vertexSrc=e||c.defaultVertexSrc,this.fragmentSrc=t||c.defaultFragmentSrc,this._blendMode=a.BLEND_MODES.NORMAL,this.uniformData=n||(0,o.default)(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler"),this.uniforms={},this.uniformData)this.uniforms[r]=this.uniformData[r].value,this.uniformData[r].type&&(this.uniformData[r].type=this.uniformData[r].type.toLowerCase());this.glShaders={},h[this.vertexSrc+this.fragmentSrc]||(h[this.vertexSrc+this.fragmentSrc]=(0,s.uid)()),this.glShaderKey=h[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=u.default.FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0}t.default=r},function(e,t){e.exports=function(e,t,n){if(n){for(var r=n.tempAttribState,i=n.attribState,o=0;o<r.length;o++)r[o]=!1;for(o=0;o<t.length;o++)r[t[o].attribute.location]=!0;for(o=0;o<i.length;o++)i[o]!==r[o]&&(i[o]=r[o],n.attribState[o]?e.enableVertexAttribArray(o):e.disableVertexAttribArray(o))}else for(o=0;o<t.length;o++){var s=t[o];e.enableVertexAttribArray(s.attribute.location)}}},function(e,t){function i(e,t,n,r,i){this.gl=e,this.texture=e.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=t||-1,this.height=n||-1,this.format=r||e.RGBA,this.type=i||e.UNSIGNED_BYTE}var o=!(i.prototype.upload=function(e){this.bind();var t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var n=e.videoWidth||e.width,r=e.videoHeight||e.height;r!==this.height||n!==this.width?t.texImage2D(t.TEXTURE_2D,0,this.format,this.format,this.type,e):t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.format,this.type,e),this.width=n,this.height=r});i.prototype.uploadData=function(e,t,n){this.bind();var r=this.gl;if(e instanceof Float32Array){if(!o){if(!r.getExtension("OES_texture_float"))throw new Error("floating point textures not available");o=!0}this.type=r.FLOAT}else this.type=this.type||r.UNSIGNED_BYTE;r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),t!==this.width||n!==this.height?r.texImage2D(r.TEXTURE_2D,0,this.format,t,n,0,this.format,this.type,e||null):r.texSubImage2D(r.TEXTURE_2D,0,0,0,t,n,this.format,this.type,e||null),this.width=t,this.height=n},i.prototype.bind=function(e){var t=this.gl;void 0!==e&&t.activeTexture(t.TEXTURE0+e),t.bindTexture(t.TEXTURE_2D,this.texture)},i.prototype.unbind=function(){var e=this.gl;e.bindTexture(e.TEXTURE_2D,null)},i.prototype.minFilter=function(e){var t=this.gl;this.bind(),this.mipmap?t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e?t.LINEAR_MIPMAP_LINEAR:t.NEAREST_MIPMAP_NEAREST):t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e?t.LINEAR:t.NEAREST)},i.prototype.magFilter=function(e){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,e?t.LINEAR:t.NEAREST)},i.prototype.enableMipmap=function(){var e=this.gl;this.bind(),this.mipmap=!0,e.generateMipmap(e.TEXTURE_2D)},i.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},i.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},i.prototype.enableWrapClamp=function(){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)},i.prototype.enableWrapRepeat=function(){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT)},i.prototype.enableWrapMirrorRepeat=function(){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.MIRRORED_REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.MIRRORED_REPEAT)},i.prototype.destroy=function(){this.gl.deleteTexture(this.texture)},i.fromSource=function(e,t,n){return(e=new i(e)).premultiplyAlpha=n||!1,e.upload(t),e},i.fromData=function(e,t,n,r){return(e=new i(e)).uploadData(t,n,r),e},e.exports=i},function(e,t){function s(e,t,n){return t=e.createShader(t),e.shaderSource(t,n),e.compileShader(t),e.getShaderParameter(t,e.COMPILE_STATUS)?t:(console.log(e.getShaderInfoLog(t)),null)}e.exports=function(e,t,n,r){t=s(e,e.VERTEX_SHADER,t),n=s(e,e.FRAGMENT_SHADER,n);var i=e.createProgram();if(e.attachShader(i,t),e.attachShader(i,n),r)for(var o in r)e.bindAttribLocation(i,r[o],o);return e.linkProgram(i),e.getProgramParameter(i,e.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",e.getProgramParameter(i,e.VALIDATE_STATUS)),console.error("gl.getError()",e.getError()),""!==e.getProgramInfoLog(i)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(i)),e.deleteProgram(i),i=null),e.deleteShader(t),e.deleteShader(n),i}},function(e,t,n){function a(e,t,n,r){gl.vertexAttribPointer(this.location,this.size,e||gl.FLOAT,t||!1,n||0,r||0)}var u=n(26),l=n(47);e.exports=function(e,t){for(var n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=0;i<r;i++){var o=e.getActiveAttrib(t,i),s=u(e,o.type);n[o.name]={type:s,size:l(s),location:e.getAttribLocation(t,o.name),pointer:a}}return n}},function(e,t){var n={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};e.exports=function(e){return n[e]}},function(e,t,n){var u=n(26),l=n(49);e.exports=function(e,t){for(var n={},r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i=0;i<r;i++){var o=e.getActiveUniform(t,i),s=o.name.replace(/\[.*?\]/,""),a=u(e,o.type);n[s]={type:a,size:o.size,location:e.getUniformLocation(t,s),value:l(a,o.size)}}return n}},function(e,t){function n(e){for(var t=new Array(e),n=0;n<t.length;n++)t[n]=!1;return t}e.exports=function(e,t){switch(e){case"float":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"bool":return!1;case"bvec2":return n(2*t);case"bvec3":return n(3*t);case"bvec4":return n(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}}},function(e,t){e.exports=function(e,t){return"precision"!==e.substring(0,9)?"precision "+t+" float;\n"+e:e}},function(e,t){function u(e){return function(){return this.data[e].value}}var l={float:function(e,t,n){e.uniform1f(t,n)},vec2:function(e,t,n){e.uniform2f(t,n[0],n[1])},vec3:function(e,t,n){e.uniform3f(t,n[0],n[1],n[2])},vec4:function(e,t,n){e.uniform4f(t,n[0],n[1],n[2],n[3])},int:function(e,t,n){e.uniform1i(t,n)},ivec2:function(e,t,n){e.uniform2i(t,n[0],n[1])},ivec3:function(e,t,n){e.uniform3i(t,n[0],n[1],n[2])},ivec4:function(e,t,n){e.uniform4i(t,n[0],n[1],n[2],n[3])},bool:function(e,t,n){e.uniform1i(t,n)},bvec2:function(e,t,n){e.uniform2i(t,n[0],n[1])},bvec3:function(e,t,n){e.uniform3i(t,n[0],n[1],n[2])},bvec4:function(e,t,n){e.uniform4i(t,n[0],n[1],n[2],n[3])},mat2:function(e,t,n){e.uniformMatrix2fv(t,!1,n)},mat3:function(e,t,n){e.uniformMatrix3fv(t,!1,n)},mat4:function(e,t,n){e.uniformMatrix4fv(t,!1,n)},sampler2D:function(e,t,n){e.uniform1i(t,n)}},h={float:function(e,t,n){e.uniform1fv(t,n)},vec2:function(e,t,n){e.uniform2fv(t,n)},vec3:function(e,t,n){e.uniform3fv(t,n)},vec4:function(e,t,n){e.uniform4fv(t,n)},int:function(e,t,n){e.uniform1iv(t,n)},ivec2:function(e,t,n){e.uniform2iv(t,n)},ivec3:function(e,t,n){e.uniform3iv(t,n)},ivec4:function(e,t,n){e.uniform4iv(t,n)},bool:function(e,t,n){e.uniform1iv(t,n)},bvec2:function(e,t,n){e.uniform2iv(t,n)},bvec3:function(e,t,n){e.uniform3iv(t,n)},bvec4:function(e,t,n){e.uniform4iv(t,n)},sampler2D:function(e,t,n){e.uniform1iv(t,n)}};e.exports=function(e,t){var i={data:{}};i.gl=e;for(var n=Object.keys(t),r=0;r<n.length;r++){var o=(s=(a=n[r]).split("."))[s.length-1],s=function(e){for(var t=i,n=0;n<e.length-1;n++){var r=t[e[n]]||{data:{}};t[e[n]]=r,t=r}return t}(s),a=t[a];s.data[o]=a,s.gl=e,Object.defineProperty(s,o,{get:u(o),set:function(n,r){return function(e){this.data[n].value=e;var t=this.data[n].location;(1===r.size?l:h)[r.type](this.gl,t,e)}}(o,a)})}return i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,s=(o=n(18))&&o.__esModule?o:{default:o},a=new s.default;r(u,[{key:"multiplyUvs",value:function(e,t){void 0===t&&(t=e);for(var n=this.mapCoord,r=0;r<e.length;r+=2){var i=e[r],o=e[r+1];t[r]=i*n.a+o*n.c+n.tx,t[r+1]=i*n.b+o*n.d+n.ty}return t}},{key:"update",value:function(e){var t=this._texture;if(!t||!t.valid)return!1;if(!e&&this._lastTextureID===t._updateID)return!1;this._lastTextureID=t._updateID;var n=t._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var r=t.orig,i=t.trim;return i&&(a.set(r.width/i.width,0,0,r.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(a)),e=t.baseTexture,n=this.uClampFrame,r=this.clampMargin/e.resolution,i=this.clampOffset,n[0]=(t._frame.x+r+i)/e.width,n[1]=(t._frame.y+r+i)/e.height,n[2]=(t._frame.x+t._frame.width-r+i)/e.width,n[3]=(t._frame.y+t._frame.height-r+i)/e.height,this.uClampOffset[0]=i/e.realWidth,this.uClampOffset[1]=i/e.realHeight,!0}},{key:"texture",get:function(){return this._texture},set:function(e){this._texture=e,this._lastTextureID=-1}}]),r=u;function u(e,t){!function(e){if(!(e instanceof u))throw new TypeError("Cannot call a class as a function")}(this),this._texture=e,this.mapCoord=new s.default,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin=void 0===t?.5:t}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=a(n(7)),s=a(n(54));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t){!function(e){if(!(e instanceof u))throw new TypeError("Cannot call a class as a function")}(this),this.gl=e,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(16);for(var n=0;n<4;n++)this.interleaved[4*n]=this.vertices[2*n],this.interleaved[4*n+1]=this.vertices[2*n+1],this.interleaved[4*n+2]=this.uvs[2*n],this.interleaved[4*n+3]=this.uvs[2*n+1];this.indices=(0,s.default)(1),this.vertexBuffer=o.default.GLBuffer.createVertexBuffer(e,this.interleaved,e.STATIC_DRAW),this.indexBuffer=o.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW),this.vao=new o.default.VertexArrayObject(e,t)}r(u,[{key:"initVao",value:function(e){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,e.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,e.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)}},{key:"map",value:function(e,t){var n,r;return this.uvs[0]=0,this.uvs[1]=0,this.uvs[2]=0+t.width/e.width,this.uvs[3]=0,this.uvs[4]=0+t.width/e.width,this.uvs[5]=0+t.height/e.height,this.uvs[6]=0,this.uvs[7]=0+t.height/e.height,n=t.x,r=t.y,this.vertices[0]=n,this.vertices[1]=r,this.vertices[2]=n+t.width,this.vertices[3]=r,this.vertices[4]=n+t.width,this.vertices[5]=r+t.height,this.vertices[6]=n,this.vertices[7]=r+t.height,this}},{key:"upload",value:function(){for(var e=0;e<4;e++)this.interleaved[4*e]=this.vertices[2*e],this.interleaved[4*e+1]=this.vertices[2*e+1],this.interleaved[4*e+2]=this.uvs[2*e],this.interleaved[4*e+3]=this.uvs[2*e+1];return this.vertexBuffer.upload(this.interleaved),this}},{key:"destroy",value:function(){var e=this.gl;e.deleteBuffer(this.vertexBuffer),e.deleteBuffer(this.indexBuffer)}}]),r=u,t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=6*e,n=new Uint16Array(t),r=0,i=0;r<t;r+=6,i+=4)n[r+0]=i+0,n[r+1]=i+1,n[r+2]=i+2,n[r+3]=i+0,n[r+4]=i+2,n[r+5]=i+3;return n}},function(e,l,t){(function(i){function o(e,t){for(var n=0,r=e.length-1;0<=r;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;)e.unshift("..");return e}function s(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}l.resolve=function(){for(var e="",t=!1,n=arguments.length-1;-1<=n&&!t;n--){var r=0<=n?arguments[n]:i.cwd();if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");r&&(e=r+"/"+e,t="/"===r.charAt(0))}return(t?"/":"")+(e=o(s(e.split("/"),function(e){return!!e}),!t).join("/"))||"."},l.normalize=function(e){var t=l.isAbsolute(e),n="/"===r(e,-1);return(e=(e=o(s(e.split("/"),function(e){return!!e}),!t).join("/"))||t?e:".")&&n&&(e+="/"),(t?"/":"")+e},l.isAbsolute=function(e){return"/"===e.charAt(0)},l.join=function(){var e=Array.prototype.slice.call(arguments,0);return l.normalize(s(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},l.relative=function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;0<=n&&""===e[n];n--);return n<t?[]:e.slice(t,n-t+1)}e=l.resolve(e).substr(1),t=l.resolve(t).substr(1);for(var r=n(e.split("/")),i=n(t.split("/")),o=Math.min(r.length,i.length),s=o,a=0;a<o;a++)if(r[a]!==i[a]){s=a;break}var u=[];for(a=s;a<r.length;a++)u.push("..");return(u=u.concat(i.slice(s))).join("/")},l.sep="/",l.delimiter=":",l.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=47===e.charCodeAt(0),n=-1,r=!0,i=e.length-1;1<=i;--i)if(47===e.charCodeAt(i)){if(!r){n=i;break}}else r=!1;return-1===n?t?"/":".":t&&1===n?"/":e.slice(0,n)},l.basename=function(e,t){return e=function(e){"string"!=typeof e&&(e+="");for(var t=0,n=-1,r=!0,i=e.length-1;0<=i;--i)if(47===e.charCodeAt(i)){if(!r){t=i+1;break}}else-1===n&&(r=!1,n=i+1);return-1===n?"":e.slice(t,n)}(e),t&&e.substr(-1*t.length)===t?e.substr(0,e.length-t.length):e},l.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,o=0,s=e.length-1;0<=s;--s){var a=e.charCodeAt(s);if(47===a){if(i)continue;n=s+1;break}-1===r&&(i=!1,r=s+1),46===a?-1===t?t=s:1!==o&&(o=1):-1!==t&&(o=-1)}return-1===t||-1===r||0===o||1===o&&t===r-1&&t===n+1?"":e.slice(t,r)};var r="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,t(127))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(1),s=n(4),a={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:o.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},u=["serif","sans-serif","monospace","cursive","fantasy","system-ui"];r(l,[{key:"clone",value:function(){var e={};return f(e,this,a),new l(e)}},{key:"reset",value:function(){f(this,a,a)}},{key:"toFontString",value:function(){for(var e="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,t=this.fontFamily,n=(t=Array.isArray(this.fontFamily)?t:this.fontFamily.split(",")).length-1;0<=n;n--){var r=t[n].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&u.indexOf(r)<0&&(r='"'+r+'"'),t[n]=r}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+e+" "+t.join(",")}},{key:"align",get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},set:function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}},{key:"dropShadowAlpha",get:function(){return this._dropShadowAlpha},set:function(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},set:function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}},{key:"dropShadowColor",get:function(){return this._dropShadowColor},set:function(e){e=c(e),this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(e){e=c(e),this._fill!==e&&(this._fill=e,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},set:function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}},{key:"fillGradientStops",get:function(){return this._fillGradientStops},set:function(e){!function(e,t){if(!Array.isArray(e)||!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._fillGradientStops,e)&&(this._fillGradientStops=e,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}},{key:"fontVariant",get:function(){return this._fontVariant},set:function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}},{key:"leading",get:function(){return this._leading},set:function(e){this._leading!==e&&(this._leading=e,this.styleID++)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},set:function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(e){this._padding!==e&&(this._padding=e,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(e){e=c(e),this._stroke!==e&&(this._stroke=e,this.styleID++)}},{key:"strokeThickness",get:function(){return this._strokeThickness},set:function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}},{key:"trim",get:function(){return this._trim},set:function(e){this._trim!==e&&(this._trim=e,this.styleID++)}},{key:"whiteSpace",get:function(){return this._whiteSpace},set:function(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},set:function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}}]),r=l;function l(e){!function(e){if(!(e instanceof l))throw new TypeError("Cannot call a class as a function")}(this),this.styleID=0,this.reset(),f(this,e,e)}function h(e){return"number"==typeof e?(0,s.hex2string)(e):"string"==typeof e&&0===e.indexOf("0x")?e.replace("0x","#"):e}function c(e){if(Array.isArray(e)){for(var t=0;t<e.length;++t)e[t]=h(e[t]);return e}return h(e)}function f(e,t,n){for(var r in n)Array.isArray(t[r])?e[r]=t[r].slice():e[r]=t[r]}t.default=r},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var i=(r(O,[{key:"measureText",value:function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:O._canvas;n=null==n?t.wordWrap:n;var i=t.toFontString(),o=O.measureFont(i),s=r.getContext("2d");s.font=i;for(var a=(n?O.wordWrap(e,t,r):e).split(/(?:\r\n|\r|\n)/),u=new Array(a.length),l=0,h=0;h<a.length;h++){var c=s.measureText(a[h]).width+(a[h].length-1)*t.letterSpacing;u[h]=c,l=Math.max(l,c)}return i=l+t.strokeThickness,t.dropShadow&&(i+=t.dropShadowDistance),n=t.lineHeight||o.fontSize+t.strokeThickness,r=Math.max(n,o.fontSize+t.strokeThickness)+(a.length-1)*(n+t.leading),t.dropShadow&&(r+=t.dropShadowDistance),new O(e,t,i,r,a,u,n+t.leading,l,o)}},{key:"wordWrap",value:function(e,t){for(var n=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:O._canvas).getContext("2d"),r=0,i="",o="",s={},a=t.letterSpacing,u=t.whiteSpace,l=O.collapseSpaces(u),h=O.collapseNewlines(u),c=!l,f=t.wordWrapWidth+a,d=O.tokenize(e),p=0;p<d.length;p++){var v=d[p];if(O.isNewline(v)){if(!h){o+=O.addLine(i),c=!l,i="",r=0;continue}v=" "}if(l){var y=O.isBreakingSpace(v),g=O.isBreakingSpace(i[i.length-1]);if(y&&g)continue}if(f<(y=O.getFromCache(v,a,s,n)))if(""!==i&&(o+=O.addLine(i),i="",r=0),O.canBreakWords(v,t.breakWords))for(var _=v.split(""),m=0;m<_.length;m++){for(var b=_[m],w=1;_[m+w];){var x=_[m+w],T=b[b.length-1];if(O.canBreakChars(T,x,v,m,t.breakWords))break;b+=x,w++}m+=b.length-1;var E=O.getFromCache(b,a,s,n);f<E+r&&(o+=O.addLine(i),c=!1,i="",r=0),i+=b,r+=E}else 0<i.length&&(o+=O.addLine(i),i="",r=0),g=p===d.length-1,o+=O.addLine(v,!g),c=!1,i="",r=0;else f<y+r&&(c=!1,o+=O.addLine(i),i="",r=0),(0<i.length||!O.isBreakingSpace(v)||c)&&(i+=v,r+=y)}return o+O.addLine(i,!1)}},{key:"addLine",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];return e=O.trimRight(e),t?e+"\n":e}},{key:"getFromCache",value:function(e,t,n,r){var i=n[e];return void 0===i&&(t=e.length*t,i=r.measureText(e).width+t,n[e]=i),i}},{key:"collapseSpaces",value:function(e){return"normal"===e||"pre-line"===e}},{key:"collapseNewlines",value:function(e){return"normal"===e}},{key:"trimRight",value:function(e){if("string"!=typeof e)return"";for(var t=e.length-1;0<=t;t--){var n=e[t];if(!O.isBreakingSpace(n))break;e=e.slice(0,-1)}return e}},{key:"isNewline",value:function(e){return"string"==typeof e&&0<=O._newlines.indexOf(e.charCodeAt(0))}},{key:"isBreakingSpace",value:function(e){return"string"==typeof e&&0<=O._breakingSpaces.indexOf(e.charCodeAt(0))}},{key:"tokenize",value:function(e){var t=[],n="";if("string"!=typeof e)return t;for(var r=0;r<e.length;r++){var i=e[r];O.isBreakingSpace(i)||O.isNewline(i)?(""!==n&&(t.push(n),n=""),t.push(i)):n+=i}return""!==n&&t.push(n),t}},{key:"canBreakWords",value:function(e,t){return t}},{key:"canBreakChars",value:function(e,t,n,r,i){return!0}},{key:"measureFont",value:function(e){if(O._fonts[e])return O._fonts[e];var t={},n=O._canvas;(u=O._context).font=e;var r=O.METRICS_STRING+O.BASELINE_SYMBOL,i=Math.ceil(u.measureText(r).width),o=2*(s=Math.ceil(u.measureText(O.BASELINE_SYMBOL).width)),s=s*O.BASELINE_MULTIPLIER|0;n.width=i,n.height=o,u.fillStyle="#f00",u.fillRect(0,0,i,o),u.font=e,u.textBaseline="alphabetic",u.fillStyle="#000",u.fillText(r,0,s);var a=u.getImageData(0,0,i,o).data,u=a.length,l=4*i,h=0,c=0,f=!1;for(h=0;h<s;++h){for(var d=0;d<l;d+=4)if(255!==a[c+d]){f=!0;break}if(f)break;c+=l}for(t.ascent=s-h,c=u-l,f=!1,h=o;s<h;--h){for(var p=0;p<l;p+=4)if(255!==a[c+p]){f=!0;break}if(f)break;c-=l}return t.descent=h-s,t.fontSize=t.ascent+t.descent,O._fonts[e]=t}},{key:"clearMetrics",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";e?delete O._fonts[e]:O._fonts={}}}]),O);function O(e,t,n,r,i,o,s,a,u){!function(e){if(!(e instanceof O))throw new TypeError("Cannot call a class as a function")}(this),this.text=e,this.style=t,this.width=n,this.height=r,this.lines=i,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=a,this.fontProperties=u}t.default=i,(t=document.createElement("canvas")).width=t.height=10,i._canvas=t,i._context=t.getContext("2d"),i._fonts={},i.METRICS_STRING="|Éq",i.BASELINE_SYMBOL="M",i.BASELINE_MULTIPLIER=1.4,i._newlines=[10,13],i._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(133),s=h(n(13)),a=n(22),u=h(n(3)),l=n(1);function h(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,r,i){!function(e){if(!(e instanceof c))throw new TypeError("Cannot call a class as a function")}(this),"number"==typeof e&&(e=Object.assign({width:e,height:t||u.default.RENDER_OPTIONS.height,forceCanvas:!!r,sharedTicker:!!i},n)),this._options=e=Object.assign({autoStart:!0,sharedTicker:!1,forceCanvas:!1,sharedLoader:!1},e),this.renderer=(0,o.autoDetectRenderer)(e),this.stage=new s.default,this._ticker=null,this.ticker=e.sharedTicker?a.shared:new a.Ticker,e.autoStart&&this.start()}r(c,[{key:"render",value:function(){this.renderer.render(this.stage)}},{key:"stop",value:function(){this._ticker.stop()}},{key:"start",value:function(){this._ticker.start()}},{key:"destroy",value:function(e,t){var n;this._ticker&&(n=this._ticker,this.ticker=null,n.destroy()),this.stage.destroy(t),this.stage=null,this.renderer.destroy(e),this.renderer=null,this._options=null}},{key:"ticker",set:function(e){this._ticker&&this._ticker.remove(this.render,this),(this._ticker=e)&&e.add(this.render,this,l.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}},{key:"view",get:function(){return this.renderer.view}},{key:"screen",get:function(){return this.renderer.screen}}]),r=c,t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AudioManager=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(28)),i=s(n(15)),o=s(n(137));n=s(n(67));function s(e){return e&&e.__esModule?e:{default:e}}r.Loader.addPixiMiddleware(o.default);var a=r.Resource;i.default.isAudioSupported&&(i.default.isWebAudioSupported?(i.default.createGainNode=function(e){return e.createGain?e.createGain():e.createGainNode()},i.default.exts.forEach(function(e){a.setExtensionXhrType(e,a.XHR_RESPONSE_TYPE.BUFFER),a.setExtensionLoadType(e,a.LOAD_TYPE.XHR)})):i.default.exts.forEach(function(e){a.setExtensionXhrType(e,a.XHR_RESPONSE_TYPE.DEFAULT),a.setExtensionLoadType(e,a.LOAD_TYPE.AUDIO)})),t.AudioManager=n.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(t,n){if(t.data&&t.type===p.Resource.TYPE.XML)if(0!==t.data.getElementsByTagName("page").length&&0!==t.data.getElementsByTagName("info").length&&null!==t.data.getElementsByTagName("info")[0].getAttribute("face")){var e=t.isDataUrl?"":d.dirname(t.url);t.isDataUrl&&("."===e&&(e=""),this.baseUrl&&e&&"/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(e+="/")),(e=e.replace(this.baseUrl,""))&&"/"!==e.charAt(e.length-1)&&(e+="/");for(var r=t.data.getElementsByTagName("page"),i={},o=function(e){i[e.metadata.pageFile]=e.texture,Object.keys(i).length===r.length&&(parse(t,i),n())},s=0;s<r.length;++s){var a,u,l=r[s].getAttribute("file"),h=e+l,c=!1;for(a in this.resources){var f=this.resources[a];if(f.url===h){f.metadata.pageFile=l,f.texture?o(f):f.onAfterMiddleware.add(o),c=!0;break}}c||(u={crossOrigin:t.crossOrigin,loadType:p.Resource.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:l},t.metadata.imageMetadata),parentResource:t},this.add(h,u,o))}}else n();else n()}};var d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(55)),p=n(12)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=(r(a,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),a);function a(e,t,n){void 0===t&&(t=!1),o(this,a),this._fn=e,this._once=t,this._thisArg=n,this._next=this._prev=this._owner=null}function u(e,t){return e._head?(e._tail._next=t)._prev=e._tail:e._head=t,(e._tail=t)._owner=e,t}function l(){o(this,l),this._head=this._tail=void 0}r(l,[{key:"handlers",value:function(){var e=this._head;if(!(arguments.length<=0||void 0===arguments[0])&&arguments[0])return!!e;for(var t=[];e;)t.push(e),e=e._next;return t}},{key:"has",value:function(e){if(!(e instanceof s))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return e._owner===this}},{key:"dispatch",value:function(){var e=this._head;if(!e)return!1;for(;e;)e._once&&this.detach(e),e._fn.apply(e._thisArg,arguments),e=e._next;return!0}},{key:"add",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof e)throw new Error("MiniSignal#add(): First arg must be a Function.");return u(this,new s(e,!1,t))}},{key:"once",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof e)throw new Error("MiniSignal#once(): First arg must be a Function.");return u(this,new s(e,!0,t))}},{key:"detach",value:function(e){if(!(e instanceof s))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return e._owner!==this||(e._prev&&(e._prev._next=e._next),e._next&&(e._next._prev=e._prev),e===this._head?(this._head=e._next,null===e._next&&(this._tail=null)):e===this._tail&&(this._tail=e._prev,this._tail._next=null),e._owner=null),this}},{key:"detachAll",value:function(){var e=this._head;if(!e)return this;for(this._head=this._tail=null;e;)e._owner=null,e=e._next;return this}}]),(r=l).MiniSignalBinding=s,t.default=r,e.exports=t.default},function(e,t,n){"use strict";e.exports=function(e,t){if(e){for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=r.parser[(t=t||{}).strictMode?"strict":"loose"].exec(e),i={},o=14;o--;)i[r.key[o]]=n[o]||"";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,function(e,t,n){t&&(i[r.q.name][t]=n)}),i}}},function(e,t,n){"use strict";function o(){}t.__esModule=!0,t.eachSeries=function(n,r,i,o){var s=0,a=n.length;!function e(t){t||s===a?i&&i(t):o?setTimeout(function(){r(n[s++],e)},1):r(n[s++],e)}()},t.queue=function(t,e){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var n=0,r={_tasks:[],concurrency:e,saturated:o,unsaturated:o,buffer:e/4,empty:o,drain:o,error:o,started:!1,paused:!1,push:function(e,t){i(e,!1,t)},kill:function(){n=0,r.drain=o,r.started=!1,r._tasks=[]},unshift:function(e,t){i(e,!0,t)},process:function(){for(;!r.paused&&n<r.concurrency&&r._tasks.length;){var e=r._tasks.shift();0===r._tasks.length&&r.empty(),(n+=1)===r.concurrency&&r.saturated(),t(e.data,function(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}(function(e){return function(){--n,e.callback.apply(e,arguments),null!=arguments[0]&&r.error(arguments[0],e.data),n<=r.concurrency-r.buffer&&r.unsaturated(),r.idle()&&r.drain(),r.process()}}(e)))}},length:function(){return r._tasks.length},running:function(){return n},idle:function(){return r._tasks.length+n===0},pause:function(){!0!==r.paused&&(r.paused=!0)},resume:function(){if(!1!==r.paused){r.paused=!1;for(var e=1;e<=r.concurrency;e++)r.process()}}};function i(e,t,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");r.started=!0,null==e&&r.idle()?setTimeout(function(){return r.drain()},1):(n={data:e,callback:"function"==typeof n?n:o},t?r._tasks.unshift(n):r._tasks.push(n),setTimeout(function(){return r.process()},1))}return r}},function(e,t,n){"use strict";t.__esModule=!0,t.encodeBinary=r;var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function r(e){for(var t="",n=0;n<e.length;){for(var r=[0,0,0],i=[0,0,0,0],o=0;o<r.length;++o)n<e.length?r[o]=255&e.charCodeAt(n++):r[o]=0;switch(i[0]=r[0]>>2,i[1]=(3&r[0])<<4|r[1]>>4,i[2]=(15&r[1])<<2|r[2]>>6,i[3]=63&r[2],n-(e.length-1)){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64}for(var s=0;s<i.length;++s)t+=a.charAt(i[s])}return t}e.exports.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(n,r){var e,t,i=n.name+"_image";n.data&&n.type===o.Resource.TYPE.JSON&&n.data.frames&&!this.resources[i]?(e={crossOrigin:n.crossOrigin,metadata:n.metadata.imageMetadata,parentResource:n},t=a(n,this.baseUrl),this.add(i,t,e,function(e){var t;e.error?r(e.error):(t=new s.Spritesheet(e.texture.baseTexture,n.data,n.url)).parse(function(){n.spritesheet=t,n.textures=t.textures,r()})})):r()}},t.getResourcePath=a;var r,o=n(12),i=(r=n(37))&&r.__esModule?r:{default:r},s=n(2);function a(e,t){return e.isDataUrl?e.data.meta.image:i.default.resolve(e.url.replace(t,""),e.data.meta.image)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e,t){e.data&&e.type===i.Resource.TYPE.IMAGE&&(e.texture=o.default.fromLoader(e.data,e.url,e.name)),t()}};var r,i=n(12),o=(r=n(9))&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=a(n(15)),s=a(n(138));function a(e){return e&&e.__esModule?e:{default:e}}function u(){!function(e){if(!(e instanceof u))throw new TypeError("Cannot call a class as a function")}(this),this.enabled=o.default.isAudioSupported,this.sounds=[],o.default.isWebAudioSupported&&(this.context=o.default.globalWebAudioContext,this.gainNode=o.default.createGainNode(this.context),this.gainNode.connect(this.context.destination))}r(u,[{key:"add",value:function(e){var t=new s.default(u.audios[e],this);return t.name=e,this.sounds.push(t),t}},{key:"remove",value:function(e){-1!==(e=this.sounds.indexOf(e))&&this.sounds.splice(e,1)}},{key:"removeAll",value:function(){this.sounds.forEach(function(e){e.stop(),e.reset()})}},{key:"destroy",value:function(){this.removeAll(),this.sounds=[]}},{key:"get",value:function(t){var n=void 0;return this.sounds.forEach(function(e){e.name==t&&(n=e)}),n}},{key:"mute",value:function(e){e=!1!==e;for(var t=this.sounds.length,n=0;n<t;n++)this.sounds[n].muted=e}},{key:"unmute",value:function(){return this.mute(!1)}},{key:"pause",value:function(e){e=!1!==e;for(var t=this.sounds.length,n=0;n<t;n++)this.sounds[n].paused=e}},{key:"resume",value:function(){return this.pause(!1)}}]),r=u,(t.default=r).audios={}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2));function s(e,t){!function(e){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e[0]instanceof o.Texture?e[0]:e[0].texture));return n._textures=null,n._durations=null,n.textures=e,n._autoUpdate=!1!==t,n.animationSpeed=1,n.loop=!0,n.onComplete=null,n.onFrameChange=null,n.onLoop=null,n._currentTime=0,n.playing=!1,n}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(s,o.Sprite),r(s,[{key:"stop",value:function(){this.playing&&(this.playing=!1,this._autoUpdate&&o.ticker.shared.remove(this.update,this))}},{key:"play",value:function(){this.playing||(this.playing=!0,this._autoUpdate&&o.ticker.shared.add(this.update,this,o.UPDATE_PRIORITY.HIGH))}},{key:"gotoAndStop",value:function(e){this.stop();var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture()}},{key:"gotoAndPlay",value:function(e){var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture(),this.play()}},{key:"update",value:function(e){var t=this.animationSpeed*e,n=this.currentFrame;if(null!==this._durations){var r=this._currentTime%1*this._durations[this.currentFrame];for(r+=t/60*1e3;r<0;)this._currentTime--,r+=this._durations[this.currentFrame];var i=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);r>=this._durations[this.currentFrame];)r-=this._durations[this.currentFrame]*i,this._currentTime+=i;this._currentTime+=r/this._durations[this.currentFrame]}else this._currentTime+=t;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(0<this.animationSpeed&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}},{key:"updateTexture",value:function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.cachedTint=16777215,this.onFrameChange&&this.onFrameChange(this.currentFrame)}},{key:"destroy",value:function(e){this.stop(),function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);return void 0!==i?"value"in i?i.value:void 0!==(i=i.get)?i.call(r):void 0:null!==(t=Object.getPrototypeOf(t))?e(t,n,r):void 0}(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"destroy",this).call(this,e)}},{key:"totalFrames",get:function(){return this._textures.length}},{key:"textures",get:function(){return this._textures},set:function(e){if(e[0]instanceof o.Texture)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(var t=0;t<e.length;t++)this._textures.push(e[t].texture),this._durations.push(e[t].time)}this.gotoAndStop(0),this.updateTexture()}},{key:"currentFrame",get:function(){var e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}}],[{key:"fromFrames",value:function(e){for(var t=[],n=0;n<e.length;++n)t.push(o.Texture.fromFrame(e[n]));return new s(t)}},{key:"fromImages",value:function(e){for(var t=[],n=0;n<e.length;++n)t.push(o.Texture.fromImage(e[n]));return new s(t)}}]),r=s,t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);function i(){return function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this))}n(148),function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,r.TweenLite),r=i,t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=Math.ceil(e/2),r=u,i="",o=void 0;o=t?"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var s=0;s<e;s++){var a=o.replace("%index%",s);i+=a=a.replace("%sampleIndex%",s-(n-1)+".0"),i+="\n"}return(r=r.replace("%blur%",i)).replace("%size%",e)};var u=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float strength;","uniform mat3 projectionMatrix;","varying vec2 vBlurTexCoords[%size%];","void main(void)","{","gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);","%blur%","}"].join("\n")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=u[e],n=t.length,r=l,i="",o=void 0,s=0;s<e;s++){var a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",s);n<=(o=s)&&(o=e-s-1),i+=a=a.replace("%value%",t[o]),i+="\n"}return(r=r.replace("%blur%",i)).replace("%size%",e)};var u={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},l=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=e.getParameter(e.MAX_VARYING_VECTORS),n=15;t<n;)n-=2;return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2));function s(){!function(e){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),this.global=new o.Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}r(s,[{key:"getLocalPosition",value:function(e,t,n){return e.worldTransform.applyInverse(n||this.global,t)}},{key:"copyEvent",value:function(e){e.isPrimary&&(this.isPrimary=!0),this.button=e.button,this.buttons=Number.isInteger(e.buttons)?e.buttons:e.which,this.width=e.width,this.height=e.height,this.tiltX=e.tiltX,this.tiltY=e.tiltY,this.pointerType=e.pointerType,this.pressure=e.pressure,this.rotationAngle=e.rotationAngle,this.twist=e.twist||0,this.tangentialPressure=e.tangentialPressure||0}},{key:"reset",value:function(){this.isPrimary=!1}},{key:"pointerId",get:function(){return this.identifier}}]),r=s,t.default=r},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var i=(r(o.prototype,[{key:"stopPropagation",value:function(){this.stopped=!0}},{key:"reset",value:function(){this.stopped=!1,this.currentTarget=null,this.target=null}}]),o);function o(){!function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}t.default=i},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var i=(r(o.prototype,[{key:"_doSet",value:function(e,t){this._flags=t?this._flags|e:this._flags&~e}},{key:"pointerId",get:function(){return this._pointerId}},{key:"flags",get:function(){return this._flags},set:function(e){this._flags=e}},{key:"none",get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:"over",get:function(){return 0!=(this._flags&this.constructor.FLAGS.OVER)},set:function(e){this._doSet(this.constructor.FLAGS.OVER,e)}},{key:"rightDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},set:function(e){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,e)}},{key:"leftDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.LEFT_DOWN)},set:function(e){this._doSet(this.constructor.FLAGS.LEFT_DOWN,e)}}]),o);function o(e){!function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),this._pointerId=e,this._flags=o.FLAGS.NONE}(t.default=i).FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(e){e?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0}},function(e,d,p){"use strict";(function(e){Object.defineProperty(d,"__esModule",{value:!0}),d.loader=d.loaders=d.interaction=d.magic=d.Tween=d.VideoDom=d.Unit=d.AnimatedSprite=d.AnimatedClip=d.TextClip=d.SpriteClip=d.Game=d.AudioManager=void 0;var t=p(2);Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(d,e,{enumerable:!0,get:function(){return t[e]}})});var n=p(59);Object.defineProperty(d,"AudioManager",{enumerable:!0,get:function(){return n.AudioManager}});var r=p(139);Object.defineProperty(d,"Game",{enumerable:!0,get:function(){return r.Game}}),Object.defineProperty(d,"SpriteClip",{enumerable:!0,get:function(){return r.SpriteClip}}),Object.defineProperty(d,"TextClip",{enumerable:!0,get:function(){return r.TextClip}}),Object.defineProperty(d,"AnimatedClip",{enumerable:!0,get:function(){return r.AnimatedClip}}),Object.defineProperty(d,"AnimatedSprite",{enumerable:!0,get:function(){return r.AnimatedSprite}});var i=c(p(145)),o=c(p(146)),s=h(p(173)),a=h(p(69)),u=c(p(174)),l=c(p(28));function h(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.utils.mixins.performMixins();var f=new l.Loader;d.Unit=i,d.VideoDom=s.default,d.Tween=a.default,d.magic=o,d.interaction=u,d.loaders=l,d.loader=f,e.SINT=d}).call(this,p(16))},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var i=(r(o.prototype,[{key:"clone",value:function(){return new o((0<arguments.length&&void 0!==arguments[0]?arguments[0]:null)||this.cb,(1<arguments.length&&void 0!==arguments[1]?arguments[1]:null)||this.scope,this._x,this._y)}},{key:"set",value:function(e,t){e=e||0,t=t||(0!==t?e:0),this._x===e&&this._y===t||(this._x=e,this._y=t,this.cb.call(this.scope))}},{key:"copy",value:function(e){this._x===e.x&&this._y===e.y||(this._x=e.x,this._y=e.y,this.cb.call(this.scope))}},{key:"equals",value:function(e){return e.x===this._x&&e.y===this._y}},{key:"x",get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}]),o);function o(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;!function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),this._x=n,this._y=r,this.cb=e,this.scope=t}t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,s=(o=n(19))&&o.__esModule?o:{default:o},a=n(1);function u(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;!function(e){if(!(e instanceof u))throw new TypeError("Cannot call a class as a function")}(this),this.x=e,this.y=t,this.radius=n,this.type=a.SHAPES.CIRC}r(u,[{key:"clone",value:function(){return new u(this.x,this.y,this.radius)}},{key:"contains",value:function(e,t){if(this.radius<=0)return!1;var n=this.radius*this.radius;e=this.x-e,t=this.y-t;return(e*=e)+(t*=t)<=n}},{key:"getBounds",value:function(){return new s.default(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}}]),r=u,t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,s=(o=n(19))&&o.__esModule?o:{default:o},a=n(1);function u(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;!function(e){if(!(e instanceof u))throw new TypeError("Cannot call a class as a function")}(this),this.x=e,this.y=t,this.width=n,this.height=r,this.type=a.SHAPES.ELIP}r(u,[{key:"clone",value:function(){return new u(this.x,this.y,this.width,this.height)}},{key:"contains",value:function(e,t){return!(this.width<=0||this.height<=0)&&(e=(e-this.x)/this.width,t=(t-this.y)/this.height,(e*=e)+(t*=t)<=1)}},{key:"getBounds",value:function(){return new s.default(this.x-this.width,this.y-this.height,this.width,this.height)}}]),r=u,t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,s=(o=n(17))&&o.__esModule?o:{default:o},a=n(1);function u(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(function(e){if(!(e instanceof u))throw new TypeError("Cannot call a class as a function")}(this),(t=Array.isArray(t[0])?t[0]:t)[0]instanceof s.default){for(var r=[],i=0,o=t.length;i<o;i++)r.push(t[i].x,t[i].y);t=r}this.closed=!0,this.points=t,this.type=a.SHAPES.POLY}r(u,[{key:"clone",value:function(){return new u(this.points.slice())}},{key:"close",value:function(){var e=this.points;e[0]===e[e.length-2]&&e[1]===e[e.length-1]||e.push(e[0],e[1])}},{key:"contains",value:function(e,t){for(var n=!1,r=this.points.length/2,i=0,o=r-1;i<r;o=i++){var s=this.points[2*i],a=this.points[2*i+1],u=this.points[2*o],l=this.points[2*o+1];t<a!=t<l&&e<(t-a)/(l-a)*(u-s)+s&&(n=!n)}return n}}]),r=u,t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(1);function s(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:20;!function(e){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),this.x=e,this.y=t,this.width=n,this.height=r,this.radius=i,this.type=o.SHAPES.RREC}r(s,[{key:"clone",value:function(){return new s(this.x,this.y,this.width,this.height,this.radius)}},{key:"contains",value:function(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){if(t>=this.y+this.radius&&t<=this.y+this.height-this.radius||e>=this.x+this.radius&&e<=this.x+this.width-this.radius)return!0;var n=e-(this.x+this.radius),r=t-(this.y+this.radius),i=this.radius*this.radius;if(n*n+r*r<=i)return!0;if((n=e-(this.x+this.width-this.radius))*n+r*r<=i)return!0;if(n*n+(r=t-(this.y+this.height-this.radius))*r<=i)return!0;if((n=e-(this.x+this.radius))*n+r*r<=i)return!0}return!1}}]),r=s,t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return!(navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={mixin:function(e){var n;(n=e).__plugins={},n.registerPlugin=function(e,t){n.__plugins[e]=t},n.prototype.initPlugins=function(){for(var e in this.plugins=this.plugins||{},n.__plugins)this.plugins[e]=new n.__plugins[e](this)},n.prototype.destroyPlugins=function(){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;this.plugins=null}}}},function(e,t,n){"use strict";function r(e,t){if(e&&t)for(var n=Object.keys(t),r=0;r<n.length;++r){var i=n[r];Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}}Object.defineProperty(t,"__esModule",{value:!0}),t.mixin=r,t.delayMixin=function(e,t){i.push(e,t)},t.performMixins=function(){for(var e=0;e<i.length;e+=2)r(i[e],i[e+1]);i.length=0};var i=[]},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=e.length;if(!(r<=t||0===n)){for(var i=r-(n=r<t+n?r-t:n),o=t;o<i;++o)e[o]=e[o+n];e.length=i}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=[],t=[],n=0;n<32;n++)t[e[n]=n]=n;e[i.BLEND_MODES.NORMAL_NPM]=i.BLEND_MODES.NORMAL,e[i.BLEND_MODES.ADD_NPM]=i.BLEND_MODES.ADD,e[i.BLEND_MODES.SCREEN_NPM]=i.BLEND_MODES.SCREEN,t[i.BLEND_MODES.NORMAL]=i.BLEND_MODES.NORMAL_NPM,t[i.BLEND_MODES.ADD]=i.BLEND_MODES.ADD_NPM,t[i.BLEND_MODES.SCREEN]=i.BLEND_MODES.SCREEN_NPM;var r=[];return r.push(t),r.push(e),r};var i=n(1)},function(e,P,S){(function(d,v){var O;!function(){P&&P.nodeType,d&&d.nodeType;var e="object"==typeof v&&v;e.global!==e&&e.window!==e&&e.self;var t,y=2147483647,g=36,_=26,i=38,o=700,n=/^xn--/,r=/[^\x20-\x7E]/,s=/[\x2E\u3002\uFF0E\uFF61]/g,a={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},u=g-1,m=Math.floor,b=String.fromCharCode;function w(e){throw new RangeError(a[e])}function l(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function h(e,t){var n=e.split("@"),r="";return 1<n.length&&(r=n[0]+"@",e=n[1]),r+l((e=e.replace(s,".")).split("."),t).join(".")}function x(e){for(var t,n,r=[],i=0,o=e.length;i<o;)55296<=(t=e.charCodeAt(i++))&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function p(e){return l(e,function(e){var t="";return 65535<e&&(t+=b((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+b(e)}).join("")}function T(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function E(e,t,n){var r=0;for(e=n?m(e/o):e>>1,e+=m(e/t);u*_>>1<e;r+=g)e=m(e/u);return m(r+(u+1)*e/(e+i))}function c(e){var t,n,r,i,o,s,a,u=[],l=e.length,h=0,c=128,f=72,d=e.lastIndexOf("-");for(d<0&&(d=0),n=0;n<d;++n)128<=e.charCodeAt(n)&&w("not-basic"),u.push(e.charCodeAt(n));for(r=0<d?d+1:0;r<l;){for(i=h,o=1,s=g;l<=r&&w("invalid-input"),a=e.charCodeAt(r++),(g<=(a=a-48<10?a-22:a-65<26?a-65:a-97<26?a-97:g)||a>m((y-h)/o))&&w("overflow"),h+=a*o,!(a<(a=s<=f?1:f+_<=s?_:s-f));s+=g)o>m(y/(a=g-a))&&w("overflow"),o*=a;f=E(h-i,t=u.length+1,0==i),m(h/t)>y-c&&w("overflow"),c+=m(h/t),h%=t,u.splice(h++,0,c)}return p(u)}function f(e){for(var t,n,r,i,o,s,a,u,l,h,c=[],f=(e=x(e)).length,d=128,p=72,v=t=0;v<f;++v)(a=e[v])<128&&c.push(b(a));for(n=r=c.length,r&&c.push("-");n<f;){for(i=y,v=0;v<f;++v)d<=(a=e[v])&&a<i&&(i=a);for(i-d>m((y-t)/(u=n+1))&&w("overflow"),t+=(i-d)*u,d=i,v=0;v<f;++v)if((a=e[v])<d&&++t>y&&w("overflow"),a==d){for(o=t,s=g;!(o<(l=s<=p?1:p+_<=s?_:s-p));s+=g)c.push(b(T(l+(h=o-l)%(l=g-l),0))),o=m(h/l);c.push(b(T(o,0))),p=E(t,u,n==r),t=0,++n}++t,++d}return c.join("")}t={version:"1.4.1",ucs2:{decode:x,encode:p},decode:c,encode:f,toASCII:function(e){return h(e,function(e){return r.test(e)?"xn--"+f(e):e})},toUnicode:function(e){return h(e,function(e){return n.test(e)?c(e.slice(4).toLowerCase()):e})}},void 0===(O=function(){return t}.call(P,S,P,d))||(d.exports=O)}()}).call(this,S(90)(e),S(16))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){"use strict";t.decode=t.parse=n(93),t.encode=t.stringify=n(94)},function(e,t,n){"use strict";e.exports=function(e,t,n,r){n=n||"=";var i={};if("string"!=typeof e||0===e.length)return i;var o=/\+/g;e=e.split(t=t||"&"),t=1e3,r&&"number"==typeof r.maxKeys&&(t=r.maxKeys);var s=e.length;0<t&&t<s&&(s=t);for(var a=0;a<s;++a){var u,l=e[a].replace(o,"%20"),h=0<=(f=l.indexOf(n))?(u=l.substr(0,f),l.substr(f+1)):(u=l,""),c=decodeURIComponent(u),f=decodeURIComponent(h);l=i,h=c,Object.prototype.hasOwnProperty.call(l,h)?d(i[c])?i[c].push(f):i[c]=[i[c],f]:i[c]=f}return i};var d=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";function o(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}}e.exports=function(n,r,i,e){return r=r||"&",i=i||"=","object"==typeof(n=null===n?void 0:n)?a(u(n),function(e){var t=encodeURIComponent(o(e))+i;return s(n[e])?a(n[e],function(e){return t+encodeURIComponent(o(e))}).join(r):t+encodeURIComponent(o(n[e]))}).join(r):e?encodeURIComponent(o(e))+i+encodeURIComponent(o(n)):""};var s=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function a(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var u=Object.keys||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=h(n(10)),s=n(4),a=n(22),u=n(1),l=h(n(36));function h(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];if(function(e){if(!(e instanceof c))throw new TypeError("Cannot call a class as a function")}(this),!e)throw new Error("No video source element specified.");return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),(t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e,t))).width=e.videoWidth,t.height=e.videoHeight,t._autoUpdate=!0,t._isAutoUpdating=!1,t.autoPlay=n,t.update=t.update.bind(t),t._onCanPlay=t._onCanPlay.bind(t),e.addEventListener("play",t._onPlayStart.bind(t)),e.addEventListener("pause",t._onPlayStop.bind(t)),t.hasLoaded=!1,t.__loaded=!1,t._isSourceReady()?t._onCanPlay():(e.addEventListener("canplay",t._onCanPlay),e.addEventListener("canplaythrough",t._onCanPlay)),t}function f(e,t){t=t||"video/"+(n=e.split("?").shift().toLowerCase()).substr(n.lastIndexOf(".")+1);var n=document.createElement("source");return n.src=e,n.type=t,n}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(c,o.default),r(c,[{key:"_isSourcePlaying",value:function(){var e=this.source;return 0<e.currentTime&&!1===e.paused&&!1===e.ended&&2<e.readyState}},{key:"_isSourceReady",value:function(){return 3===this.source.readyState||4===this.source.readyState}},{key:"_onPlayStart",value:function(){this.hasLoaded||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(a.shared.add(this.update,this,u.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0)}},{key:"_onPlayStop",value:function(){this._isAutoUpdating&&(a.shared.remove(this.update,this),this._isAutoUpdating=!1)}},{key:"_onCanPlay",value:function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.emit("loaded",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())}},{key:"destroy",value:function(){this._isAutoUpdating&&a.shared.remove(this.update,this),this.source&&this.source._SINTId&&(o.default.removeFromCache(this.source._SINTId),delete this.source._SINTId,this.source.pause(),this.source.src="",this.source.load()),function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);return void 0!==i?"value"in i?i.value:void 0!==(i=i.get)?i.call(r):void 0:null!==(t=Object.getPrototypeOf(t))?e(t,n,r):void 0}(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"destroy",this).call(this)}},{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isAutoUpdating?(a.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(a.shared.add(this.update,this,u.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0))}}],[{key:"fromVideo",value:function(e,t,n){e._SINTId||(e._SINTId="video_"+(0,s.uid)());var r=s.BaseTextureCache[e._SINTId];return r||(r=new c(e,t,n),o.default.addToCache(r,e._SINTId)),r}},{key:"fromUrl",value:function(e,t,n,r){var i=document.createElement("video");i.setAttribute("webkit-playsinline",""),i.setAttribute("playsinline","");var o=Array.isArray(e)?e[0].src||e[0]:e.src||e;if(void 0===n&&0!==o.indexOf("data:")?i.crossOrigin=(0,l.default)(o):n&&(i.crossOrigin="string"==typeof n?n:"anonymous"),Array.isArray(e))for(var s=0;s<e.length;++s)i.appendChild(f(e[s].src||e[s],e[s].mime));else i.appendChild(f(o,e.mime));return i.load(),c.fromVideo(i,t,r)}}]),r=c,(t.default=r).fromUrls=r.fromUrl},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=u(n(3)),s=n(1),a=u(n(97));function u(e){return e&&e.__esModule?e:{default:e}}function l(){var t=this;!function(e){if(!(e instanceof l))throw new TypeError("Cannot call a class as a function")}(this),this._head=new a.default(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/o.default.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}r(l,[{key:"_requestIfNeeded",value:function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))}},{key:"_cancelIfNeeded",value:function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)}},{key:"_startIfPossible",value:function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}},{key:"add",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:s.UPDATE_PRIORITY.NORMAL;return this._addListener(new a.default(e,t,n))}},{key:"addOnce",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:s.UPDATE_PRIORITY.NORMAL;return this._addListener(new a.default(e,t,n,!0))}},{key:"_addListener",value:function(e){var t=this._head.next,n=this._head;if(t){for(;t;){if(e.priority>t.priority){e.connect(n);break}t=(n=t).next}e.previous||e.connect(n)}else e.connect(n);return this._startIfPossible(),this}},{key:"remove",value:function(e,t){for(var n=this._head.next;n;)n=n.match(e,t)?n.destroy():n.next;return this._head.next||this._cancelIfNeeded(),this}},{key:"start",value:function(){this.started||(this.started=!0,this._requestIfNeeded())}},{key:"stop",value:function(){this.started&&(this.started=!1,this._cancelIfNeeded())}},{key:"destroy",value:function(){this.stop();for(var e=this._head.next;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}},{key:"update",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:performance.now(),t=void 0;if(e>this.lastTime){(t=this.elapsedMS=e-this.lastTime)>this._maxElapsedMS&&(t=this._maxElapsedMS),this.deltaTime=t*o.default.TARGET_FPMS*this.speed;for(var n=(t=this._head).next;n;)n=n.emit(this.deltaTime);t.next||this._cancelIfNeeded()}else this.deltaTime=this.elapsedMS=0;this.lastTime=e}},{key:"FPS",get:function(){return 1e3/this.elapsedMS}},{key:"minFPS",get:function(){return 1e3/this._maxElapsedMS},set:function(e){e=Math.min(Math.max(0,e)/1e3,o.default.TARGET_FPMS),this._maxElapsedMS=1/e}}]),r=l,t.default=r},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var i=(r(o.prototype,[{key:"match",value:function(e,t){return t=t||null,this.fn===e&&this.context===t}},{key:"emit",value:function(e){return this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e)),e=this.next,this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e}},{key:"connect",value:function(e){(this.previous=e).next&&(e.next.previous=this),this.next=e.next,e.next=this}},{key:"destroy",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var t=this.next;return this.next=e?null:t,this.previous=null,t}}]),o);function o(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]&&arguments[3];!function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),this.fn=e,this.context=t,this.priority=n,this.once=r,this.next=null,this.previous=null,this._destroyed=!1}t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,u=(o=n(30))&&o.__esModule?o:{default:o};function s(){!function(e){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}r(s,[{key:"set",value:function(e,t,n){var r,i,o,s=t.width,a=t.height;n?(r=e.width/2/s,i=e.height/2/a,o=e.x/s+r,t=e.y/a+i,n=u.default.add(n,u.default.NW),this.x0=o+r*u.default.uX(n),this.y0=t+i*u.default.uY(n),n=u.default.add(n,2),this.x1=o+r*u.default.uX(n),this.y1=t+i*u.default.uY(n),n=u.default.add(n,2),this.x2=o+r*u.default.uX(n),this.y2=t+i*u.default.uY(n),n=u.default.add(n,2),this.x3=o+r*u.default.uX(n),this.y3=t+i*u.default.uY(n)):(this.x0=e.x/s,this.y0=e.y/a,this.x1=(e.x+e.width)/s,this.y1=e.y/a,this.x2=(e.x+e.width)/s,this.y2=(e.y+e.height)/a,this.x3=e.x/s,this.y3=(e.y+e.height)/a),this.uvsUint32[0]=(65535&Math.round(65535*this.y0))<<16|65535&Math.round(65535*this.x0),this.uvsUint32[1]=(65535&Math.round(65535*this.y1))<<16|65535&Math.round(65535*this.x1),this.uvsUint32[2]=(65535&Math.round(65535*this.y2))<<16|65535&Math.round(65535*this.x2),this.uvsUint32[3]=(65535&Math.round(65535*this.y3))<<16|65535&Math.round(65535*this.x3)}}]),r=s,t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=s(n(23)),l=n(1),h=n(5),c=s(n(41));function s(e){return e&&e.__esModule?e:{default:e}}var f=new h.Matrix;r(a,[{key:"render",value:function(e){var t,n=e._texture,r=this.renderer,i=n._frame.width,o=n._frame.height,s=e.transform.worldTransform,a=0,u=0;n.orig.width<=0||n.orig.height<=0||!n.baseTexture.source||(r.setBlendMode(e.blendMode),n.valid&&(r.context.globalAlpha=e.worldAlpha,t=n.baseTexture.scaleMode===l.SCALE_MODES.LINEAR,r.smoothProperty&&r.context[r.smoothProperty]!==t&&(r.context[r.smoothProperty]=t),u=n.trim?(a=n.trim.width/2+n.trim.x-e.anchor.x*n.orig.width,n.trim.height/2+n.trim.y-e.anchor.y*n.orig.height):(a=(.5-e.anchor.x)*n.orig.width,(.5-e.anchor.y)*n.orig.height),n.rotate&&(s.copy(f),h.GroupD8.matrixAppendRotationInv(s=f,n.rotate,a,u),u=a=0),a-=i/2,u-=o/2,r.roundPixels?(r.context.setTransform(s.a,s.b,s.c,s.d,s.tx*r.resolution|0,s.ty*r.resolution|0),a|=0,u|=0):r.context.setTransform(s.a,s.b,s.c,s.d,s.tx*r.resolution,s.ty*r.resolution),s=n.baseTexture.resolution,16777215!==e.tint?(e.cachedTint===e.tint&&e.tintedTexture.tintId===e._texture._updateID||(e.cachedTint=e.tint,e.tintedTexture=c.default.getTintedTexture(e,e.tint)),r.context.drawImage(e.tintedTexture,0,0,i*s,o*s,a*r.resolution,u*r.resolution,i*r.resolution,o*r.resolution)):r.context.drawImage(n.baseTexture.source,n._frame.x*s,n._frame.y*s,i*s,o*s,a*r.resolution,u*r.resolution,i*r.resolution,o*r.resolution)))}},{key:"destroy",value:function(){this.renderer=null}}]),r=a;function a(e){!function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),this.renderer=e}t.default=r,o.default.registerPlugin("sprite",r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=a(n(10)),s=a(n(3));function a(e){return e&&e.__esModule?e:{default:e}}function u(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:100,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,n=arguments[2],r=arguments[3];!function(e){if(!(e instanceof u))throw new TypeError("Cannot call a class as a function")}(this);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,null,n));return i.resolution=r||s.default.RESOLUTION,i.width=Math.ceil(e),i.height=Math.ceil(t),i.realWidth=i.width*i.resolution,i.realHeight=i.height*i.resolution,i.scaleMode=void 0!==n?n:s.default.SCALE_MODE,i.hasLoaded=!0,i._glRenderTargets={},i._canvasRenderTarget=null,i.valid=!1,i}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(u,o.default),r(u,[{key:"resize",value:function(e,t){e=Math.ceil(e),t=Math.ceil(t),e===this.width&&t===this.height||(this.valid=0<e&&0<t,this.width=e,this.height=t,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.valid&&this.emit("update",this))}},{key:"destroy",value:function(){(function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);return void 0!==i?"value"in i?i.value:void 0!==(i=i.get)?i.call(r):void 0:null!==(t=Object.getPrototypeOf(t))?e(t,n,r):void 0})(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"destroy",this).call(this,!0),this.renderer=null}}]),r=u,t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var E=n(1);function o(e){!function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),this.renderer=e}r(o,[{key:"pushMask",value:function(e){var t=this.renderer;t.context.save();var n=e.alpha,r=e.transform.worldTransform,i=t.resolution;t.context.setTransform(r.a*i,r.b*i,r.c*i,r.d*i,r.tx*i,r.ty*i),e._texture||(this.renderGraphicsShape(e),t.context.clip()),e.worldAlpha=n}},{key:"renderGraphicsShape",value:function(e){var t=this.renderer.context,n=e.graphicsData.length;if(0!==n){t.beginPath();for(var r=0;r<n;r++){var i,o,s,a,u,l,h,c,f=e.graphicsData[r],d=f.shape;if(f.type===E.SHAPES.POLY){var p=d.points,v=f.holes,y=void 0,g=void 0;t.moveTo(p[0],p[1]);for(var _=2;_<p.length;_+=2)t.lineTo(p[_],p[_+1]);if(p[0]===p[p.length-2]&&p[1]===p[p.length-1]&&t.closePath(),0<v.length){y=0;for(var m=0;m<p.length;m+=2)y+=p[m]*p[m+3]-p[m+1]*p[m+2];for(var b=0;b<v.length;b++){p=v[b].points,g=0;for(var w=0;w<p.length;w+=2)g+=p[w]*p[w+3]-p[w+1]*p[w+2];if(t.moveTo(p[0],p[1]),g*y<0)for(var x=2;x<p.length;x+=2)t.lineTo(p[x],p[x+1]);else for(var T=p.length-2;2<=T;T-=2)t.lineTo(p[T],p[T+1])}}}else f.type===E.SHAPES.RECT?(t.rect(d.x,d.y,d.width,d.height),t.closePath()):f.type===E.SHAPES.CIRC?(t.arc(d.x,d.y,d.radius,0,2*Math.PI),t.closePath()):f.type===E.SHAPES.ELIP?(o=(a=2*d.width)/2*.5522848,l=(c=2*d.height)/2*.5522848,s=(h=d.x-a/2)+a,u=(i=d.y-c/2)+c,a=h+a/2,t.moveTo(h,c=i+c/2),t.bezierCurveTo(h,c-l,a-o,i,a,i),t.bezierCurveTo(a+o,i,s,c-l,s,c),t.bezierCurveTo(s,c+l,a+o,u,a,u),t.bezierCurveTo(a-o,u,h,c+l,h,c),t.closePath()):f.type===E.SHAPES.RREC&&(u=d.x,l=d.y,h=d.width,c=d.height,f=d.radius,d=Math.min(h,c)/2|0,t.moveTo(u,l+(f=d<f?d:f)),t.lineTo(u,l+c-f),t.quadraticCurveTo(u,l+c,u+f,l+c),t.lineTo(u+h-f,l+c),t.quadraticCurveTo(u+h,l+c,u+h,l+c-f),t.lineTo(u+h,l+f),t.quadraticCurveTo(u+h,l,u+h-f,l),t.lineTo(u+f,l),t.quadraticCurveTo(u,l,u,l+f),t.closePath())}}}},{key:"popMask",value:function(e){e.context.restore(),e.invalidateBlendMode()}},{key:"destroy",value:function(){}}]),r=o,t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,s=(o=n(3))&&o.__esModule?o:{default:o};function a(e,t,n){!function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||s.default.RESOLUTION,this.resize(e,t)}r(a,[{key:"clear",value:function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)}},{key:"resize",value:function(e,t){this.canvas.width=e*this.resolution,this.canvas.height=t*this.resolution}},{key:"destroy",value:function(){this.context=null,this.canvas=null}},{key:"width",get:function(){return this.canvas.width},set:function(e){this.canvas.width=e}},{key:"height",get:function(){return this.canvas.height},set:function(e){this.canvas.height=e}}]),r=a,t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return(0,o.default)()?(e[i.BLEND_MODES.NORMAL]="source-over",e[i.BLEND_MODES.ADD]="lighter",e[i.BLEND_MODES.MULTIPLY]="multiply",e[i.BLEND_MODES.SCREEN]="screen",e[i.BLEND_MODES.OVERLAY]="overlay",e[i.BLEND_MODES.DARKEN]="darken",e[i.BLEND_MODES.LIGHTEN]="lighten",e[i.BLEND_MODES.COLOR_DODGE]="color-dodge",e[i.BLEND_MODES.COLOR_BURN]="color-burn",e[i.BLEND_MODES.HARD_LIGHT]="hard-light",e[i.BLEND_MODES.SOFT_LIGHT]="soft-light",e[i.BLEND_MODES.DIFFERENCE]="difference",e[i.BLEND_MODES.EXCLUSION]="exclusion",e[i.BLEND_MODES.HUE]="hue",e[i.BLEND_MODES.SATURATION]="saturate",e[i.BLEND_MODES.COLOR]="color",e[i.BLEND_MODES.LUMINOSITY]="luminosity"):(e[i.BLEND_MODES.NORMAL]="source-over",e[i.BLEND_MODES.ADD]="lighter",e[i.BLEND_MODES.MULTIPLY]="source-over",e[i.BLEND_MODES.SCREEN]="source-over",e[i.BLEND_MODES.OVERLAY]="source-over",e[i.BLEND_MODES.DARKEN]="source-over",e[i.BLEND_MODES.LIGHTEN]="source-over",e[i.BLEND_MODES.COLOR_DODGE]="source-over",e[i.BLEND_MODES.COLOR_BURN]="source-over",e[i.BLEND_MODES.HARD_LIGHT]="source-over",e[i.BLEND_MODES.SOFT_LIGHT]="source-over",e[i.BLEND_MODES.DIFFERENCE]="source-over",e[i.BLEND_MODES.EXCLUSION]="source-over",e[i.BLEND_MODES.HUE]="source-over",e[i.BLEND_MODES.SATURATION]="source-over",e[i.BLEND_MODES.COLOR]="source-over",e[i.BLEND_MODES.LUMINOSITY]="source-over"),e[i.BLEND_MODES.NORMAL_NPM]=e[i.BLEND_MODES.NORMAL],e[i.BLEND_MODES.ADD_NPM]=e[i.BLEND_MODES.ADD],e[i.BLEND_MODES.SCREEN_NPM]=e[i.BLEND_MODES.SCREEN],e};var r,i=n(1),o=(r=n(40))&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=c(n(24)),s=c(n(25)),a=c(n(54)),u=c(n(125)),l=c(n(128)),h=c(n(129)),D=c(n(3)),I=n(4),j=c(n(7)),L=c(n(21));function c(e){return e&&e.__esModule?e:{default:e}}var N=0,B=0;(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(f,o.default),r(f,[{key:"onContextChange",value:function(){var e=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),D.default.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,l.default)(this.MAX_TEXTURES,e)),this.shader=(0,u.default)(e,this.MAX_TEXTURES),this.indexBuffer=j.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW),this.renderer.bindVao(null);for(var t=this.shader.attributes,n=0;n<this.vaoMax;n++){var r=this.vertexBuffers[n]=j.default.GLBuffer.createVertexBuffer(e,null,e.STREAM_DRAW),i=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(r,t.aVertexPosition,e.FLOAT,!1,this.vertByteSize,0).addAttribute(r,t.aTextureCoord,e.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(r,t.aColor,e.UNSIGNED_BYTE,!0,this.vertByteSize,12);t.aTextureId&&i.addAttribute(r,t.aTextureId,e.FLOAT,!1,this.vertByteSize,16),this.vaos[n]=i}this.vao=this.vaos[0],this.currentBlendMode=99999,this.boundTextures=new Array(this.MAX_TEXTURES)}},{key:"onPrerender",value:function(){this.vertexCount=0}},{key:"render",value:function(e){this.currentIndex>=this.size&&this.flush(),e._texture._uvs&&(this.sprites[this.currentIndex++]=e)}},{key:"flush",value:function(){if(0!==this.currentIndex){var e,t,n=this.renderer.gl,r=this.MAX_TEXTURES,i=L.default.nextPow2(this.currentIndex),o=L.default.log2(i),s=this.buffers[o],a=this.sprites,u=this.groups,l=s.float32View,h=s.uint32View,c=this.boundTextures,f=this.renderer.boundTextures,d=this.renderer.textureGC.count,p=0,v=void 0,y=void 0,g=1,_=0,m=u[0],b=I.premultiplyBlendMode[a[0]._texture.baseTexture.premultipliedAlpha?1:0][a[0].blendMode];m.textureCount=0,m.start=0,m.blend=b,N++;var w,x=void 0;for(x=0;x<r;++x){var T=f[x];T._enabled!==N?((c[x]=T)._virtalBoundId=x,T._enabled=N):c[x]=this.renderer.emptyTextures[x]}for(N++,x=0;x<this.currentIndex;++x){var E=a[x];a[x]=null;v=E._texture.baseTexture;var O=I.premultiplyBlendMode[Number(v.premultipliedAlpha)][E.blendMode];if(b!==O&&(b=O,y=null,_=r,N++),y!==v&&(y=v)._enabled!==N){if(_===r&&(N++,m.size=x-m.start,_=0,(m=u[g++]).blend=b,m.textureCount=0,m.start=x),v.touched=d,-1===v._virtalBoundId)for(var P=0;P<r;++P){var S=(P+B)%r,k=c[S];if(k._enabled!==N){B++,k._virtalBoundId=-1,c[v._virtalBoundId=S]=v;break}}v._enabled=N,m.textureCount++,m.ids[_]=v._virtalBoundId,m.textures[_++]=v}e=E.vertexData,t=E._texture._uvs.uvsUint32,this.renderer.roundPixels?(C=this.renderer.resolution,l[p]=(e[0]*C|0)/C,l[p+1]=(e[1]*C|0)/C,l[p+5]=(e[2]*C|0)/C,l[p+6]=(e[3]*C|0)/C,l[p+10]=(e[4]*C|0)/C,l[p+11]=(e[5]*C|0)/C,l[p+15]=(e[6]*C|0)/C,l[p+16]=(e[7]*C|0)/C):(l[p]=e[0],l[p+1]=e[1],l[p+5]=e[2],l[p+6]=e[3],l[p+10]=e[4],l[p+11]=e[5],l[p+15]=e[6],l[p+16]=e[7]),h[p+2]=t[0],h[p+7]=t[1],h[p+12]=t[2],h[p+17]=t[3];var C=(C=Math.min(E.worldAlpha,1))<1&&v.premultipliedAlpha?(0,I.premultiplyTint)(E._tintRGB,C):E._tintRGB+(255*C<<24);h[p+3]=h[p+8]=h[p+13]=h[p+18]=C,l[p+4]=l[p+9]=l[p+14]=l[p+19]=v._virtalBoundId,p+=20}for(m.size=x-m.start,D.default.CAN_UPLOAD_SAME_BUFFER?this.vertexBuffers[this.vertexCount].upload(s.vertices,0,!0):(this.vaoMax<=this.vertexCount&&(this.vaoMax++,w=this.shader.attributes,i=this.vertexBuffers[this.vertexCount]=j.default.GLBuffer.createVertexBuffer(n,null,n.STREAM_DRAW),o=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(i,w.aVertexPosition,n.FLOAT,!1,this.vertByteSize,0).addAttribute(i,w.aTextureCoord,n.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(i,w.aColor,n.UNSIGNED_BYTE,!0,this.vertByteSize,12),w.aTextureId&&o.addAttribute(i,w.aTextureId,n.FLOAT,!1,this.vertByteSize,16),this.vaos[this.vertexCount]=o),this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(s.vertices,0,!1),this.vertexCount++),x=0;x<r;++x)f[x]._virtalBoundId=-1;for(x=0;x<g;++x){for(var M=u[x],A=M.textureCount,R=0;R<A;R++)y=M.textures[R],f[M.ids[R]]!==y&&this.renderer.bindTexture(y,M.ids[R],!0),y._virtalBoundId=-1;this.renderer.state.setBlendMode(M.blend),n.drawElements(n.TRIANGLES,6*M.size,n.UNSIGNED_SHORT,6*M.start*2)}this.currentIndex=0}}},{key:"start",value:function(){this.renderer.bindShader(this.shader),D.default.CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())}},{key:"stop",value:function(){this.flush()}},{key:"destroy",value:function(){for(var e=0;e<this.vaoMax;e++)this.vertexBuffers[e]&&this.vertexBuffers[e].destroy(),this.vaos[e]&&this.vaos[e].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off("prerender",this.onPrerender,this),function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);return void 0!==i?"value"in i?i.value:void 0!==(i=i.get)?i.call(r):void 0:null!==(t=Object.getPrototypeOf(t))?e(t,n,r):void 0}(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"destroy",this).call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.vertexBuffers=null,this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null;for(var t=0;t<this.buffers.length;++t)this.buffers[t].destroy()}}]),r=f;function f(e){!function(e){if(!(e instanceof f))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,e));t.vertSize=5,t.vertByteSize=4*t.vertSize,t.size=D.default.SPRITE_BATCH_SIZE,t.buffers=[];for(var n=1;n<=L.default.nextPow2(t.size);n*=2)t.buffers.push(new h.default(4*n*t.vertByteSize));t.indices=(0,a.default)(t.size),t.shader=null,t.currentIndex=0,t.groups=[];for(var r=0;r<t.size;r++)t.groups[r]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};return t.sprites=[],t.vertexBuffers=[],t.vaos=[],t.vaoMax=2,t.vertexCount=0,t.renderer.on("prerender",t.onPrerender,t),t}t.default=r,s.default.registerPlugin("sprite",r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=a(n(11)),s=a(n(106));function a(e){return e&&e.__esModule?e:{default:e}}function u(e){return function(e){if(!(e instanceof u))throw new TypeError("Cannot call a class as a function")}(this),(e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e))).scissor=!1,e.scissorData=null,e.scissorRenderTarget=null,e.enableScissor=!0,e.alphaMaskPool=[],e.alphaMaskIndex=0,e}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(u,o.default),r(u,[{key:"pushMask",value:function(e,t){var n;t.texture?this.pushSpriteMask(e,t):this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&t.isFastRect()?(n=t.worldTransform,n=Math.atan2(n.b,n.a),(n=Math.round(n*(180/Math.PI)))%90?this.pushStencilMask(t):this.pushScissorMask(e,t)):this.pushStencilMask(t)}},{key:"popMask",value:function(e,t){t.texture?this.popSpriteMask(e,t):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(e,t):this.popStencilMask(e,t)}},{key:"pushSpriteMask",value:function(e,t){var n=this.alphaMaskPool[this.alphaMaskIndex];(n=n||(this.alphaMaskPool[this.alphaMaskIndex]=[new s.default(t)]))[0].resolution=this.renderer.resolution,n[0].maskSprite=t,e.filterArea=t.getBounds(!0),this.renderer.filterManager.pushFilter(e,n),this.alphaMaskIndex++}},{key:"popSpriteMask",value:function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--}},{key:"pushStencilMask",value:function(e){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(e)}},{key:"popStencilMask",value:function(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()}},{key:"pushScissorMask",value:function(e,t){t.renderable=!0;var n=this.renderer._activeRenderTarget,r=t.getBounds();r.fit(n.size),t.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var i=this.renderer.resolution;this.renderer.gl.scissor(r.x*i,(n.root?n.size.height-r.y-r.height:r.y)*i,r.width*i,r.height*i),this.scissorRenderTarget=n,this.scissorData=t,this.scissor=!0}},{key:"popScissorMask",value:function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var e=this.renderer.gl;e.disable(e.SCISSOR_TEST)}}]),r=u,t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=h(n(42)),s=n(5),a=h(n(52)),u=h(n(114)),l=h(n(115));function h(e){return e&&e.__esModule?e:{default:e}}function c(e){!function(e){if(!(e instanceof c))throw new TypeError("Cannot call a class as a function")}(this);var t=new s.Matrix,n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,u.default,l.default));return e.renderable=!1,n.maskSprite=e,n.maskMatrix=t,n}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(c,o.default),r(c,[{key:"apply",value:function(e,t,n){var r=this.maskSprite,i=this.maskSprite.texture;i.valid&&(i.transform||(i.transform=new a.default(i,0)),i.transform.update(),this.uniforms.mask=i,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,r).prepend(i.transform.mapCoord),this.uniforms.alpha=r.worldAlpha,this.uniforms.maskClamp=i.transform.uClampFrame,e.applyFilter(this,t,n))}}]),r=c,t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){return e=i(e),t=i(t),Object.assign(e,t)};var r,l=((r=n(7))&&r.__esModule?r:{default:r}).default.shader.defaultValue;function i(e){for(var t,n=new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"),r={},i=e.replace(/\s+/g," ").split(/\s*;\s*/),o=0;o<i.length;o++){var s,a,u=i[o].trim();-1<u.indexOf("uniform")&&(s=(a=u.split(" "))[1],-(u=1)<(a=a[2]).indexOf("[")&&(a=(t=a.split(/\[|]/))[0],u*=Number(t[1])),a.match(n)||(r[a]={value:l(s,u),name:a,type:s}))}return r}},function(e,t){e.exports=function(e,t){if(!(t=e.getContext("webgl",t)||e.getContext("experimental-webgl",t)))throw new Error("This browser does not support webGL. Try using the canvas renderer");return t}},function(e,t){function i(e,t,n,r){this.gl=e,this.buffer=e.createBuffer(),this.type=t||e.ARRAY_BUFFER,this.drawType=r||e.STATIC_DRAW,this.data=o,n&&this.upload(n),this._updateID=0}var o=new ArrayBuffer(0);i.prototype.upload=function(e,t,n){n||this.bind(),n=this.gl,e=e||this.data,t=t||0,this.data.byteLength>=e.byteLength?n.bufferSubData(this.type,t,e):n.bufferData(this.type,e,this.drawType),this.data=e},i.prototype.bind=function(){this.gl.bindBuffer(this.type,this.buffer)},i.createVertexBuffer=function(e,t,n){return new i(e,e.ARRAY_BUFFER,t,n)},i.createIndexBuffer=function(e,t,n){return new i(e,e.ELEMENT_ARRAY_BUFFER,t,n)},i.create=function(e,t,n,r){return new i(e,t,n,r)},i.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)},e.exports=i},function(e,t,n){function o(e,t,n){this.gl=e,this.framebuffer=e.createFramebuffer(),this.stencil=null,this.texture=null,this.width=t||100,this.height=n||100}var s=n(44);o.prototype.enableTexture=function(e){var t=this.gl;this.texture=e||new s(t),this.texture.bind(),this.bind(),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture.texture,0)},o.prototype.enableStencil=function(){var e;this.stencil||(e=this.gl,this.stencil=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,this.stencil),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,this.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,this.width,this.height))},o.prototype.clear=function(e,t,n,r){this.bind();var i=this.gl;i.clearColor(e,t,n,r),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT)},o.prototype.bind=function(){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer)},o.prototype.unbind=function(){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,null)},o.prototype.resize=function(e,t){var n=this.gl;this.width=e,this.height=t,this.texture&&this.texture.uploadData(null,e,t),this.stencil&&(n.bindRenderbuffer(n.RENDERBUFFER,this.stencil),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e,t))},o.prototype.destroy=function(){var e=this.gl;this.texture&&this.texture.destroy(),e.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},o.createRGBA=function(e,t,n,r){var i=s.fromData(e,null,t,n);return i.enableNearestScaling(),i.enableWrapClamp(),(n=new o(e,t,n)).enableTexture(i),n.unbind(),n},o.createFloat32=function(e,t,n,r){return(r=new s.fromData(e,r,t,n)).enableNearestScaling(),r.enableWrapClamp(),(n=new o(e,t,n)).enableTexture(r),n.unbind(),n},e.exports=o},function(e,t,n){var o=n(45),s=n(46),a=n(48),u=n(50),l=n(51);(n=function(e,t,n,r,i){this.gl=e,r&&(t=u(t,r),n=u(n,r)),this.program=o(e,t,n,i),this.attributes=s(e,this.program),this.uniformData=a(e,this.program),this.uniforms=l(e,this.uniformData)}).prototype.bind=function(){return this.gl.useProgram(this.program),this},n.prototype.destroy=function(){this.attributes=null,this.uniformData=null,this.uniforms=null,this.gl.deleteProgram(this.program)},e.exports=n},function(e,t,n){var i=n(43);function r(e,t){this.nativeVaoExtension=null,r.FORCE_NATIVE||(this.nativeVaoExtension=e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object")),this.nativeState=t,this.nativeVaoExtension&&(this.nativeVao=this.nativeVaoExtension.createVertexArrayOES(),t=e.getParameter(e.MAX_VERTEX_ATTRIBS),this.nativeState={tempAttribState:new Array(t),attribState:new Array(t)}),this.gl=e,this.attributes=[],this.indexBuffer=null,this.dirty=!1}(e.exports=r.prototype.constructor=r).FORCE_NATIVE=!1,r.prototype.bind=function(){if(this.nativeVao){if(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty)return this.dirty=!1,this.activate(),this;this.indexBuffer&&this.indexBuffer.bind()}else this.activate();return this},r.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},r.prototype.activate=function(){for(var e=this.gl,t=null,n=0;n<this.attributes.length;n++){var r=this.attributes[n];t!==r.buffer&&(r.buffer.bind(),t=r.buffer),e.vertexAttribPointer(r.attribute.location,r.attribute.size,r.type||e.FLOAT,r.normalized||!1,r.stride||0,r.start||0)}return i(e,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},r.prototype.addAttribute=function(e,t,n,r,i,o){return this.attributes.push({buffer:e,attribute:t,location:t.location,type:n||this.gl.FLOAT,normalized:r||!1,stride:i||0,start:o||0}),this.dirty=!0,this},r.prototype.addIndex=function(e){return this.indexBuffer=e,this.dirty=!0,this},r.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},r.prototype.draw=function(e,t,n){var r=this.gl;return this.indexBuffer?r.drawElements(e,t||this.indexBuffer.data.length,r.UNSIGNED_SHORT,2*(n||0)):r.drawArrays(e,n,t||this.getSize()),this},r.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},r.prototype.getSize=function(){var e=this.attributes[0];return e.buffer.data.length/(e.stride/4||e.attribute.size)}},function(e,t,n){e.exports={compileProgram:n(45),defaultValue:n(49),extractAttributes:n(46),extractUniforms:n(48),generateUniformAccessObject:n(51),setPrecision:n(50),mapSize:n(47),mapType:n(26)}},function(e,t){e.exports="#define GLSLIFY 1\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n"},function(e,t){e.exports="#define GLSLIFY 1\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,s=(o=n(11))&&o.__esModule?o:{default:o};function a(e){return function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),(e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e))).stencilMaskStack=null,e}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(a,s.default),r(a,[{key:"setMaskStack",value:function(e){this.stencilMaskStack=e;var t=this.renderer.gl;0===e.length?t.disable(t.STENCIL_TEST):t.enable(t.STENCIL_TEST)}},{key:"pushStencil",value:function(e){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.renderer._activeRenderTarget.attachStencilBuffer();var t=this.renderer.gl,n=this.stencilMaskStack.length;0===n&&t.enable(t.STENCIL_TEST),this.stencilMaskStack.push(e),t.colorMask(!1,!1,!1,!1),t.stencilFunc(t.EQUAL,n,this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.INCR),this.renderer.plugins.graphics.render(e),this._useCurrent()}},{key:"popStencil",value:function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var e=this.renderer.gl,t=this.stencilMaskStack.pop();0===this.stencilMaskStack.length?(e.disable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),e.clearStencil(0)):(e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.DECR),this.renderer.plugins.graphics.render(t),this._useCurrent())}},{key:"_useCurrent",value:function(){var e=this.renderer.gl;e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}},{key:"_getBitwiseMask",value:function(){return(1<<this.stencilMaskStack.length)-1}},{key:"destroy",value:function(){s.default.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null}}]),r=a,t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=f(n(11)),a=f(n(14)),s=f(n(53)),u=n(5),l=f(n(27)),h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(118)),c=f(n(21));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var p=(r(v,[{key:"clear",value:function(){this.filters=null,this.target=null,this.renderTarget=null}}]),v);function v(){d(this,v),this.renderTarget=null,this.target=null,this.resolution=1,this.sourceFrame=new u.Rectangle,this.destinationFrame=new u.Rectangle,this.filters=[]}var y="screen";(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(g,o.default),r(g,[{key:"pushFilter",value:function(e,t){var n=this.renderer,r=this.filterData;r||(r=this.renderer._activeRenderTarget.filterStack,(c=new p).sourceFrame=c.destinationFrame=this.renderer._activeRenderTarget.size,c.renderTarget=n._activeRenderTarget,this.renderer._activeRenderTarget.filterData=r={index:0,stack:[c]},this.filterData=r);var i=r.stack[++r.index],o=r.stack[0].destinationFrame,s=(i=i||(r.stack[r.index]=new p),e.filterArea&&0===e.filterArea.x&&0===e.filterArea.y&&e.filterArea.width===n.screen.width&&e.filterArea.height===n.screen.height),a=t[0].resolution,u=0|t[0].padding,l=s?n.screen:e.filterArea||e.getBounds(!0),h=i.sourceFrame,c=i.destinationFrame;h.x=(l.x*a|0)/a,h.y=(l.y*a|0)/a,h.width=(l.width*a|0)/a,h.height=(l.height*a|0)/a,s||(r.stack[0].renderTarget.transform||t[0].autoFit&&h.fit(o),h.pad(u)),c.width=h.width,c.height=h.height,u=this.getPotRenderTarget(n.gl,h.width,h.height,a),i.target=e,i.filters=t,i.resolution=a,(i.renderTarget=u).setFrame(c,h),n.bindRenderTarget(u),u.clear()}},{key:"popFilter",value:function(){var e=this.filterData,t=e.stack[e.index-1],n=e.stack[e.index];this.quad.map(n.renderTarget.size,n.sourceFrame).upload();var r=n.filters;if(1===r.length)r[0].apply(this,n.renderTarget,t.renderTarget,!1,n),this.freePotRenderTarget(n.renderTarget);else{var i=n.renderTarget;(a=this.getPotRenderTarget(this.renderer.gl,n.sourceFrame.width,n.sourceFrame.height,n.resolution)).setFrame(n.destinationFrame,n.sourceFrame),a.clear();var o=0;for(o=0;o<r.length-1;++o){r[o].apply(this,i,a,!0,n);var s=i,a=(i=a,s)}r[o].apply(this,i,t.renderTarget,!1,n),this.freePotRenderTarget(i),this.freePotRenderTarget(a)}n.clear(),e.index--,0===e.index&&(this.filterData=null)}},{key:"applyFilter",value:function(e,t,n,r){var i=this.renderer,o=i.gl,s=e.glShaders[i.CONTEXT_UID];s||(e.glShaderKey?(s=this.shaderCache[e.glShaderKey])||(s=new l.default(this.gl,e.vertexSrc,e.fragmentSrc),e.glShaders[i.CONTEXT_UID]=this.shaderCache[e.glShaderKey]=s,this.managedFilters.push(e)):(s=e.glShaders[i.CONTEXT_UID]=new l.default(this.gl,e.vertexSrc,e.fragmentSrc),this.managedFilters.push(e)),i.bindVao(null),this.quad.initVao(s)),i.bindVao(this.quad.vao),i.bindRenderTarget(n),r&&(o.disable(o.SCISSOR_TEST),i.clear(),o.enable(o.SCISSOR_TEST)),n===i.maskManager.scissorRenderTarget&&i.maskManager.pushScissorMask(null,i.maskManager.scissorData),i.bindShader(s),n=this.renderer.emptyTextures[0],this.renderer.boundTextures[0]=n,this.syncUniforms(s,e),i.state.setBlendMode(e.blendMode),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,t.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),o.bindTexture(o.TEXTURE_2D,n._glTextures[this.renderer.CONTEXT_UID].texture)}},{key:"syncUniforms",value:function(e,t){var n,r,i,o,s=t.uniformData,a=t.uniforms,u=1;t=void 0;for(r in e.uniforms.filterArea&&(t=this.filterData.stack[this.filterData.index],(n=e.uniforms.filterArea)[0]=t.renderTarget.size.width,n[1]=t.renderTarget.size.height,n[2]=t.sourceFrame.x,n[3]=t.sourceFrame.y,e.uniforms.filterArea=n),e.uniforms.filterClamp&&(t=t||this.filterData.stack[this.filterData.index],(n=e.uniforms.filterClamp)[0]=0,n[1]=0,n[2]=(t.sourceFrame.width-1)/t.renderTarget.size.width,n[3]=(t.sourceFrame.height-1)/t.renderTarget.size.height,e.uniforms.filterClamp=n),s)e.uniforms.data[r]&&("sampler2d"===(i=s[r].type)&&0!==a[r]?(a[r].baseTexture?e.uniforms[r]=this.renderer.bindTexture(a[r].baseTexture,u):(e.uniforms[r]=u,o=this.renderer.gl,this.renderer.boundTextures[u]=this.renderer.emptyTextures[u],o.activeTexture(o.TEXTURE0+u),a[r].texture.bind()),u++):"mat3"===i?void 0!==a[r].a?e.uniforms[r]=a[r].toArray(!0):e.uniforms[r]=a[r]:"vec2"===i?void 0!==a[r].x?((o=e.uniforms[r]||new Float32Array(2))[0]=a[r].x,o[1]=a[r].y,e.uniforms[r]=o):e.uniforms[r]=a[r]:"float"===i&&e.uniforms.data[r].value===s[r]||(e.uniforms[r]=a[r]))}},{key:"getRenderTarget",value:function(e,t){var n=this.filterData.stack[this.filterData.index];return(t=this.getPotRenderTarget(this.renderer.gl,n.sourceFrame.width,n.sourceFrame.height,t||n.resolution)).setFrame(n.destinationFrame,n.sourceFrame),t}},{key:"returnRenderTarget",value:function(e){this.freePotRenderTarget(e)}},{key:"calculateScreenSpaceMatrix",value:function(e){var t=this.filterData.stack[this.filterData.index];return h.calculateScreenSpaceMatrix(e,t.sourceFrame,t.renderTarget.size)}},{key:"calculateNormalizedScreenSpaceMatrix",value:function(e){var t=this.filterData.stack[this.filterData.index];return h.calculateNormalizedScreenSpaceMatrix(e,t.sourceFrame,t.renderTarget.size,t.destinationFrame)}},{key:"calculateSpriteMatrix",value:function(e,t){var n=this.filterData.stack[this.filterData.index];return h.calculateSpriteMatrix(e,n.sourceFrame,n.renderTarget.size,t)}},{key:"destroy",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=this.renderer,n=this.managedFilters;t.off("prerender",this.onPrerender,this);for(var r=0;r<n.length;r++)e||n[r].glShaders[t.CONTEXT_UID].destroy(),delete n[r].glShaders[t.CONTEXT_UID];this.shaderCache={},e?this.pool={}:this.emptyPool()}},{key:"getPotRenderTarget",value:function(e,t,n,r){var i=y;n*=r,(t*=r)===this._screenWidth&&n===this._screenHeight||(i=(65535&(t=c.default.nextPow2(t)))<<16|65535&(n=c.default.nextPow2(n))),this.pool[i]||(this.pool[i]=[]);var o,s=this.pool[i].pop();return s||(o=this.renderer.boundTextures[0],e.activeTexture(e.TEXTURE0),s=new a.default(e,t,n,null,1),e.bindTexture(e.TEXTURE_2D,o._glTextures[this.renderer.CONTEXT_UID].texture)),s.resolution=r,s.defaultFrame.width=s.size.width=t/r,s.defaultFrame.height=s.size.height=n/r,s.filterPoolKey=i,s}},{key:"emptyPool",value:function(){for(var e in this.pool){var t=this.pool[e];if(t)for(var n=0;n<t.length;n++)t[n].destroy(!0)}this.pool={}}},{key:"freePotRenderTarget",value:function(e){this.pool[e.filterPoolKey].push(e)}},{key:"onPrerender",value:function(){if(this._screenWidth!==this.renderer.view.width||this._screenHeight!==this.renderer.view.height){this._screenWidth=this.renderer.view.width,this._screenHeight=this.renderer.view.height;var e=this.pool[y];if(e)for(var t=0;t<e.length;t++)e[t].destroy(!0);this.pool[y]=[]}}}]),r=g;function g(e){d(this,g);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,e));return t.gl=t.renderer.gl,t.quad=new s.default(t.gl,e.state.attribState),t.shaderCache={},t.pool={},t.filterData=null,t.managedFilters=[],t.renderer.on("prerender",t.onPrerender,t),t._screenWidth=e.view.width,t._screenHeight=e.view.height,t}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateScreenSpaceMatrix=function(e,t,n){return(e=e.identity()).translate(t.x/n.width,t.y/n.height),e.scale(n.width,n.height),e},t.calculateNormalizedScreenSpaceMatrix=function(e,t,n){var r=e.identity();return r.translate(t.x/n.width,t.y/n.height),e=n.width/t.width,t=n.height/t.height,r.scale(e,t),r},t.calculateSpriteMatrix=function(e,t,n,r){var i=r._texture.orig;n=e.set(n.width,0,0,n.height,t.x,t.y);return(t=r.worldTransform.copy(o.Matrix.TEMP_MATRIX)).invert(),n.prepend(t),n.scale(1/i.width,1/i.height),n.translate(r.anchor.x,r.anchor.y),n};var o=n(5)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,s=n(7),a=n(1),u=(o=n(14))&&o.__esModule?o:{default:o},l=n(4);function h(e){!function(e){if(!(e instanceof h))throw new TypeError("Cannot call a class as a function")}(this),this.renderer=e,this.gl=e.gl,this._managedTextures=[]}r(h,[{key:"bindTexture",value:function(){}},{key:"getTexture",value:function(){}},{key:"updateTexture",value:function(e,t){var n=this.gl,r=!!e._glRenderTargets;if(!e.hasLoaded)return null;var i=this.renderer.boundTextures;if(void 0===t)for(var o=t=0;o<i.length;++o)if(i[o]===e){t=o;break}return i[t]=e,n.activeTexture(n.TEXTURE0+t),(n=e._glTextures[this.renderer.CONTEXT_UID])?r?e._glRenderTargets[this.renderer.CONTEXT_UID].resize(e.width,e.height):n.upload(e.source):(r?((r=new u.default(this.gl,e.width,e.height,e.scaleMode,e.resolution)).resize(e.width,e.height),n=(e._glRenderTargets[this.renderer.CONTEXT_UID]=r).texture,this.renderer._activeRenderTarget.root||this.renderer._activeRenderTarget.frameBuffer.bind()):((n=new s.GLTexture(this.gl,null,null,null,null)).bind(t),n.premultiplyAlpha=!0,n.upload(e.source)),e._glTextures[this.renderer.CONTEXT_UID]=n,e.on("update",this.updateTexture,this),e.on("dispose",this.destroyTexture,this),this._managedTextures.push(e),e.isPowerOfTwo?(e.mipmap&&n.enableMipmap(),e.wrapMode===a.WRAP_MODES.CLAMP?n.enableWrapClamp():e.wrapMode===a.WRAP_MODES.REPEAT?n.enableWrapRepeat():n.enableWrapMirrorRepeat()):n.enableWrapClamp(),e.scaleMode===a.SCALE_MODES.NEAREST?n.enableNearestScaling():n.enableLinearScaling()),n}},{key:"destroyTexture",value:function(e,t){var n,r,i;(e=e.baseTexture||e).hasLoaded&&(n=this.renderer.CONTEXT_UID,r=e._glTextures,i=e._glRenderTargets,r[n]&&(this.renderer.unbindTexture(e),r[n].destroy(),e.off("update",this.updateTexture,this),e.off("dispose",this.destroyTexture,this),delete r[n],t||-1!==(e=this._managedTextures.indexOf(e))&&(0,l.removeItems)(this._managedTextures,e,1)),i&&i[n]&&(i[n].destroy(),delete i[n]))}},{key:"removeAll",value:function(){for(var e=0;e<this._managedTextures.length;++e){var t=this._managedTextures[e];t._glTextures[this.renderer.CONTEXT_UID]&&delete t._glTextures[this.renderer.CONTEXT_UID]}}},{key:"destroy",value:function(){for(var e=0;e<this._managedTextures.length;++e){var t=this._managedTextures[e];this.destroyTexture(t,!0),t.off("update",this.updateTexture,this),t.off("dispose",this.destroyTexture,this)}this._managedTextures=null}}]),r=h,t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,s=n(1),a=(o=n(3))&&o.__esModule?o:{default:o};function u(e){!function(e){if(!(e instanceof u))throw new TypeError("Cannot call a class as a function")}(this),this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=a.default.GC_MAX_IDLE,this.checkCountMax=a.default.GC_MAX_CHECK_COUNT,this.mode=a.default.GC_MODE}r(u,[{key:"update",value:function(){this.count++,this.mode!==s.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))}},{key:"run",value:function(){for(var e=this.renderer.textureManager,t=e._managedTextures,n=!1,r=0;r<t.length;r++){var i=t[r];!i._glRenderTargets&&this.count-i.touched>this.maxIdle&&(e.destroyTexture(i,!0),n=!(t[r]=null))}if(n){for(var o=0,s=0;s<t.length;s++)null!==t[s]&&(t[o++]=t[s]);t.length=o}}},{key:"unload",value:function(e){var t=this.renderer.textureManager;e._texture&&e._texture._glRenderTargets&&t.destroyTexture(e._texture,!0);for(var n=e.children.length-1;0<=n;n--)this.unload(e.children[n])}}]),r=u,t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,s=(o=n(122))&&o.__esModule?o:{default:o};function a(e){!function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=e,this.maxAttribs=e.getParameter(e.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=(0,s.default)(e),this.nativeVaoExtension=e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object")}r(a,[{key:"push",value:function(){var e=(e=this.stack[this.stackIndex])||(this.stack[this.stackIndex]=new Uint8Array(16));++this.stackIndex;for(var t=0;t<this.activeState.length;t++)e[t]=this.activeState[t]}},{key:"pop",value:function(){var e=this.stack[--this.stackIndex];this.setState(e)}},{key:"setState",value:function(e){this.setBlend(e[0]),this.setDepthTest(e[1]),this.setFrontFace(e[2]),this.setCullFace(e[3]),this.setBlendMode(e[4])}},{key:"setBlend",value:function(e){this.activeState[0]!==(e=e?1:0)&&(this.activeState[0]=e,this.gl[e?"enable":"disable"](this.gl.BLEND))}},{key:"setBlendMode",value:function(e){e!==this.activeState[4]&&(this.activeState[4]=e,2===(e=this.blendModes[e]).length?this.gl.blendFunc(e[0],e[1]):this.gl.blendFuncSeparate(e[0],e[1],e[2],e[3]))}},{key:"setDepthTest",value:function(e){this.activeState[1]!==(e=e?1:0)&&(this.activeState[1]=e,this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST))}},{key:"setCullFace",value:function(e){this.activeState[3]!==(e=e?1:0)&&(this.activeState[3]=e,this.gl[e?"enable":"disable"](this.gl.CULL_FACE))}},{key:"setFrontFace",value:function(e){this.activeState[2]!==(e=e?1:0)&&(this.activeState[2]=e,this.gl.frontFace(this.gl[e?"CW":"CCW"]))}},{key:"resetAttributes",value:function(){for(var e=0;e<this.attribState.tempAttribState.length;e++)this.attribState.tempAttribState[e]=0;for(var t=0;t<this.attribState.attribState.length;t++)this.attribState.attribState[t]=0;for(var n=1;n<this.maxAttribs;n++)this.gl.disableVertexAttribArray(n)}},{key:"resetToDefault",value:function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var e=0;e<this.activeState.length;++e)this.activeState[e]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)}}]),r=a,t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return t[r.BLEND_MODES.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.ADD]=[e.ONE,e.DST_ALPHA],t[r.BLEND_MODES.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR],t[r.BLEND_MODES.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.ADD_NPM]=[e.SRC_ALPHA,e.DST_ALPHA,e.ONE,e.DST_ALPHA],t[r.BLEND_MODES.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_COLOR],t};var r=n(1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return t[r.DRAW_MODES.POINTS]=e.POINTS,t[r.DRAW_MODES.LINES]=e.LINES,t[r.DRAW_MODES.LINE_LOOP]=e.LINE_LOOP,t[r.DRAW_MODES.LINE_STRIP]=e.LINE_STRIP,t[r.DRAW_MODES.TRIANGLES]=e.TRIANGLES,t[r.DRAW_MODES.TRIANGLE_STRIP]=e.TRIANGLE_STRIP,t[r.DRAW_MODES.TRIANGLE_FAN]=e.TRIANGLE_FAN,t};var r=n(1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=a.default;r=(r=(r=u).replace(/%count%/gi,t)).replace(/%forloop%/gi,function(e){var t="";t+="\n",t+="\n";for(var n=0;n<e;n++)0<n&&(t+="\nelse "),n<e-1&&(t+="if(textureId == "+n+".0)"),t+="\n{",t+="\n\tcolor = texture2D(uSamplers["+n+"], vTextureCoord);",t+="\n}";return(t+="\n")+"\n"}(t));for(var r=new s.default(e,n,r),i=[],o=0;o<t;o++)i[o]=o;return r.bind(),r.uniforms.uSamplers=i,r};var s=r(n(27)),a=r(n(126));function r(e){return e&&e.__esModule?e:{default:e}}n(55);var u=["varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","float textureId = floor(vTextureId+0.5);","%forloop%","gl_FragColor = color * vColor;","}"].join("\n")},function(e,t){e.exports="precision highp float;\n#define GLSLIFY 1\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor;\n}\n"},function(e,t){var n,r;e=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var a,u=[],l=!1,h=-1;function c(){l&&a&&(l=!1,a.length?u=a.concat(u):h=-1,u.length&&f())}function f(){if(!l){var e=s(c);l=!0;for(var t=u.length;t;){for(a=u,u=[];++h<t;)a&&a[h].run();h=-1,t=u.length}a=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function p(){}e.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new d(e,t)),1!==u.length||l||s(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=p,e.addListener=p,e.once=p,e.off=p,e.removeListener=p,e.removeAllListeners=p,e.emit=p,e.prependListener=p,e.prependOnceListener=p,e.listeners=function(e){return[]},e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n,r=!t;if(0===e)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");r&&((n=document.createElement("canvas")).width=1,n.height=1,t=s.default.createContext(n));for(var i=t.createShader(t.FRAGMENT_SHADER);;){var o=a.replace(/%forloop%/gi,function(e){for(var t="",n=0;n<e;++n)0<n&&(t+="\nelse "),n<e-1&&(t+="if(test == "+n+".0){}");return t}(e));if(t.shaderSource(i,o),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS))break;e=e/2|0}return r&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").loseContext(),e};var r,s=(r=n(7))&&r.__esModule?r:{default:r},a=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n")},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var i=(r(o.prototype,[{key:"destroy",value:function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null}}]),o);function o(e){!function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),this.vertices=new ArrayBuffer(e),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);return void 0!==r?"value"in r?r.value:void 0!==(r=r.get)?r.call(n):void 0:null!==(e=Object.getPrototypeOf(e))?o(e,t,n):void 0}var s=d(n(35)),a=d(n(9)),u=n(5),l=n(4),v=n(1),h=d(n(3)),c=d(n(56)),y=d(n(57)),f=d(n(131));function d(e){return e&&e.__esModule?e:{default:e}}var p={texture:!0,children:!1,baseTexture:!0};(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(g,s.default),r(g,[{key:"updateText",value:function(e){var t=this._style;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),this.dirty||!e){this._font=this._style.toFontString();var n=this.context,r=y.default.measureText(this._text,this._style,this._style.wordWrap,this.canvas),i=r.width,o=(e=r.height,r.lines),s=r.lineHeight,a=r.lineWidths,u=r.maxLineWidth,l=r.fontProperties;this.canvas.width=Math.ceil((Math.max(1,i)+2*t.padding)*this.resolution),this.canvas.height=Math.ceil((Math.max(1,e)+2*t.padding)*this.resolution),n.scale(this.resolution,this.resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.strokeStyle=t.stroke,n.lineWidth=t.strokeThickness,n.textBaseline=t.textBaseline,n.lineJoin=t.lineJoin,n.miterLimit=t.miterLimit;var h=void 0,c=void 0;if(t.dropShadow){n.fillStyle=t.dropShadowColor,n.globalAlpha=t.dropShadowAlpha,n.shadowBlur=t.dropShadowBlur,0<t.dropShadowBlur&&(n.shadowColor=t.dropShadowColor);for(var f=Math.cos(t.dropShadowAngle)*t.dropShadowDistance,d=Math.sin(t.dropShadowAngle)*t.dropShadowDistance,p=0;p<o.length;p++)h=t.strokeThickness/2,c=t.strokeThickness/2+p*s+l.ascent,"right"===t.align?h+=u-a[p]:"center"===t.align&&(h+=(u-a[p])/2),t.fill&&(this.drawLetterSpacing(o[p],h+f+t.padding,c+d+t.padding),t.stroke&&t.strokeThickness&&(n.strokeStyle=t.dropShadowColor,this.drawLetterSpacing(o[p],h+f+t.padding,c+d+t.padding,!0),n.strokeStyle=t.stroke))}n.shadowBlur=0,n.globalAlpha=1,n.fillStyle=this._generateFillStyle(t,o);for(var v=0;v<o.length;v++)h=t.strokeThickness/2,c=t.strokeThickness/2+v*s+l.ascent,"right"===t.align?h+=u-a[v]:"center"===t.align&&(h+=(u-a[v])/2),t.stroke&&t.strokeThickness&&this.drawLetterSpacing(o[v],h+t.padding,c+t.padding,!0),t.fill&&this.drawLetterSpacing(o[v],h+t.padding,c+t.padding);this.updateTexture()}}},{key:"drawLetterSpacing",value:function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]&&arguments[3],i=this._style.letterSpacing;if(0!==i)for(var o,s=String.prototype.split.call(e,""),a=t,u=0;u<e.length;)o=s[u++],r?this.context.strokeText(o,a,n):this.context.fillText(o,a,n),a+=this.context.measureText(o).width+i;else r?this.context.strokeText(e,t,n):this.context.fillText(e,t,n)}},{key:"updateTexture",value:function(){var e=this.canvas;!this._style.trim||(r=(0,f.default)(e)).data&&(e.width=r.width,e.height=r.height,this.context.putImageData(r.data,0,0));var t,n=this._texture,r=(t=this._style).trim?0:t.padding;(t=n.baseTexture).hasLoaded=!0,t.resolution=this.resolution,t.realWidth=e.width,t.realHeight=e.height,t.width=e.width/this.resolution,t.height=e.height/this.resolution,n.trim.width=n._frame.width=e.width/this.resolution,n.trim.height=n._frame.height=e.height/this.resolution,n.trim.x=-r,n.trim.y=-r,n.orig.width=n._frame.width-2*r,n.orig.height=n._frame.height-2*r,this._onTextureUpdate(),t.emit("update",t),this.dirty=!1}},{key:"renderWebGL",value:function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"renderWebGL",this).call(this,e)}},{key:"_renderCanvas",value:function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"_renderCanvas",this).call(this,e)}},{key:"getLocalBounds",value:function(e){return this.updateText(!0),o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"getLocalBounds",this).call(this,e)}},{key:"_calculateBounds",value:function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}},{key:"_onStyleChange",value:function(){this.dirty=!0}},{key:"_generateFillStyle",value:function(e,t){if(!Array.isArray(e.fill))return e.fill;if(navigator.isCocoonJS)return e.fill[0];var n=void 0,r=void 0,i=void 0,o=void 0,s=this.canvas.width/this.resolution,a=this.canvas.height/this.resolution,u=e.fill.slice(),l=e.fillGradientStops.slice();if(!l.length)for(var h=u.length+1,c=1;c<h;++c)l.push(c/h);if(u.unshift(e.fill[0]),l.unshift(0),u.push(e.fill[e.fill.length-1]),l.push(1),e.fillGradientType===v.TEXT_GRADIENT.LINEAR_VERTICAL){n=this.context.createLinearGradient(s/2,0,s/2,a),r=(u.length+1)*t.length,i=0;for(var f=0;f<t.length;f++){i+=1;for(var d=0;d<u.length;d++)o="number"==typeof l[d]?l[d]/t.length+f/t.length:i/r,n.addColorStop(o,u[d]),i++}}else{n=this.context.createLinearGradient(0,a/2,s,a/2),r=u.length+1,i=1;for(var p=0;p<u.length;p++)o="number"==typeof l[p]?l[p]:i/r,n.addColorStop(o,u[p]),i++}return n}},{key:"destroy",value:function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},p,e),o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"destroy",this).call(this,e),this.context=null,this.canvas=null,this._style=null}},{key:"width",get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){this.updateText(!0);var t=(0,l.sign)(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}},{key:"height",get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){this.updateText(!0);var t=(0,l.sign)(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}},{key:"style",get:function(){return this._style},set:function(e){(e=e||{})instanceof c.default?this._style=e:this._style=new c.default(e),this.localStyleID=-1,this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(e){e=String(""===e||null==e?" ":e),this._text!==e&&(this._text=e,this.dirty=!0)}}]),r=g;function g(e,t,n){!function(e){if(!(e instanceof g))throw new TypeError("Cannot call a class as a function")}(this),(n=n||document.createElement("canvas")).width=3,n.height=3;var r=a.default.fromCanvas(n,h.default.SCALE_MODE,"text");return r.orig=new u.Rectangle,r.trim=new u.Rectangle,r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,r)),a.default.addToCache(r._texture,r._texture.baseTexture.textureCacheIds[0]),r.canvas=n,r.context=r.canvas.getContext("2d"),r.resolution=h.default.RESOLUTION,r._text=null,r._style=null,r._styleListener=null,r._font="",r.text=e,r.style=t,r.localStyleID=-1,r}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.width,n=e.height,r=e.getContext("2d"),i=r.getImageData(0,0,t,n).data,o=i.length,s={top:null,left:null,right:null,bottom:null},a=(e=null,void 0),u=void 0,l=void 0;for(a=0;a<o;a+=4)0!==i[a+3]&&(u=a/4%t,l=~~(a/4/t),null===s.top&&(s.top=l),(null===s.left||u<s.left)&&(s.left=u),(null===s.right||s.right<u)&&(s.right=1+u),(null===s.bottom||s.bottom<l)&&(s.bottom=l));return null!==s.top&&(t=s.right-s.left,n=s.bottom-s.top+1,e=r.getImageData(s.left,s.top,t,n)),{height:n,width:t,data:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var h=n(2),o=n(4);function c(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;!function(e){if(!(e instanceof c))throw new TypeError("Cannot call a class as a function")}(this),this.baseTexture=e,this.textures={},this.animations={},this.data=t,this.resolution=this._updateResolution(n||this.baseTexture.imageUrl),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}r(c,null,[{key:"BATCH_SIZE",get:function(){return 1e3}}]),r(c,[{key:"_updateResolution",value:function(e){var t=this.data.meta.scale;return 1!==(e=null===(e=(0,o.getResolutionOfUrl)(e,null))?void 0!==t?parseFloat(t):1:e)&&(this.baseTexture.resolution=e,this.baseTexture.update()),e}},{key:"parse",value:function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=c.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()}},{key:"_processFrames",value:function(e){for(var t=e,n=c.BATCH_SIZE,r=this.baseTexture.sourceScale;t-e<n&&t<this._frameKeys.length;){var i,o,s,a=this._frameKeys[t],u=this._frames[a],l=u.frame;l&&(i=null,o=!1!==u.trimmed&&u.sourceSize?u.sourceSize:u.frame,o=new h.Rectangle(0,0,Math.floor(o.w*r)/this.resolution,Math.floor(o.h*r)/this.resolution),s=u.rotated?new h.Rectangle(Math.floor(l.x*r)/this.resolution,Math.floor(l.y*r)/this.resolution,Math.floor(l.h*r)/this.resolution,Math.floor(l.w*r)/this.resolution):new h.Rectangle(Math.floor(l.x*r)/this.resolution,Math.floor(l.y*r)/this.resolution,Math.floor(l.w*r)/this.resolution,Math.floor(l.h*r)/this.resolution),!1!==u.trimmed&&u.spriteSourceSize&&(i=new h.Rectangle(Math.floor(u.spriteSourceSize.x*r)/this.resolution,Math.floor(u.spriteSourceSize.y*r)/this.resolution,Math.floor(l.w*r)/this.resolution,Math.floor(l.h*r)/this.resolution)),this.textures[a]=new h.Texture(this.baseTexture,s,o,i,u.rotated?2:0,u.anchor),h.Texture.addToCache(this.textures[a],a)),t++}}},{key:"_processAnimations",value:function(){var e,t=this.data.animations||{};for(e in t){var n=!0,r=!(this.animations[e]=[]),i=void 0;try{for(var o,s=t[e][Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var a=o.value;this.animations[e].push(this.textures[a])}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}}}},{key:"_parseComplete",value:function(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}},{key:"_nextBatch",value:function(){var e=this;this._processFrames(this._batchIndex*c.BATCH_SIZE),this._batchIndex++,setTimeout(function(){e._batchIndex*c.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())},0)}},{key:"destroy",value:function(){var e,t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];for(e in this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&this.baseTexture.destroy(),this.baseTexture=null}}]),r=c,t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.autoDetectRenderer=function(e,t,n,r){var i=e&&e.forceCanvas;return void 0!==r&&(i=r),new((i||!o.isWebGLSupported()?s:a).default)(e,t,n)};var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(4)),s=r(n(23)),a=r(n(25));function r(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";t.__esModule=!0,t.Loader=void 0;var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=a(n(61)),i=a(n(62)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(63)),c=n(29);function a(e){return e&&e.__esModule?e:{default:e}}var u,l,f,d=/(#[\w-]+)?$/,p=t.Loader=(v.prototype.add=function(e,t,n,r){if(Array.isArray(e)){for(var i=0;i<e.length;++i)this.add(e[i]);return this}if("object"===(void 0===e?"undefined":h(e))&&(r=t||e.callback||e.onComplete,t=(n=e).url,e=e.name||e.key||e.url),"string"!=typeof t&&(r=n,n=t,t=e),"string"!=typeof t)throw new Error("No url passed to add resource to loader.");if("function"==typeof n&&(r=n,n=null),this.loading&&(!n||!n.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[e])throw new Error('Resource named "'+e+'" already exists.');if(t=this._prepareUrl(t),this.resources[e]=new c.Resource(e,t,n),"function"==typeof r&&this.resources[e].onAfterMiddleware.once(r),this.loading){for(var o=n.parentResource,s=[],a=0;a<o.children.length;++a)o.children[a].isComplete||s.push(o.children[a]);var u=o.progressChunk*(s.length+1)/(s.length+2);o.children.push(this.resources[e]),o.progressChunk=u;for(var l=0;l<s.length;++l)s[l].progressChunk=u;this.resources[e].progressChunk=u}return this._queue.push(this.resources[e]),this},v.prototype.pre=function(e){return this._beforeMiddleware.push(e),this},v.prototype.use=function(e){return this._afterMiddleware.push(e),this},v.prototype.reset=function(){for(var e in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources)(e=this.resources[e])._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort();return this.resources={},this},v.prototype.load=function(e){if("function"==typeof e&&this.onComplete.once(e),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var t=100/this._queue._tasks.length,n=0;n<this._queue._tasks.length;++n)this._queue._tasks[n].data.progressChunk=t;this._onStart(),this._queue.resume()}return this},v.prototype._prepareUrl=function(e){var t=(0,i.default)(e,{strictMode:!0}),n=void 0;return n=t.protocol||!t.path||0===e.indexOf("//")?e:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==e.charAt(0)?this.baseUrl+"/"+e:this.baseUrl+e,this.defaultQueryString&&(e=d.exec(n)[0],-1!==(n=n.substr(0,n.length-e.length)).indexOf("?")?n+="&"+this.defaultQueryString:n+="?"+this.defaultQueryString,n+=e),n},v.prototype._loadResource=function(n,e){var r=this;n._dequeue=e,s.eachSeries(this._beforeMiddleware,function(e,t){e.call(r,n,function(){t(n.isComplete?{}:null)})},function(){n.isComplete?r._onLoad(n):(n._onLoadBinding=n.onComplete.once(r._onLoad,r),n.load())},!0)},v.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},v.prototype._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},v.prototype._onLoad=function(n){var r=this;n._onLoadBinding=null,this._resourcesParsing.push(n),n._dequeue(),s.eachSeries(this._afterMiddleware,function(e,t){e.call(r,n,t)},function(){n.onAfterMiddleware.dispatch(n),r.progress=Math.min(100,r.progress+n.progressChunk),r.onProgress.dispatch(r,n),n.error?r.onError.dispatch(n.error,r,n):r.onLoad.dispatch(r,n),r._resourcesParsing.splice(r._resourcesParsing.indexOf(n),1),r._queue.idle()&&0===r._resourcesParsing.length&&r._onComplete()},!0)},u=v,(l=[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(e){this._queue.concurrency=e}}])&&r(u.prototype,l),f&&r(u,f),v);function v(){var n=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10;!function(e){if(!(e instanceof v))throw new TypeError("Cannot call a class as a function")}(this),this.baseUrl=e,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(e,t){return n._loadResource(e,t)},this._queue=s.queue(this._boundLoadResource,t),this._queue.pause(),this.resources={},this.onProgress=new o.default,this.onError=new o.default,this.onLoad=new o.default,this.onStart=new o.default,this.onComplete=new o.default;for(var r=0;r<v._defaultBeforeMiddleware.length;++r)this.pre(v._defaultBeforeMiddleware[r]);for(var i=0;i<v._defaultAfterMiddleware.length;++i)this.use(v._defaultAfterMiddleware[i])}p._defaultBeforeMiddleware=[],p._defaultAfterMiddleware=[],p.pre=function(e){return p._defaultBeforeMiddleware.push(e),p},p.use=function(e){return p._defaultAfterMiddleware.push(e),p}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=l(n(12)),o=n(136),s=l(n(6)),a=l(n(66)),u=l(n(65));n=l(n(60));function l(e){return e&&e.__esModule?e:{default:e}}var h,c,f,d,p=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(v,i.default),c=v,d=[{key:"addPixiMiddleware",value:function(e){v._pixiMiddleware.push(e)}}],(f=[{key:"destroy",value:function(){this.removeAllListeners(),this.reset()}}])&&r(c.prototype,f),d&&r(c,d),v);function v(e,t){!function(e){if(!(e instanceof v))throw new TypeError("Cannot call a class as a function")}(this);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,e,t));s.default.call(r);for(var n=0;n<v._pixiMiddleware.length;++n)r.use(v._pixiMiddleware[n]());return r.onStart.add(function(e){return r.emit("start",e)}),r.onProgress.add(function(e,t){return r.emit("progress",e,t)}),r.onError.add(function(e,t,n){return r.emit("error",e,t,n)}),r.onLoad.add(function(e,t){return r.emit("load",e,t)}),r.onComplete.add(function(e,t){return r.emit("complete",e,t)}),r}for(h in t.default=p,s.default.prototype)p.prototype[h]=s.default.prototype[h];p._pixiMiddleware=[o.blobMiddlewareFactory,a.default,u.default,n.default],(i=i.default.Resource).setExtensionXhrType("fnt",i.XHR_RESPONSE_TYPE.DOCUMENT)},function(e,t,n){"use strict";t.__esModule=!0,t.blobMiddlewareFactory=function(){return function(e,t){if(e.data){if(e.xhr&&e.xhrType===i.Resource.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof e.data){if(0===e.data.type.indexOf("image")){var n=s.createObjectURL(e.data);return e.blob=e.data,e.data=new Image,e.data.src=n,e.type=i.Resource.TYPE.IMAGE,void(e.data.onload=function(){s.revokeObjectURL(n),e.data.onload=null,t()})}}else{var r=e.xhr.getResponseHeader("content-type");if(r&&0===r.indexOf("image"))return e.data=new Image,e.data.src="data:"+r+";base64,"+(0,o.encodeBinary)(e.xhr.responseText),e.type=i.Resource.TYPE.IMAGE,void(e.data.onload=function(){e.data.onload=null,t()})}t()}else t()}};var i=n(29),o=n(64),s=window.URL||window.webkitURL},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e,t){if(!i.default.isAudioSupported||!e.data)return t();var n=e.url.split("?").shift().split(".").pop().toLowerCase();if(-1===i.default.exts.indexOf(n))return t();var r=e.name||e.url;if(!i.default.isWebAudioSupported)return o.default.audios[r]=e.data,t();i.default.globalWebAudioContext.decodeAudioData(e.data,function(e){o.default.audios[r]=e,t()})}};var i=r(n(15)),o=r(n(67));function r(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),a=(o=n(15))&&o.__esModule?o:{default:o};function u(e,t){!function(e){if(!(e instanceof u))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this));return n._loop=!1,n._paused=!1,n._muted=!1,n._volume=1,n._startTime=0,n._lastPauseTime=0,n._offsetTime=0,n.playing=!1,n.manager=t,n.data=e,n.name="",a.default.isWebAudioSupported||(n.audio=new window.Audio,n.audio.addEventListener("ended",n._onEnd.bind(n))),n}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(u,s.utils.EventEmitter),r(u,[{key:"play",value:function(e){return!e&&this.paused||!e&&this.playing||(this.playing=!0,this.emit("play"),a.default.isWebAudioSupported?(this.audio=this.manager.context.createBufferSource(),this.audio.start=this.audio.start||this.audio.noteOn,this.audio.stop=this.audio.stop||this.audio.noteOff,this.audio.buffer=this.data,this.audio.loop=this.loop,this._startTime=this.manager.context.currentTime,this.audio.onended=this._onEnd.bind(this),this.audio.gainNode=a.default.createGainNode(this.manager.context),this.audio.gainNode.gain.value=this.muted?0:this.volume,this.audio.gainNode.connect(this.manager.gainNode),this.audio.connect(this.audio.gainNode),this.audio.start(0,e?this._lastPauseTime:null)):(this.audio.src=this.data.children[0].src,this.audio.preload="auto",this.audio.volume=this.muted?0:this.volume,this.audio.load(),this.audio.play())),this}},{key:"stop",value:function(){return this.playing&&(a.default.isWebAudioSupported?this.audio.stop(0):(this.audio.pause(),this.audio.currentTime=0),this.playing=!1,this.emit("stop")),this}},{key:"reset",value:function(){this._startTime=0,this._lastPauseTime=0,this._offsetTime=0,this.playing=!1}},{key:"remove",value:function(){this.manager.removeAudio(this)}},{key:"_onEnd",value:function(){a.default.isWebAudioSupported?this.paused||(this.reset(),this.emit("end")):this.loop?(this.audio.currentTime=0,this.audio.play()):(this.reset(),this.emit("end"))}},{key:"paused",get:function(){return this._paused},set:function(e){e!==this._paused&&(e?(a.default.isWebAudioSupported?(this._offsetTime+=this.manager.context.currentTime-this._startTime,this._lastPauseTime=this._offsetTime%this.audio.buffer.duration,this.audio&&this.audio.stop(0)):this.audio&&this.audio.pause(),this.emit("pause")):(a.default.isWebAudioSupported?this.play(!0):this.audio&&this.audio.play(),this.emit("resume")),this._paused=e)}},{key:"loop",get:function(){return this._loop},set:function(e){e!==this._loop&&(this._loop=e,a.default.isWebAudioSupported&&this.audio&&(this.audio.loop=e))}},{key:"volume",get:function(){return this._volume},set:function(e){e!==this._volume&&(a.default.isWebAudioSupported?this.audio&&(this.audio.gainNode.gain.value=this.muted?0:this.volume):this.audio&&(this.audio.volume=this.muted?0:this.volume),this._volume=e)}},{key:"muted",get:function(){return this._muted},set:function(e){e!==this._muted&&(this._muted=e,a.default.isWebAudioSupported?this.audio&&(this.audio.gainNode.gain.value=this._muted?0:this.volume):this.audio&&(this.audio.volume=this._muted?0:this.volume))}}]),r=u,t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(140);Object.defineProperty(t,"Game",{enumerable:!0,get:function(){return u(r).default}});var i=n(142);Object.defineProperty(t,"SpriteClip",{enumerable:!0,get:function(){return u(i).default}});var o=n(143);Object.defineProperty(t,"TextClip",{enumerable:!0,get:function(){return u(o).default}});var s=n(144);Object.defineProperty(t,"AnimatedClip",{enumerable:!0,get:function(){return u(s).default}});var a=n(68);function u(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"AnimatedSprite",{enumerable:!0,get:function(){return u(a).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,s=l(n(2)),a=(o=n(141))&&o.__esModule?o:{default:o},u=(l(n(28)),n(59));function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function h(e){!function(e){if(!(e instanceof h))throw new TypeError("Cannot call a class as a function")}(this),void 0===e&&(e={}),e=Object.assign({domElement:null,initWidth:750,initHeight:1334,showFPS:!0,backgroundColor:0,transparent:!1,autoResize:!0},e);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,{width:e.initWidth,height:e.initHeight,backgroundColor:e.backgroundColor,transparent:e.transparent}));return t.domElement=e.domElement,t.autoResize=e.autoResize,t.initWidth=e.initWidth,t.initHeight=e.initHeight,t.domElement.appendChild(t.view),e.showFPS&&(t.stats=new a.default,t.domElement.appendChild(t.stats.dom)),SINT.Audios=new u.AudioManager,t._init(),t}s.utils.skipHello(),s.settings.PRECISION_FRAGMENT="highp",function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(h,s.Application),r(h,[{key:"_init",value:function(){this.initWidth,this.initHeight,this.autoResize&&(this.resizeW=this._resize.bind(this),window.addEventListener("resize",this.resizeW),this.resizeW()),this.ticker.add(this._animate,this)}},{key:"_resize",value:function(){try{var e=this.domElement.offsetWidth/this.initWidth;this.initHeight=this.domElement.offsetHeight/e,this.view.style.width="100%",this.renderer.resize(this.initWidth,this.initHeight),this.render()}catch(e){console.log(e.message),console.log("销毁场景时请执行 removeThis")}}},{key:"_animate",value:function(e){this.stats&&this.stats.update()}},{key:"preload",value:function(n){for(var e in void 0===n&&(n={}),(n=Object.assign({assets:{},loading:function(){},loaded:function(){}},n)).assets)SINT.loader.add(e,n.assets[e]);var r=SINT.loader.onProgress.add(n.loading);SINT.loader.load(function(e,t){r.detach(),n.loaded()})}},{key:"add",value:function(e){return this.stage.addChild(e),e}},{key:"addChild",value:function(e){return this.stage.addChild(e),e}},{key:"remove",value:function(e){this.stage.removeChild(e)}},{key:"removeChild",value:function(e){this.stage.removeChild(e)}},{key:"removeThis",value:function(){this.stats&&this.domElement.removeChild(this.stats.dom),console.warn("removeThis"),this.autoResize&&window.removeEventListener("resize",this.resizeW);for(var e,t=document.body.getElementsByTagName("button"),n=0;n<t.length;n++){var r=t[n];"HOOK DIV"==r.title&&document.body.removeChild(r)}for(e in this.destroy(!0),SINT.Audios.destroy(),SINT.loader.resources){var i=SINT.loader.resources[e],o=i.texture;o&&o.destroy(!0);var s=i.textures;if(s)for(var a in s)s[a].destroy(!0)}SINT.loader.destroy()}}]),r=h,t.default=r},function(e,t,n){var h;e.exports=((h=function(){function e(e){return r.appendChild(e.dom),e}function t(e){for(var t=0;t<r.children.length;t++)r.children[t].style.display=t===e?"block":"none";n=e}var n=0,r=document.createElement("div");r.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",r.addEventListener("click",function(e){e.preventDefault(),t(++n%r.children.length)},!1);var i,o=(performance||Date).now(),s=o,a=0,u=e(new h.Panel("FPS","#0ff","#002")),l=e(new h.Panel("MS","#0f0","#020"));return self.performance&&self.performance.memory&&(i=e(new h.Panel("MB","#f08","#201"))),t(0),{REVISION:16,dom:r,addPanel:e,showPanel:t,begin:function(){o=(performance||Date).now()},end:function(){a++;var e,t=(performance||Date).now();return l.update(t-o,200),s+1e3<t&&(u.update(1e3*a/(t-s),100),s=t,a=0,i)&&(e=performance.memory,i.update(e.usedJSHeapSize/1048576,e.jsHeapSizeLimit/1048576)),t},update:function(){o=this.end()},domElement:r,setMode:t}}).Panel=function(n,r,i){var o=1/0,s=0,a=Math.round,u=a(window.devicePixelRatio||1),l=80*u,e=48*u,h=3*u,c=2*u,f=3*u,d=15*u,p=74*u,v=30*u,y=document.createElement("canvas");y.width=l,y.height=e,y.style.cssText="width:80px;height:48px";var g=y.getContext("2d");return g.font="bold "+9*u+"px Helvetica,Arial,sans-serif",g.textBaseline="top",g.fillStyle=i,g.fillRect(0,0,l,e),g.fillStyle=r,g.fillText(n,h,c),g.fillRect(f,d,p,v),g.fillStyle=i,g.globalAlpha=.9,g.fillRect(f,d,p,v),{dom:y,update:function(e,t){o=Math.min(o,e),s=Math.max(s,e),g.fillStyle=i,g.globalAlpha=1,g.fillRect(0,0,l,d),g.fillStyle=r,g.fillText(a(e)+" "+n+" ("+a(o)+"-"+a(s)+")",h,c),g.drawImage(y,f+u,d,p-u,v,f,d,p-u,v),g.fillRect(f+p-u,d,u,v),g.fillStyle=i,g.globalAlpha=.9,g.fillRect(f+p-u,d,u,a((1-e/t)*v))}}},h)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2));function i(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;return function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),e=r.Texture.fromFrame(e),(e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e))).x=t,e.y=n,e}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(i,r.Sprite),n=i,t.default=n},function(e,t,n){"use strict";function i(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=arguments[3];return function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),(r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e,r))).x=t,r.y=n,r}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)).Text),n=i,t.default=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2));function s(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;!function(e){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this);var r=[];if("string"==typeof e)for(var i in SINT.loader.resources[e].textures)i=o.Texture.fromFrame(i),r.push(i);else e instanceof Array&&e.forEach(function(e,t){e=o.Texture.fromFrame(e),r.push(e)});return(e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,r))).x=t,e.y=n,e}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(s,((r=n(68))&&r.__esModule?r:{default:r}).default),n=s,t.default=n},function(e,t,n){"use strict";function r(e){return e.x+e.width}function i(e){return e.y+e.height}Object.defineProperty(t,"__esModule",{value:!0}),t.getUrlStr=function(e){return e=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),null!=(e=window.location.search.substr(1).match(e))?unescape(e[2]):null},t.degToRad=function(e){return e*Math.PI/180},t.getImageXYData=function(e,t,n){var r=document.createElement("canvas");document.body.appendChild(r),r.width=t,r.height=n;var i=r.getContext("2d");i.drawImage(e,0,0,t,n);var o=i.getImageData(0,0,t,n);document.body.removeChild(r);for(var s=[],a=.5*t,u=.5*n,l=0;l<n;l+=2)for(var h=0;h<t;h+=2){var c=l*t+h,f=[o.data[4*c],o.data[4*c+1],o.data[4*c+2],o.data[4*c+3]];0<o.data[4*c+3]&&s.push([h-a,u-l,f])}return s},t.getImageRGBAData=function(e,t,n){var r=document.createElement("canvas");document.body.appendChild(r),r.width=t,r.height=n;var i=r.getContext("2d");return i.drawImage(e,0,0,t,n),n=i.getImageData(0,0,t,n),document.body.removeChild(r),n},t.getTxtImage=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:50,n=document.createElement("canvas");document.body.appendChild(n),n.width=512,n.height=128;var r=n.getContext("2d");return r.font=t+"sx Verdana",r.fillStyle="#ffffff",r.textAlign="center",r.fillText(e,256,64),e=n.toDataURL("image/png"),document.body.removeChild(n),(n=document.createElement("img")).src=e,n},t.canvasToImage=function(e){e.getContext("experimental-webgl",{preserveDrawingBuffer:!0});var t=e.toDataURL("image/png");return(e=document.createElement("img")).src=t,e},t.readFile=function(r){return console.log(r.type),new Promise(function(t,e){var n=new FileReader;n.readAsDataURL(r),n.onload=function(e){/image\/\w+/.test(r.type)?console.log("type: /image"):t(this.result)},n.onerror=function(){e(new Error("Could not load file"+r))}})},t.readJson=function(r){return console.log(r.type),new Promise(function(t,e){var n=new FileReader;n.readAsText(r),n.onload=function(e){t(JSON.parse(this.result))},n.onerror=function(){e(new Error("Could not load file"+r))}})},t.loadJson=function(e){return new Promise(function(t,n){var r=new XMLHttpRequest;r.open("GET",e),r.send(null),r.onload=function(e){200==r.status?t(JSON.parse(this.responseText)):n(new Error("Could not loadJson"))}})},t.postJson=function(e,n){return new Promise(function(t,r){$.ajax({type:"POST",url:e,data:n,success:function(e){t(JSON.parse(e))},error:function(e,t,n){r(t)}})})},t.isContainsRect=function(e,t){return!(!e||!t)&&(t instanceof SINT.Rectangle?!(e.x>=t.x||e.y>=t.y||e.x+e.width<=t.x+t.width||e.y+e.height<=t.y+t.height):t instanceof SINT.Point?t.x>=e.x&&t.x<=r(e)&&t.y>=e.y&&t.y<=i(e):void 0)},t.isIntersectsRect=function(e,t){return!(r(e)<t.x||r(t)<e.x||i(e)<t.y||i(t)<e.y)},t.getPointAngle=function(e,t){var n=e.x,r=e.y,i=t.x,o=t.y;e=Math.abs(n-i),e=(t=Math.abs(r-o))/(e=Math.sqrt(Math.pow(e,2)+Math.pow(t,2))),e=Math.acos(e),e=Math.floor(180/(Math.PI/e));return n<i&&r<o&&(e=180-e),i==n&&r<o&&(e=180),n<i&&o==r&&(e=90),i<n&&r<o&&(e=180+e),i<n&&o==r&&(e=270),i<n&&o<r&&(e=360-e),e},t.getPointDistance=function(e,t){var n=t.x-e.x;e=t.y-e.y;return Math.pow(n*n+e*e,.5)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DisplacementFilter=t.HolesFilter=t.GlitchFilter=t.BulgePinchFilter=t.BlurFilter=t.ColorMatrixFilter=t.AlphaFilter=void 0,t.doGlitch=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r=new h.GlitchFilter;e.filters=[r],a.default.to(r,t,{time:1,ease:Linear.easeNone,onComplete:function(){n&&(e.filters=[])}})},t.doDye=function(e,t){var n=new r.default(t);(t=new i.default).blackAndWhite(),e.filters=[t,n]},t.doTwist=function(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]&&arguments[4];(n=new l.TwistFilter(n,0)).offset.set(t);var o=new s.default;e.filters=[n,o],a.default.to(n,r,{angle:10,ease:Strong.easeInOut}),i&&a.default.to(o,.7*r,{ease:Strong.easeInOut,alpha:0,delay:.3*r,onComplete:function(){e.filters=[o],a.default.to(o,1,{alpha:1,onComplete:function(){e.filters=[]}})}})},t.doDisplacement=function(e,t,n,r,i){var o=5<arguments.length&&void 0!==arguments[5]&&arguments[5],s=new f.DisplacementFilter;e.filters=[s],a.default.to(s,i,{density:t,speed:n,zoom:r,ease:Linear.easeNone,onComplete:function(){o&&(e.filters=[])}})};var a=d(n(69)),r=d(n(149)),i=d(n(151)),s=d(n(153)),o=d(n(155)),u=n(158),l=n(161),h=n(164),c=n(167),f=n(170);function d(e){return e&&e.__esModule?e:{default:e}}t.AlphaFilter=s.default,t.ColorMatrixFilter=i.default,t.BlurFilter=o.default,t.BulgePinchFilter=u.BulgePinchFilter,t.GlitchFilter=h.GlitchFilter,t.HolesFilter=c.HolesFilter,t.DisplacementFilter=f.DisplacementFilter},function(e,t){e.exports=function(e){var t;return e.webpackPolyfill||((t=Object.create(e)).children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1),t}},function(e,t,n){"use strict";n.r(t),n.d(t,"Back",function(){return r}),n.d(t,"Elastic",function(){return i}),n.d(t,"Bounce",function(){return o}),n.d(t,"RoughEase",function(){return s}),n.d(t,"SlowMo",function(){return a}),n.d(t,"SteppedEase",function(){return u}),n.d(t,"Circ",function(){return l}),n.d(t,"Expo",function(){return h}),n.d(t,"Sine",function(){return c}),n.d(t,"ExpoScaleEase",function(){return f});var g=n(0);n.d(t,"Linear",function(){return g.Linear}),n.d(t,"Power0",function(){return g.Power0}),n.d(t,"Power1",function(){return g.Power1}),n.d(t,"Power2",function(){return g.Power2}),n.d(t,"Power3",function(){return g.Power3}),n.d(t,"Power4",function(){return g.Power4}),g._gsScope._gsDefine("easing.Back",["easing.Ease"],function(){function e(e,t){var n=h("easing."+e,function(){},!0);return(e=n.prototype=new g.Ease).constructor=n,e.getRatio=t,n}function t(e,t,n,r){return r=h("easing."+e,{easeOut:new t,easeIn:new n,easeInOut:new r},!0),c(r,e),r}function y(e,t,n){this.t=e,this.v=t,n&&(((this.next=n).prev=this).c=n.v-t,this.gap=n.t-e)}var n,r,i,o,s=g._gsScope.GreenSockGlobals||g._gsScope,a=s.com.greensock,u=2*Math.PI,l=Math.PI/2,h=a._class,c=g.Ease.register||function(){},f=(a=t("Back",(o=function(e,t){var n=h("easing."+e,function(e){this._p1=e||0===e?e:1.70158,this._p2=1.525*this._p1},!0);return(e=n.prototype=new g.Ease).constructor=n,e.getRatio=t,e.config=function(e){return new n(e)},n})("BackOut",function(e){return(e-=1)*e*((this._p1+1)*e+this._p1)+1}),o("BackIn",function(e){return e*e*((this._p1+1)*e-this._p1)}),o("BackInOut",function(e){return(e*=2)<1?.5*e*e*((this._p2+1)*e-this._p2):.5*((e-=2)*e*((this._p2+1)*e+this._p2)+2)})),h("easing.SlowMo",function(e,t,n){t=t||0===t?t:.7,null==e?e=.7:1<e&&(e=1),this._p=1!==e?t:0,this._p1=(1-e)/2,this._p2=e,this._p3=this._p1+this._p2,this._calcEnd=!0===n},!0));return(o=f.prototype=new g.Ease).constructor=f,o.getRatio=function(e){var t=e+(.5-e)*this._p;return e<this._p1?this._calcEnd?1-(e=1-e/this._p1)*e:t-(e=1-e/this._p1)*e*e*e*t:e>this._p3?this._calcEnd?1===e?0:1-(e=(e-this._p3)/this._p1)*e:t+(e-t)*(e=(e-this._p3)/this._p1)*e*e*e:this._calcEnd?1:t},f.ease=new f(.7,.7),o.config=f.config=function(e,t,n){return new f(e,t,n)},(o=(n=h("easing.SteppedEase",function(e,t){this._p1=1/(e=e||1),this._p2=e+(t?0:1),this._p3=t?1:0},!0)).prototype=new g.Ease).constructor=n,o.getRatio=function(e){return e<0?e=0:1<=e&&(e=.999999999),((this._p2*e|0)+this._p3)*this._p1},o.config=n.config=function(e,t){return new n(e,t)},(o=(r=h("easing.ExpoScaleEase",function(e,t,n){this._p1=Math.log(t/e),this._p2=t-e,this._p3=e,this._ease=n},!0)).prototype=new g.Ease).constructor=r,o.getRatio=function(e){return this._ease&&(e=this._ease.getRatio(e)),(this._p3*Math.exp(this._p1*e)-this._p3)/this._p2},o.config=r.config=function(e,t,n){return new r(e,t,n)},(o=(i=h("easing.RoughEase",function(e){for(var t,n,r,i,o,s,a=(e=e||{}).taper||"none",u=[],l=0,h=0|(e.points||20),c=h,f=!1!==e.randomize,d=!0===e.clamp,p=e.template instanceof g.Ease?e.template:null,v="number"==typeof e.strength?.4*e.strength:.4;-1<--c;)t=f?Math.random():1/h*c,n=p?p.getRatio(t):t,r="none"===a?v:"out"===a?(i=1-t)*i*v:"in"===a?t*t*v:t<.5?(i=2*t)*i*.5*v:(i=2*(1-t))*i*.5*v,f?n+=Math.random()*r-.5*r:c%2?n+=.5*r:n-=.5*r,d&&(1<n?n=1:n<0&&(n=0)),u[l++]={x:t,y:n};for(u.sort(function(e,t){return e.x-t.x}),s=new y(1,1,null),c=h;-1<--c;)s=new y((o=u[c]).x,o.y,s);this._prev=new y(0,0,0!==s.t?s:s.next)},!0)).prototype=new g.Ease).constructor=i,o.getRatio=function(e){var t=this._prev;if(e>t.t){for(;t.next&&e>=t.t;)t=t.next;t=t.prev}else for(;t.prev&&e<=t.t;)t=t.prev;return(this._prev=t).v+(e-t.t)/t.gap*t.c},o.config=function(e){return new i(e)},i.ease=new i,t("Bounce",e("BounceOut",function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}),e("BounceIn",function(e){return(e=1-e)<1/2.75?1-7.5625*e*e:e<2/2.75?1-(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?1-(7.5625*(e-=2.25/2.75)*e+.9375):1-(7.5625*(e-=2.625/2.75)*e+.984375)}),e("BounceInOut",function(e){var t=e<.5;return(e=t?1-2*e:2*e-1)<1/2.75?e*=7.5625*e:e=e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,t?.5*(1-e):.5*e+.5})),t("Circ",e("CircOut",function(e){return Math.sqrt(1-(e-=1)*e)}),e("CircIn",function(e){return-(Math.sqrt(1-e*e)-1)}),e("CircInOut",function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)})),t("Elastic",(o=function(e,t,n){var r=h("easing."+e,function(e,t){this._p1=1<=e?e:1,this._p2=(t||n)/(e<1?e:1),this._p3=this._p2/u*(Math.asin(1/this._p1)||0),this._p2=u/this._p2},!0);return(e=r.prototype=new g.Ease).constructor=r,e.getRatio=t,e.config=function(e,t){return new r(e,t)},r})("ElasticOut",function(e){return this._p1*Math.pow(2,-10*e)*Math.sin((e-this._p3)*this._p2)+1},.3),o("ElasticIn",function(e){return-this._p1*Math.pow(2,10*--e)*Math.sin((e-this._p3)*this._p2)},.3),o("ElasticInOut",function(e){return(e*=2)<1?this._p1*Math.pow(2,10*--e)*Math.sin((e-this._p3)*this._p2)*-.5:this._p1*Math.pow(2,-10*--e)*Math.sin((e-this._p3)*this._p2)*.5+1},.45)),t("Expo",e("ExpoOut",function(e){return 1-Math.pow(2,-10*e)}),e("ExpoIn",function(e){return Math.pow(2,10*(e-1))-.001}),e("ExpoInOut",function(e){return(e*=2)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))})),t("Sine",e("SineOut",function(e){return Math.sin(e*l)}),e("SineIn",function(e){return 1-Math.cos(e*l)}),e("SineInOut",function(e){return-.5*(Math.cos(Math.PI*e)-1)})),h("easing.EaseLookup",{find:function(e){return g.Ease.map[e]}},!0),c(s.SlowMo,"SlowMo","ease,"),c(i,"RoughEase","ease,"),c(n,"SteppedEase","ease,"),a},!0);var r=g.globals.Back,i=g.globals.Elastic,o=g.globals.Bounce,s=g.globals.RoughEase,a=g.globals.SlowMo,u=g.globals.SteppedEase,l=g.globals.Circ,h=g.globals.Expo,c=g.globals.Sine,f=g.globals.ExpoScaleEase},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),s=u(n(8)),a=u(n(150));function u(e){return e&&e.__esModule?e:{default:e}}function l(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:16777215;!function(e){if(!(e instanceof l))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,s.default,a.default));return t.uniforms.uColor=new Float32Array(3),t.color=e,t.glShaderKey="dyeColor",t}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(l,o.Filter),r(l,[{key:"color",get:function(){return this._uColor},set:function(e){var t=this.uniforms.uColor;"number"==typeof e?(o.utils.hex2rgb(e,t),this._uColor=e):(t[0]=e[0],t[1]=e[1],t[2]=e[2],this._uColor=o.utils.rgb2hex(t))}}]),r=l,t.default=r},function(e,t){e.exports="#define GLSLIFY 1\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec3 uColor;\n\nvoid main(void)\n{\n   vec4 currentColor = texture2D(uSampler, vTextureCoord);\n   gl_FragColor = vec4(mix(currentColor.rgb, uColor * currentColor.a, 0.7)*1.3, currentColor.a);\n}"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),s=u(n(8)),a=u(n(152));function u(e){return e&&e.__esModule?e:{default:e}}function l(){!function(e){if(!(e instanceof l))throw new TypeError("Cannot call a class as a function")}(this);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,s.default,a.default));return e.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],e.alpha=1,e}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(l,o.Filter),r(l,[{key:"_loadMatrix",value:function(e){var t=e;1<arguments.length&&void 0!==arguments[1]&&arguments[1]&&(this._multiply(t,this.uniforms.m,e),t=this._colorMatrix(t)),this.uniforms.m=t}},{key:"_multiply",value:function(e,t,n){return e[0]=t[0]*n[0]+t[1]*n[5]+t[2]*n[10]+t[3]*n[15],e[1]=t[0]*n[1]+t[1]*n[6]+t[2]*n[11]+t[3]*n[16],e[2]=t[0]*n[2]+t[1]*n[7]+t[2]*n[12]+t[3]*n[17],e[3]=t[0]*n[3]+t[1]*n[8]+t[2]*n[13]+t[3]*n[18],e[4]=t[0]*n[4]+t[1]*n[9]+t[2]*n[14]+t[3]*n[19]+t[4],e[5]=t[5]*n[0]+t[6]*n[5]+t[7]*n[10]+t[8]*n[15],e[6]=t[5]*n[1]+t[6]*n[6]+t[7]*n[11]+t[8]*n[16],e[7]=t[5]*n[2]+t[6]*n[7]+t[7]*n[12]+t[8]*n[17],e[8]=t[5]*n[3]+t[6]*n[8]+t[7]*n[13]+t[8]*n[18],e[9]=t[5]*n[4]+t[6]*n[9]+t[7]*n[14]+t[8]*n[19]+t[9],e[10]=t[10]*n[0]+t[11]*n[5]+t[12]*n[10]+t[13]*n[15],e[11]=t[10]*n[1]+t[11]*n[6]+t[12]*n[11]+t[13]*n[16],e[12]=t[10]*n[2]+t[11]*n[7]+t[12]*n[12]+t[13]*n[17],e[13]=t[10]*n[3]+t[11]*n[8]+t[12]*n[13]+t[13]*n[18],e[14]=t[10]*n[4]+t[11]*n[9]+t[12]*n[14]+t[13]*n[19]+t[14],e[15]=t[15]*n[0]+t[16]*n[5]+t[17]*n[10]+t[18]*n[15],e[16]=t[15]*n[1]+t[16]*n[6]+t[17]*n[11]+t[18]*n[16],e[17]=t[15]*n[2]+t[16]*n[7]+t[17]*n[12]+t[18]*n[17],e[18]=t[15]*n[3]+t[16]*n[8]+t[17]*n[13]+t[18]*n[18],e[19]=t[15]*n[4]+t[16]*n[9]+t[17]*n[14]+t[18]*n[19]+t[19],e}},{key:"_colorMatrix",value:function(e){return(e=new Float32Array(e))[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e}},{key:"brightness",value:function(e,t){this._loadMatrix([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],t)}},{key:"greyscale",value:function(e,t){this._loadMatrix([e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0],t)}},{key:"blackAndWhite",value:function(e){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],e)}},{key:"hue",value:function(e,t){e=(e||0)/180*Math.PI;var n=Math.cos(e),r=Math.sin(e);e=(0,Math.sqrt)(1/3);this._loadMatrix([n+1/3*(1-n),1/3*(1-n)-e*r,1/3*(1-n)+e*r,0,0,1/3*(1-n)+e*r,n+1/3*(1-n),1/3*(1-n)-e*r,0,0,1/3*(1-n)-e*r,1/3*(1-n)+e*r,n+1/3*(1-n),0,0,0,0,0,1,0],t)}},{key:"contrast",value:function(e,t){var n=(e||0)+1;e=-.5*(n-1);this._loadMatrix([n,0,0,0,e,0,n,0,0,e,0,0,n,0,e,0,0,0,1,0],t)}},{key:"saturate",value:function(){var e=2*(0<arguments.length&&void 0!==arguments[0]?arguments[0]:0)/3+1,t=-.5*(e-1);this._loadMatrix([e,t,t,0,0,t,e,t,0,0,t,t,e,0,0,0,0,0,1,0],arguments[1])}},{key:"desaturate",value:function(){this.saturate(-1)}},{key:"negative",value:function(e){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],e)}},{key:"sepia",value:function(e){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],e)}},{key:"technicolor",value:function(e){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],e)}},{key:"polaroid",value:function(e){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],e)}},{key:"toBGR",value:function(e){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e)}},{key:"kodachrome",value:function(e){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],e)}},{key:"browni",value:function(e){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],e)}},{key:"vintage",value:function(e){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],e)}},{key:"colorTone",value:function(e,t,n,r,i){var o=((n=n||16770432)>>16&255)/255,s=(n>>8&255)/255,a=(255&n)/255,u=((r=r||3375104)>>16&255)/255;n=(r>>8&255)/255,r=(255&r)/255;this._loadMatrix([.3,.59,.11,0,0,o,s,a,e=e||.2,0,u,n,r,t=t||.15,0,o-u,s-n,a-r,0,0],i)}},{key:"night",value:function(e,t){this._loadMatrix([-2*(e=e||.1),-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0],t)}},{key:"predator",value:function(e,t){this._loadMatrix([11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0],t)}},{key:"lsd",value:function(e){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],e)}},{key:"reset",value:function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)}},{key:"matrix",get:function(){return this.uniforms.m},set:function(e){this.uniforms.m=e}},{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e}}]),r=l,(t.default=r).prototype.grayscale=r.prototype.greyscale},function(e,t){e.exports="#define GLSLIFY 1\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),s=u(n(8)),a=u(n(154));function u(e){return e&&e.__esModule?e:{default:e}}function l(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;!function(e){if(!(e instanceof l))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,s.default,a.default));return t.alpha=e,t.glShaderKey="alpha",t}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(l,o.Filter),r(l,[{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e}}]),r=l,t.default=r},function(e,t){e.exports="#define GLSLIFY 1\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),s=u(n(156)),a=u(n(157));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n,r){!function(e){if(!(e instanceof l))throw new TypeError("Cannot call a class as a function")}(this);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return i.blurXFilter=new s.default(e,t,n,r),i.blurYFilter=new a.default(e,t,n,r),i.padding=0,i.resolution=n||o.settings.RESOLUTION,i.quality=t||4,i.blur=e||8,i}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(l,o.Filter),r(l,[{key:"apply",value:function(e,t,n){var r=e.getRenderTarget(!0);this.blurXFilter.apply(e,t,r,!0),this.blurYFilter.apply(e,r,n,!1),e.returnRenderTarget(r)}},{key:"blur",get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"quality",get:function(){return this.blurXFilter.quality},set:function(e){this.blurXFilter.quality=this.blurYFilter.quality=e}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blendMode",get:function(){return this.blurYFilter._blendMode},set:function(e){this.blurYFilter._blendMode=e}}]),r=l,t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=s(n(70)),h=s(n(71)),c=s(n(72));function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,r){!function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this);var i=(0,l.default)(r=r||5,!0);r=(0,h.default)(r);return(r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,i,r))).resolution=n||o.settings.RESOLUTION,r._quality=0,r.quality=t||4,r.strength=e||8,r.firstRun=!0,r}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(a,o.Filter),r(a,[{key:"apply",value:function(e,t,n,r){if(this.firstRun&&(i=e.renderer.gl,i=(0,c.default)(i),this.vertexSrc=(0,l.default)(i,!0),this.fragmentSrc=(0,h.default)(i),this.firstRun=!1),this.uniforms.strength=1/n.size.width*(n.size.width/t.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,t,n,r);else{for(var i=e.getRenderTarget(!0),o=t,s=i,a=0;a<this.passes-1;a++){e.applyFilter(this,o,s,!0);var u=s;s=o,o=u}e.applyFilter(this,o,n,r),e.returnRenderTarget(i)}}},{key:"blur",get:function(){return this.strength},set:function(e){this.padding=2*Math.abs(e),this.strength=e}},{key:"quality",get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e}}]),r=a,t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),l=s(n(70)),h=s(n(71)),c=s(n(72));function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,r){!function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this);var i=(0,l.default)(r=r||5,!1);r=(0,h.default)(r);return(r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,i,r))).resolution=n||o.settings.RESOLUTION,r._quality=0,r.quality=t||4,r.strength=e||8,r.firstRun=!0,r}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(a,o.Filter),r(a,[{key:"apply",value:function(e,t,n,r){if(this.firstRun&&(i=e.renderer.gl,i=(0,c.default)(i),this.vertexSrc=(0,l.default)(i,!1),this.fragmentSrc=(0,h.default)(i),this.firstRun=!1),this.uniforms.strength=1/n.size.height*(n.size.height/t.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,t,n,r);else{for(var i=e.getRenderTarget(!0),o=t,s=i,a=0;a<this.passes-1;a++){e.applyFilter(this,o,s,!0);var u=s;s=o,o=u}e.applyFilter(this,o,n,r),e.returnRenderTarget(i)}}},{key:"blur",get:function(){return this.strength},set:function(e){this.padding=2*Math.abs(e),this.strength=e}},{key:"quality",get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e}}]),r=a,t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(159);Object.defineProperty(t,"BulgePinchFilter",{enumerable:!0,get:function(){return((e=r)&&e.__esModule?e:{default:e}).default;var e}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),s=u(n(8)),a=u(n(160));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){!function(e){if(!(e instanceof l))throw new TypeError("Cannot call a class as a function")}(this);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,s.default,a.default));return r.uniforms.dimensions=new Float32Array(2),r.center=e||[.5,.5],r.radius=t||100,r.strength=n||1,r}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(l,o.Filter),r(l,[{key:"apply",value:function(e,t,n,r){this.uniforms.dimensions[0]=t.sourceFrame.width,this.uniforms.dimensions[1]=t.sourceFrame.height,e.applyFilter(this,t,n,r)}},{key:"radius",get:function(){return this.uniforms.radius},set:function(e){this.uniforms.radius=e}},{key:"strength",get:function(){return this.uniforms.strength},set:function(e){this.uniforms.strength=e}},{key:"center",get:function(){return this.uniforms.center},set:function(e){this.uniforms.center=e}}]),r=l,t.default=r},function(e,t){e.exports="#define GLSLIFY 1\nvarying vec2 vTextureCoord; // tybug for go first\n\nuniform sampler2D uSampler;\nuniform float radius;\nuniform float strength;\nuniform vec2 center;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\nuniform vec2 dimensions;\n\nvoid main()\n{\n    vec2 coord = vTextureCoord * filterArea.xy;\n    coord -= center * dimensions.xy;\n    float distance = length(coord);\n    if (distance < radius) {\n        float percent = distance / radius;\n        if (strength > 0.0) {\n            coord *= mix(1.0, smoothstep(0.0, radius / distance, percent), strength * 0.75);\n        } else {\n            coord *= mix(1.0, pow(percent, 1.0 + strength * 0.75) * radius / distance, 1.0 - percent);\n        }\n    }\n    coord += center * dimensions.xy;\n    coord /= filterArea.xy;\n    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);\n    vec4 color = texture2D(uSampler, clampedCoord);\n    if (coord != clampedCoord) {\n        color *= max(0.0, 1.0 - length(coord - clampedCoord));\n    }\n\n    gl_FragColor = color;\n}\n"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(162);Object.defineProperty(t,"TwistFilter",{enumerable:!0,get:function(){return((e=r)&&e.__esModule?e:{default:e}).default;var e}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),s=u(n(8)),a=u(n(163));function u(e){return e&&e.__esModule?e:{default:e}}function l(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:200,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:4,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:20;!function(e){if(!(e instanceof l))throw new TypeError("Cannot call a class as a function")}(this);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,s.default,a.default));return r.radius=e,r.angle=t,r.padding=n,r}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(l,o.Filter),r(l,[{key:"offset",get:function(){return this.uniforms.offset},set:function(e){this.uniforms.offset=e}},{key:"radius",get:function(){return this.uniforms.radius},set:function(e){this.uniforms.radius=e}},{key:"angle",get:function(){return this.uniforms.angle},set:function(e){this.uniforms.angle=e}}]),r=l,t.default=r},function(e,t){e.exports="#define GLSLIFY 1\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float radius;\nuniform float angle;\nuniform vec2 offset;\nuniform vec4 filterArea;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvec2 twist(vec2 coord)\n{\n    coord -= offset;\n\n    float dist = length(coord);\n\n    if (dist < radius)\n    {\n        float ratioDist = (radius - dist) / radius;\n        float angleMod = ratioDist * ratioDist * angle;\n        float s = sin(angleMod);\n        float c = cos(angleMod);\n        coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);\n    }\n\n    coord += offset;\n\n    return coord;\n}\n\nvoid main(void)\n{\n\n    vec2 coord = mapCoord(vTextureCoord);\n\n    coord = twist(coord);\n\n    coord = unmapCoord(coord);\n\n    gl_FragColor = texture2D(uSampler, coord );\n\n}\n"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(165);Object.defineProperty(t,"GlitchFilter",{enumerable:!0,get:function(){return((e=r)&&e.__esModule?e:{default:e}).default;var e}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),s=u(n(8)),a=u(n(166));function u(e){return e&&e.__esModule?e:{default:e}}function l(){!function(e){if(!(e instanceof l))throw new TypeError("Cannot call a class as a function")}(this);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,s.default,a.default));return e.uniforms.time=0,e}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(l,o.Filter),r(l,[{key:"time",get:function(){return this.uniforms.time},set:function(e){this.uniforms.time=e}}]),r=l,t.default=r},function(e,t){e.exports="#define GLSLIFY 1\nvarying vec2 vTextureCoord;\n\nuniform vec4 filterArea;\nuniform sampler2D uSampler;\n\nuniform float time;\n\n\nfloat random_1_0(vec2 c){\n  return fract(sin(dot(c.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\n\n//\n// Description : Array and textureless GLSL 2D/3D/4D simplex\n//               noise functions.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289_2_1(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289_2_1(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute_2_2(vec4 x) {\n     return mod289_2_1(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt_2_3(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat snoise_2_4(vec3 v)\n  {\n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D_2_5 = vec4(0.0, 0.5, 1.0, 2.0);\n\n// First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n// Other corners\n  vec3 g_2_6 = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g_2_6;\n  vec3 i1 = min( g_2_6.xyz, l.zxy );\n  vec3 i2 = max( g_2_6.xyz, l.zxy );\n\n  //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n  //   x1 = x0 - i1  + 1.0 * C.xxx;\n  //   x2 = x0 - i2  + 2.0 * C.xxx;\n  //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n  vec3 x1 = x0 - i1 + C.xxx;\n  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n  vec3 x3 = x0 - D_2_5.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n// Permutations\n  i = mod289_2_1(i);\n  vec4 p = permute_2_2( permute_2_2( permute_2_2(\n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n// Gradients: 7x7 points over a square, mapped onto an octahedron.\n// The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3  ns = n_ * D_2_5.wyz - D_2_5.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1_2_7 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0_2_8 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1_2_7.xy,h.z);\n  vec3 p3 = vec3(a1_2_7.zw,h.w);\n\n//Normalise gradients\n  vec4 norm = taylorInvSqrt_2_3(vec4(dot(p0_2_8,p0_2_8), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0_2_8 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n// Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot( m*m, vec4( dot(p0_2_8,x0), dot(p1,x1),\n                                dot(p2,x2), dot(p3,x3) ) );\n  }\n\n\n\n\nconst float interval = 3.0;\n\nvoid main(void){\n  float strength = smoothstep(interval * 0.5, interval, interval - mod(time, interval));\n  vec2 shake = vec2(strength * 8.0 + 0.5) * vec2(\n    random_1_0(vec2(time)) * 2.0 - 1.0,\n    random_1_0(vec2(time * 2.0)) * 2.0 - 1.0\n  ) / filterArea.xy;\n\n  float y = vTextureCoord.y * filterArea.y;\n  float rgbWave = (\n      snoise_2_4(vec3(0.0, y * 0.01, time * 400.0)) * (2.0 + strength * 32.0)\n      * snoise_2_4(vec3(0.0, y * 0.02, time * 200.0)) * (1.0 + strength * 4.0)\n      + step(0.9995, sin(y * 0.005 + time * 1.6)) * 12.0\n      + step(0.9999, sin(y * 0.005 + time * 2.0)) * -18.0\n    ) / filterArea.x;\n  float rgbDiff = (6.0 + sin(time * 500.0 + vTextureCoord.y * 40.0) * (20.0 * strength + 1.0)) / filterArea.x;\n  float rgbUvX = vTextureCoord.x + rgbWave;\n  float r = texture2D(uSampler, vec2(rgbUvX + rgbDiff, vTextureCoord.y) + shake).r;\n  float g = texture2D(uSampler, vec2(rgbUvX, vTextureCoord.y) + shake).g;\n  float b = texture2D(uSampler, vec2(rgbUvX - rgbDiff, vTextureCoord.y) + shake).b;\n\n  float whiteNoise = (random_1_0(vTextureCoord + mod(time, 10.0)) * 2.0 - 1.0) * (0.15 + strength * 0.15);\n\n  float bnTime = floor(time * 20.0) * 200.0;\n  float noiseX = step((snoise_2_4(vec3(0.0, vTextureCoord.x * 3.0, bnTime)) + 1.0) / 2.0, 0.12 + strength * 0.3);\n  float noiseY = step((snoise_2_4(vec3(0.0, vTextureCoord.y * 3.0, bnTime)) + 1.0) / 2.0, 0.12 + strength * 0.3);\n  float bnMask = noiseX * noiseY;\n  float bnUvX = vTextureCoord.x + sin(bnTime) * 0.2 + rgbWave;\n  float bnR = texture2D(uSampler, vec2(bnUvX + rgbDiff, vTextureCoord.y)).r * bnMask;\n  float bnG = texture2D(uSampler, vec2(bnUvX, vTextureCoord.y)).g * bnMask;\n  float bnB = texture2D(uSampler, vec2(bnUvX - rgbDiff, vTextureCoord.y)).b * bnMask;\n  vec4 blockNoise = vec4(bnR, bnG, bnB, 1.0);\n\n  float bnTime2 = floor(time * 25.0) * 300.0;\n  float noiseX2 = step((snoise_2_4(vec3(0.0, vTextureCoord.x * 2.0, bnTime2)) + 1.0) / 2.0, 0.12 + strength * 0.5);\n  float noiseY2 = step((snoise_2_4(vec3(0.0, vTextureCoord.y * 8.0, bnTime2)) + 1.0) / 2.0, 0.12 + strength * 0.3);\n  float bnMask2 = noiseX2 * noiseY2;\n  float bnR2 = texture2D(uSampler, vec2(bnUvX + rgbDiff, vTextureCoord.y)).r * bnMask2;\n  float bnG2 = texture2D(uSampler, vec2(bnUvX, vTextureCoord.y)).g * bnMask2;\n  float bnB2 = texture2D(uSampler, vec2(bnUvX - rgbDiff, vTextureCoord.y)).b * bnMask2;\n  vec4 blockNoise2 = vec4(bnR2, bnG2, bnB2, 1.0);\n\n  float waveNoise = (sin(vTextureCoord.y * 1200.0) + 1.0) / 2.0 * (0.15 + strength * 0.2);\n\n  gl_FragColor = vec4(r, g, b, 1.0) * (1.0 - bnMask - bnMask2) + (whiteNoise + blockNoise + blockNoise2 - waveNoise);\n}"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(168);Object.defineProperty(t,"HolesFilter",{enumerable:!0,get:function(){return((e=r)&&e.__esModule?e:{default:e}).default;var e}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),s=u(n(8)),a=u(n(169));function u(e){return e&&e.__esModule?e:{default:e}}function l(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:4880266,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:15989233,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:.5,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:5;!function(e){if(!(e instanceof l))throw new TypeError("Cannot call a class as a function")}(this);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,s.default,a.default));return i.uniforms.time=0,i.uniforms.uColor1=new Float32Array(3),i.uniforms.uColor2=new Float32Array(3),i.color1=e,i.color2=t,i.uniforms.speed=n,i.uniforms.zoom=r,i}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(l,o.Filter),r(l,[{key:"apply",value:function(e,t,n,r){this.uniforms.time+=.03,e.applyFilter(this,t,n,r)}},{key:"color1",get:function(){return this.uColor1},set:function(e){var t=this.uniforms.uColor1;"number"==typeof e?(o.utils.hex2rgb(e,t),this.uColor1=e):(t[0]=e[0]/255,t[1]=e[1]/255,t[2]=e[2]/255,this.uColor1=o.utils.rgb2hex(t))}},{key:"color2",get:function(){return this.uColor2},set:function(e){var t=this.uniforms.uColor2;"number"==typeof e?(o.utils.hex2rgb(e,t),this.uColor2=e):(t[0]=e[0]/255,t[1]=e[1]/255,t[2]=e[2]/255,this.uColor2=o.utils.rgb2hex(t))}},{key:"speed",get:function(){return this.uniforms.speed},set:function(e){this.uniforms.speed=e}},{key:"zoom",get:function(){return this.uniforms.zoom},set:function(e){this.uniforms.zoom=e}},{key:"offset",get:function(){return this.uniforms.offset},set:function(e){this.uniforms.offset=e}}]),r=l,t.default=r},function(e,t){e.exports="#define GLSLIFY 1\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\nuniform float time;\nuniform vec2 offset;\n\nuniform vec3 uColor1;\nuniform vec3 uColor2;\n\n\nuniform float speed;\nuniform float zoom;\n\n\n\n\n// \n// base: https://www.shadertoy.com/view/XdyXz3\n// other https://www.shadertoy.com/view/MsdGWn\n// other https://www.shadertoy.com/view/4slXzs\n//\n\n\n//\n// Description : Array and textureless GLSL 2D/3D/4D simplex\n//               noise functions.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289_2_0(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289_2_0(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute_2_1(vec4 x) {\n     return mod289_2_0(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt_2_2(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat snoise_2_3(vec3 v)\n  {\n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D_2_4 = vec4(0.0, 0.5, 1.0, 2.0);\n\n// First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n// Other corners\n  vec3 g_2_5 = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g_2_5;\n  vec3 i1 = min( g_2_5.xyz, l.zxy );\n  vec3 i2 = max( g_2_5.xyz, l.zxy );\n\n  //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n  //   x1 = x0 - i1  + 1.0 * C.xxx;\n  //   x2 = x0 - i2  + 2.0 * C.xxx;\n  //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n  vec3 x1 = x0 - i1 + C.xxx;\n  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n  vec3 x3 = x0 - D_2_4.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n// Permutations\n  i = mod289_2_0(i);\n  vec4 p = permute_2_1( permute_2_1( permute_2_1(\n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n// Gradients: 7x7 points over a square, mapped onto an octahedron.\n// The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3  ns = n_ * D_2_4.wyz - D_2_4.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1_2_6 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0_2_7 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1_2_6.xy,h.z);\n  vec3 p3 = vec3(a1_2_6.zw,h.w);\n\n//Normalise gradients\n  vec4 norm = taylorInvSqrt_2_2(vec4(dot(p0_2_7,p0_2_7), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0_2_7 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n// Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot( m*m, vec4( dot(p0_2_7,x0), dot(p1,x1),\n                                dot(p2,x2), dot(p3,x3) ) );\n  }\n\n\n\nvec3 convertHsvToRgb_1_8(vec3 c) {\n  vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n  vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n  return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\n\nvec3 convertRgbToHsv_3_9(vec3 c) {\n  vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\n  vec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g));\n  vec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r));\n\n  float d = q.x - min(q.w, q.y);\n  float e = 1.0e-10;\n  return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);\n}\n\n\n\n\n\n\nvec3 noise3( in vec3 x)\n{\n  return vec3( \n      snoise_2_3(x+vec3(61.456,.567,.37)+vec3(offset.x)*speed),\n      snoise_2_3(x+vec3(.11,47.43,19.17)+vec3(offset.y)*speed),\n      snoise_2_3(x)\n      );\n}\n\nmat3 rotation(float angle, vec3 axis)\n{\n  float s = sin(-angle);\n  float c = cos(-angle);\n  vec3 sa = axis * s;\n  vec3 oca = axis * c;\n  return mat3(  \n    oca.x * axis + vec3(  c,  -sa.z,  sa.y),\n    oca.y * axis + vec3( sa.z,  c,    -sa.x),   \n    oca.z * axis + vec3(-sa.y,  sa.x, c));  \n}\n\n\n\nvoid main(void)\n{\n    vec2 uv = vTextureCoord;\n    uv.x *= filterArea.x / filterArea.y;\n\n    float time = time*speed*0.1;\n    uv *= 1. + 0.25*sin(time*0.1);  \n    \n    \n    vec3 p = vec3(uv*zoom,time);  //coordinate + slight change over time   \n    vec3 axis = 5. * noise3(p);  //random fbm axis of rotation      \n\n    vec3 colorVec = vec3(1.0); \n\n    colorVec = rotation(1.5*length(axis),normalize(axis))*colorVec;\n    colorVec *= 0.7;\n\n    colorVec = vec3(length(convertRgbToHsv_3_9(colorVec).xz));\n\n    colorVec = max(vec3(0.76),colorVec);\n    \n\n    colorVec *= (vTextureCoord.y) * uColor1;\n    colorVec += (1.0-vTextureCoord.y) *uColor2;\n\n\n    // vec4 bg = texture2D(uSampler, vTextureCoord );\n    // colorVec += bg.rgb*0.1;\n\n    gl_FragColor = vec4(colorVec,1.0);\n}\n\n"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(171);Object.defineProperty(t,"DisplacementFilter",{enumerable:!0,get:function(){return((e=r)&&e.__esModule?e:{default:e}).default;var e}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),s=u(n(8)),a=u(n(172));function u(e){return e&&e.__esModule?e:{default:e}}function l(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;!function(e){if(!(e instanceof l))throw new TypeError("Cannot call a class as a function")}(this);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,s.default,a.default));return r.uniforms.time=0,r.uniforms.density=e,r.uniforms.speed=t,r.uniforms.zoom=n,r}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(l,o.Filter),r(l,[{key:"apply",value:function(e,t,n,r){this.uniforms.time+=.03,e.applyFilter(this,t,n,r)}},{key:"density",get:function(){return this.uniforms.density},set:function(e){this.uniforms.density=e}},{key:"speed",get:function(){return this.uniforms.speed},set:function(e){this.uniforms.speed=e}},{key:"zoom",get:function(){return this.uniforms.zoom},set:function(e){this.uniforms.zoom=e}}]),r=l,t.default=r},function(e,t){e.exports="#define GLSLIFY 1\n//\n// Description : Array and textureless GLSL 2D/3D/4D simplex\n//               noise functions.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289_1_0(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289_1_0(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute_1_1(vec4 x) {\n     return mod289_1_0(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt_1_2(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat snoise_1_3(vec3 v)\n  {\n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D_1_4 = vec4(0.0, 0.5, 1.0, 2.0);\n\n// First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n// Other corners\n  vec3 g_1_5 = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g_1_5;\n  vec3 i1 = min( g_1_5.xyz, l.zxy );\n  vec3 i2 = max( g_1_5.xyz, l.zxy );\n\n  //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n  //   x1 = x0 - i1  + 1.0 * C.xxx;\n  //   x2 = x0 - i2  + 2.0 * C.xxx;\n  //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n  vec3 x1 = x0 - i1 + C.xxx;\n  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n  vec3 x3 = x0 - D_1_4.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n// Permutations\n  i = mod289_1_0(i);\n  vec4 p = permute_1_1( permute_1_1( permute_1_1(\n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n// Gradients: 7x7 points over a square, mapped onto an octahedron.\n// The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3  ns = n_ * D_1_4.wyz - D_1_4.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1_1_6 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0_1_7 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1_1_6.xy,h.z);\n  vec3 p3 = vec3(a1_1_6.zw,h.w);\n\n//Normalise gradients\n  vec4 norm = taylorInvSqrt_1_2(vec4(dot(p0_1_7,p0_1_7), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0_1_7 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n// Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot( m*m, vec4( dot(p0_1_7,x0), dot(p1,x1),\n                                dot(p2,x2), dot(p3,x3) ) );\n  }\n\n\n\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform float time;\nuniform float density;\nuniform float speed;\nuniform float zoom;\n\n\n// FBM / Octave Noise\nconst float scalDiv = 4.;\nconst float scalDivt = 2.1;\nconst float sc1 = 1.0/scalDiv;\nconst float sc2 = sc1/scalDiv;\nconst float sc3 = sc2/scalDiv;\nconst float sc1t = 1.0 /scalDivt;\nconst float sc2t = sc1t/scalDivt;\nconst float sc3t = sc2t/scalDivt;\nfloat FBM(vec3 v) {\n\treturn 1.   *0.5    * snoise_1_3(v*vec3(sc3, sc3, sc3t)) + \n\t\t   0.4  *0.25   * snoise_1_3(v*vec3(sc2, sc2, sc2t)) + \n\t\t   0.15 *0.125  * snoise_1_3(v*vec3(sc1, sc1, sc1t));\n}\n\n\n\nvoid main(void)\n{\n\n  vec2 uv = vTextureCoord * (1. - 0.2*zoom) + vec2(zoom, zoom)*0.1;\n  float niceNoise1 = FBM( vec3(100.0 * uv, speed *time*10.)) * 0.3;\n  float niceNoise2 = FBM( vec3(100.0 * uv, speed *time*11. + 300.)) * 0.33;\n\n  gl_FragColor = texture2D(uSampler, uv + density*vec2(niceNoise1,niceNoise2) );\n\n}\n"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e){!function(e){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this));return void 0===e&&(e={}),e=Object.assign({parentElement:document.body,videoUrl:"./assets/video/v1.mp4",posterImg:"./assets/video/v1.jpg"},e),t.parentElement=e.parentElement,t.parentElement.style.display="block",t.videoElement=document.createElement("div"),t.videoElement.className="video-player",t.videoElement.style.position="absolute",t.videoElement.style.margin=0,t.videoElement.style.padding=0,t.videoElement.style.width="100%",t.videoElement.style.height="100%",t.videoElement.style.zIndex=1e3,t.videoElement.innerHTML='<video id="video"  webkit-playsinline="true" x-webkit-airplay="true" x5-video-player-type="h5" playsinline width="100%"  preload="auto"  poster="" src="" ></video>',t.parentElement.appendChild(t.videoElement),t._video=t.videoElement.querySelectorAll("video")[0],t._video.src=e.videoUrl,t._video.poster=e.posterImg,t._init(),t}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(s,((r=n(6))&&r.__esModule?r:{default:r}).default),i(s,[{key:"_init",value:function(){var e=this;this._video.addEventListener("ended",function(){console.log("video_ended"),e.emit("ended",e._video)},!1),this._video.addEventListener("playing",function(){console.log("video_playing"),e.emit("playing",e._video),e.debugDiv&&(e.parentElement.removeChild(e.debugDiv),e.debugDiv=null)},!1),this._video.addEventListener("canplay",function(){console.log("video_canplay"),e.emit("canplay",e._video)},!1),this._video.addEventListener("waiting",function(){console.log("video_waiting"),e.emit("waiting",e._video)},!1)}},{key:"seek",value:function(e){this._video.currentTime=e}},{key:"toPlay",value:function(){this._video.play(),this.debugDiv=document.createElement("div"),this.parentElement.appendChild(this.debugDiv)}},{key:"toPause",value:function(){this._video.pause()}},{key:"destroy",value:function(){this.removeAllListeners(),this._video.remove(),this.videoElement&&(this.parentElement.removeChild(this.videoElement),this.videoElement=null),this.parentElement.style.display="none"}}]),i=s,t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(73);Object.defineProperty(t,"InteractionData",{enumerable:!0,get:function(){return u(r).default}});var i=n(175);Object.defineProperty(t,"InteractionManager",{enumerable:!0,get:function(){return u(i).default}});var o=n(76);Object.defineProperty(t,"interactiveTarget",{enumerable:!0,get:function(){return u(o).default}});var s=n(75);Object.defineProperty(t,"InteractionTrackingData",{enumerable:!0,get:function(){return u(s).default}});var a=n(74);function u(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"InteractionEvent",{enumerable:!0,get:function(){return u(a).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),a=c(n(73)),u=c(n(74)),h=c(n(75)),l=c(n(6));n=c(n(76));function c(e){return e&&e.__esModule?e:{default:e}}s.utils.mixins.delayMixin(s.DisplayObject.prototype,n.default);var f=1,d={target:null,data:{global:null}};(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(p,l.default),i(p,[{key:"hitTest",value:function(e,t){return d.target=null,d.data.global=e,t=t||this.renderer._lastObjectRendered,this.processInteractive(d,t,null,!0),d.target}},{key:"setTargetElement",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;this.removeEvents(),this.interactionDOMElement=e,this.resolution=t,this.addEvents()}},{key:"addEvents",value:function(){this.interactionDOMElement&&(s.ticker.shared.add(this.update,this,s.UPDATE_PRIORITY.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)}},{key:"removeEvents",value:function(){this.interactionDOMElement&&(s.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)}},{key:"update",value:function(e){if(this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement))if(this.didMove)this.didMove=!1;else{for(var t in this.cursor=null,this.activeInteractionData)!this.activeInteractionData.hasOwnProperty(t)||(t=this.activeInteractionData[t]).originalEvent&&"touch"!==t.pointerType&&(t=this.configureInteractionEventForDOMEvent(this.eventData,t.originalEvent,t),this.processInteractive(t,this.renderer._lastObjectRendered,this.processPointerOverOut,!0));this.setCursorMode(this.cursor)}}},{key:"setCursorMode",value:function(e){if(this.currentCursorMode!==(e=e||"default")){this.currentCursorMode=e;var t=this.cursorStyles[e];if(t)switch(void 0===t?"undefined":r(t)){case"string":this.interactionDOMElement.style.cursor=t;break;case"function":t(e);break;case"object":Object.assign(this.interactionDOMElement.style,t)}else"string"!=typeof e||Object.prototype.hasOwnProperty.call(this.cursorStyles,e)||(this.interactionDOMElement.style.cursor=e)}}},{key:"dispatchEvent",value:function(e,t,n){n.stopped||(n.currentTarget=e,n.type=t,e.emit(t,n),e[t]&&e[t](n))}},{key:"mapPositionToPoint",value:function(e,t,n){var r=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0},i=navigator.isCocoonJS?this.resolution:1/this.resolution;e.x=(t-r.left)*(this.interactionDOMElement.width/r.width)*i,e.y=(n-r.top)*(this.interactionDOMElement.height/r.height)*i}},{key:"processInteractive",value:function(e,t,n,r,i){if(!t||!t.visible)return!1;var o=e.data.global,s=!1,a=i=t.interactive||i,u=!0;if(t.hitArea?(r&&(t.worldTransform.applyInverse(o,this._tempPoint),t.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:u=r=!1),a=!1):t._mask&&r&&(t._mask.containsPoint(o)||(u=r=!1)),u&&t.interactiveChildren&&t.children)for(var l=t.children,h=l.length-1;0<=h;h--){var c=l[h],f=this.processInteractive(e,c,n,r,a);f&&c.parent&&(a=!1,f&&(e.target&&(r=!1),s=!0))}return i&&(r&&!e.target&&!t.hitArea&&t.containsPoint&&t.containsPoint(o)&&(s=!0),t.interactive&&(s&&!e.target&&(e.target=t),n&&n(e,t,!!s))),s}},{key:"onPointerDown",value:function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var t=this.normalizeToPointerData(e);this.autoPreventDefault&&t[0].isNormalized&&e.preventDefault();for(var n=t.length,r=0;r<n;r++){var i=t[r],o=this.getInteractionDataForPointerId(i);(o=this.configureInteractionEventForDOMEvent(this.eventData,i,o)).data.originalEvent=e,this.processInteractive(o,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",o),"touch"===i.pointerType?this.emit("touchstart",o):"mouse"!==i.pointerType&&"pen"!==i.pointerType||(i=2===i.button,this.emit(i?"rightdown":"mousedown",this.eventData))}}}},{key:"processPointerDown",value:function(e,t,n){var r=e.data,i=e.data.identifier;n&&(t.trackedPointers[i]||(t.trackedPointers[i]=new h.default(i)),this.dispatchEvent(t,"pointerdown",e),"touch"===r.pointerType?this.dispatchEvent(t,"touchstart",e):"mouse"!==r.pointerType&&"pen"!==r.pointerType||((r=2===r.button)?t.trackedPointers[i].rightDown=!0:t.trackedPointers[i].leftDown=!0,this.dispatchEvent(t,r?"rightdown":"mousedown",e)))}},{key:"onPointerComplete",value:function(e,t,n){for(var r=this.normalizeToPointerData(e),i=r.length,o=e.target!==this.interactionDOMElement?"outside":"",s=0;s<i;s++){var a,u=r[s],l=this.getInteractionDataForPointerId(u),h=this.configureInteractionEventForDOMEvent(this.eventData,u,l);h.data.originalEvent=e,this.processInteractive(h,this.renderer._lastObjectRendered,n,t||!o),this.emit(t?"pointercancel":"pointerup"+o,h),"mouse"===u.pointerType||"pen"===u.pointerType?(a=2===u.button,this.emit(a?"rightup"+o:"mouseup"+o,h)):"touch"===u.pointerType&&(this.emit(t?"touchcancel":"touchend"+o,h),this.releaseInteractionDataForPointerId(u.pointerId,l))}}},{key:"onPointerCancel",value:function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!0,this.processPointerCancel)}},{key:"processPointerCancel",value:function(e,t){var n=e.data,r=e.data.identifier;void 0!==t.trackedPointers[r]&&(delete t.trackedPointers[r],this.dispatchEvent(t,"pointercancel",e),"touch"===n.pointerType&&this.dispatchEvent(t,"touchcancel",e))}},{key:"onPointerUp",value:function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!1,this.processPointerUp)}},{key:"processPointerUp",value:function(e,t,n){var r,i=e.data,o=e.data.identifier,s=t.trackedPointers[o],a="touch"===i.pointerType,u="mouse"===i.pointerType||"pen"===i.pointerType,l=!1;u&&(r=2===i.button,i=h.default.FLAGS,i=r?i.RIGHT_DOWN:i.LEFT_DOWN,i=void 0!==s&&s.flags&i,n?(this.dispatchEvent(t,r?"rightup":"mouseup",e),i&&(this.dispatchEvent(t,r?"rightclick":"click",e),l=!0)):i&&this.dispatchEvent(t,r?"rightupoutside":"mouseupoutside",e),s&&(r?s.rightDown=!1:s.leftDown=!1)),n?(this.dispatchEvent(t,"pointerup",e),a&&this.dispatchEvent(t,"touchend",e),s&&(u&&!l||this.dispatchEvent(t,"pointertap",e),a&&(this.dispatchEvent(t,"tap",e),s.over=!1))):s&&(this.dispatchEvent(t,"pointerupoutside",e),a&&this.dispatchEvent(t,"touchendoutside",e)),s&&s.none&&delete t.trackedPointers[o]}},{key:"onPointerMove",value:function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var t=this.normalizeToPointerData(e);"mouse"!==t[0].pointerType&&"pen"!==t[0].pointerType||(this.didMove=!0,this.cursor=null);for(var n=t.length,r=0;r<n;r++){var i=t[r],o=this.getInteractionDataForPointerId(i),s=this.configureInteractionEventForDOMEvent(this.eventData,i,o);s.data.originalEvent=e,o="touch"!==i.pointerType||this.moveWhenInside,this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerMove,o),this.emit("pointermove",s),"touch"===i.pointerType&&this.emit("touchmove",s),"mouse"!==i.pointerType&&"pen"!==i.pointerType||this.emit("mousemove",s)}"mouse"===t[0].pointerType&&this.setCursorMode(this.cursor)}}},{key:"processPointerMove",value:function(e,t,n){var r,i="touch"===(r=e.data).pointerType;(r="mouse"===r.pointerType||"pen"===r.pointerType)&&this.processPointerOverOut(e,t,n),this.moveWhenInside&&!n||(this.dispatchEvent(t,"pointermove",e),i&&this.dispatchEvent(t,"touchmove",e),r&&this.dispatchEvent(t,"mousemove",e))}},{key:"onPointerOut",value:function(e){var t,n;this.supportsTouchEvents&&"touch"===e.pointerType||("mouse"===(t=this.normalizeToPointerData(e)[0]).pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null)),n=this.getInteractionDataForPointerId(t),(e=this.configureInteractionEventForDOMEvent(this.eventData,t,n)).data.originalEvent=t,this.processInteractive(e,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",e),"mouse"===t.pointerType||"pen"===t.pointerType?this.emit("mouseout",e):this.releaseInteractionDataForPointerId(n.identifier))}},{key:"processPointerOverOut",value:function(e,t,n){var r=e.data,i=e.data.identifier,o="mouse"===r.pointerType||"pen"===r.pointerType;r=t.trackedPointers[i];void 0!==(r=n&&!r?t.trackedPointers[i]=new h.default(i):r)&&(n&&this.mouseOverRenderer?(r.over||(r.over=!0,this.dispatchEvent(t,"pointerover",e),o&&this.dispatchEvent(t,"mouseover",e)),o&&null===this.cursor&&(this.cursor=t.cursor)):r.over&&(r.over=!1,this.dispatchEvent(t,"pointerout",this.eventData),o&&this.dispatchEvent(t,"mouseout",e),r.none&&delete t.trackedPointers[i]))}},{key:"onPointerOver",value:function(e){var t=this.normalizeToPointerData(e)[0];e=this.getInteractionDataForPointerId(t);"mouse"===((e=this.configureInteractionEventForDOMEvent(this.eventData,t,e)).data.originalEvent=t).pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",e),"mouse"!==t.pointerType&&"pen"!==t.pointerType||this.emit("mouseover",e)}},{key:"getInteractionDataForPointerId",value:function(e){var t=e.pointerId,n=void 0;return t===f||"mouse"===e.pointerType?n=this.mouse:this.activeInteractionData[t]?n=this.activeInteractionData[t]:((n=this.interactionDataPool.pop()||new a.default).identifier=t,this.activeInteractionData[t]=n),n.copyEvent(e),n}},{key:"releaseInteractionDataForPointerId",value:function(e){var t=this.activeInteractionData[e];t&&(delete this.activeInteractionData[e],t.reset(),this.interactionDataPool.push(t))}},{key:"configureInteractionEventForDOMEvent",value:function(e,t,n){return e.data=n,this.mapPositionToPoint(n.global,t.clientX,t.clientY),navigator.isCocoonJS&&"touch"===t.pointerType&&(n.global.x=n.global.x/this.resolution,n.global.y=n.global.y/this.resolution),"touch"===t.pointerType&&(t.globalX=n.global.x,t.globalY=n.global.y),n.originalEvent=t,e.reset(),e}},{key:"normalizeToPointerData",value:function(e){var t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(var n=0,r=e.changedTouches.length;n<r;n++){var i=e.changedTouches[n];void 0===i.button&&(i.button=e.touches.length?1:0),void 0===i.buttons&&(i.buttons=e.touches.length?1:0),void 0===i.isPrimary&&(i.isPrimary=1===e.touches.length&&"touchstart"===e.type),void 0===i.width&&(i.width=i.radiusX||1),void 0===i.height&&(i.height=i.radiusY||1),void 0===i.tiltX&&(i.tiltX=0),void 0===i.tiltY&&(i.tiltY=0),void 0===i.pointerType&&(i.pointerType="touch"),void 0===i.pointerId&&(i.pointerId=i.identifier||0),void 0===i.pressure&&(i.pressure=i.force||.5),i.twist=0,void(i.tangentialPressure=0)===i.layerX&&(i.layerX=i.offsetX=i.clientX),void 0===i.layerY&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,t.push(i)}else!(e instanceof MouseEvent)||this.supportsPointerEvents&&e instanceof window.PointerEvent||(void 0===e.isPrimary&&(e.isPrimary=!0),void 0===e.width&&(e.width=1),void 0===e.height&&(e.height=1),void 0===e.tiltX&&(e.tiltX=0),void 0===e.tiltY&&(e.tiltY=0),void 0===e.pointerType&&(e.pointerType="mouse"),void 0===e.pointerId&&(e.pointerId=f),void 0===e.pressure&&(e.pressure=.5),e.twist=0,e.tangentialPressure=0,e.isNormalized=!0),t.push(e);return t}},{key:"destroy",value:function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null}}]),i=p;function p(e,t){!function(e){if(!(e instanceof p))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this));return t=t||{},n.renderer=e,n.autoPreventDefault=void 0===t.autoPreventDefault||t.autoPreventDefault,n.interactionFrequency=t.interactionFrequency||10,n.mouse=new a.default,n.mouse.identifier=f,n.mouse.global.set(-999999),n.activeInteractionData={},n.activeInteractionData[f]=n.mouse,n.interactionDataPool=[],n.eventData=new u.default,n.interactionDOMElement=null,n.moveWhenInside=!1,n.eventsAdded=!1,n.mouseOverRenderer=!1,n.supportsTouchEvents="ontouchstart"in window,n.supportsPointerEvents=!!window.PointerEvent,n.onPointerUp=n.onPointerUp.bind(n),n.processPointerUp=n.processPointerUp.bind(n),n.onPointerCancel=n.onPointerCancel.bind(n),n.processPointerCancel=n.processPointerCancel.bind(n),n.onPointerDown=n.onPointerDown.bind(n),n.processPointerDown=n.processPointerDown.bind(n),n.onPointerMove=n.onPointerMove.bind(n),n.processPointerMove=n.processPointerMove.bind(n),n.onPointerOut=n.onPointerOut.bind(n),n.processPointerOverOut=n.processPointerOverOut.bind(n),n.onPointerOver=n.onPointerOver.bind(n),n.cursorStyles={default:"inherit",pointer:"pointer"},n.currentCursorMode=null,n.cursor=null,n._tempPoint=new s.Point,n.resolution=1,n.setTargetElement(n.renderer.view,n.renderer.resolution),n}t.default=i,s.WebGLRenderer.registerPlugin("interaction",i),s.CanvasRenderer.registerPlugin("interaction",i)}],i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=77);function i(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}var n,r},"object"==typeof n&&"object"==typeof t?t.exports=i():"function"==typeof define&&define.amd?define("Sint",[],i):"object"==typeof n?n.Sint=i():r.Sint=i()},{}],39:[function(e,t,n){var u=e("./url"),r=e("socket.io-parser"),l=e("./manager"),h=e("debug")("socket.io-client");t.exports=n=i;var c=n.managers={};function i(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,r=u(e),i=r.source,o=r.id,s=r.path,a=c[o]&&s in c[o].nsps;return n=t.forceNew||t["force new connection"]||!1===t.multiplex||a?(h("ignoring socket cache for %s",i),l(i,t)):(c[o]||(h("new io instance for %s",i),c[o]=l(i,t)),c[o]),r.query&&!t.query&&(t.query=r.query),n.socket(r.path,t)}n.protocol=r.protocol,n.connect=i,n.Manager=e("./manager"),n.Socket=e("./socket")},{"./manager":40,"./socket":42,"./url":43,debug:44,"socket.io-parser":47}],40:[function(e,t,n){var u=e("engine.io-client"),o=e("./socket"),r=e("component-emitter"),i=e("socket.io-parser"),l=e("./on"),s=e("component-bind"),h=e("debug")("socket.io-client:manager"),a=e("indexof"),c=e("backo2"),f=Object.prototype.hasOwnProperty;function d(e,t){if(!(this instanceof d))return new d(e,t);e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new c({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=t.parser||i;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}(t.exports=d).prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)f.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},d.prototype.updateSocketIds=function(){for(var e in this.nsps)f.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},d.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},r(d.prototype),d.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},d.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},d.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},d.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},d.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},d.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},d.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},d.prototype.open=d.prototype.connect=function(n,e){if(h("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;h("opening %s",this.uri),this.engine=u(this.uri,this.opts);var t=this.engine,r=this;this.readyState="opening",this.skipReconnect=!1;var i=l(t,"open",function(){r.onopen(),n&&n()}),o=l(t,"error",function(e){if(h("connect_error"),r.cleanup(),r.readyState="closed",r.emitAll("connect_error",e),n){var t=new Error("Connection error");t.data=e,n(t)}else r.maybeReconnectOnOpen()});if(!1!==this._timeout){var s=this._timeout;h("connect attempt will timeout after %d",s),0===s&&i.destroy();var a=setTimeout(function(){h("connect attempt timed out after %d",s),i.destroy(),t.close(),t.emit("error","timeout"),r.emitAll("connect_timeout",s)},s);this.subs.push({destroy:function(){clearTimeout(a)}})}return this.subs.push(i),this.subs.push(o),this},d.prototype.onopen=function(){h("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(l(e,"data",s(this,"ondata"))),this.subs.push(l(e,"ping",s(this,"onping"))),this.subs.push(l(e,"pong",s(this,"onpong"))),this.subs.push(l(e,"error",s(this,"onerror"))),this.subs.push(l(e,"close",s(this,"onclose"))),this.subs.push(l(this.decoder,"decoded",s(this,"ondecoded")))},d.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},d.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},d.prototype.ondata=function(e){this.decoder.add(e)},d.prototype.ondecoded=function(e){this.emit("packet",e)},d.prototype.onerror=function(e){h("error",e),this.emitAll("error",e)},d.prototype.socket=function(e,t){var n=this.nsps[e];if(!n){n=new o(this,e,t),this.nsps[e]=n;var r=this;n.on("connecting",i),n.on("connect",function(){n.id=r.generateId(e)}),this.autoConnect&&i()}function i(){~a(r.connecting,n)||r.connecting.push(n)}return n},d.prototype.destroy=function(e){var t=a(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},d.prototype.packet=function(n){h("writing packet %j",n);var r=this;n.query&&0===n.type&&(n.nsp+="?"+n.query),r.encoding?r.packetBuffer.push(n):(r.encoding=!0,this.encoder.encode(n,function(e){for(var t=0;t<e.length;t++)r.engine.write(e[t],n.options);r.encoding=!1,r.processPacketQueue()}))},d.prototype.processPacketQueue=function(){if(0<this.packetBuffer.length&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},d.prototype.cleanup=function(){h("cleanup");for(var e=this.subs.length,t=0;t<e;t++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},d.prototype.close=d.prototype.disconnect=function(){h("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},d.prototype.onclose=function(e){h("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},d.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)h("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();h("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var n=setTimeout(function(){t.skipReconnect||(h("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open(function(e){e?(h("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(h("reconnect success"),t.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(n)}})}},d.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},{"./on":41,"./socket":42,backo2:3,"component-bind":9,"component-emitter":10,debug:44,"engine.io-client":13,indexof:31,"socket.io-parser":47}],41:[function(e,t,n){t.exports=function(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}},{}],42:[function(e,t,n){var i=e("socket.io-parser"),r=e("component-emitter"),o=e("to-array"),s=e("./on"),a=e("component-bind"),u=e("debug")("socket.io-client:socket"),l=e("parseqs"),h=e("has-binary2");t.exports=d;var c={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},f=r.prototype.emit;function d(e,t,n){this.io=e,this.nsp=t,(this.json=this).ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}r(d.prototype),d.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[s(e,"open",a(this,"onopen")),s(e,"packet",a(this,"onpacket")),s(e,"close",a(this,"onclose"))]}},d.prototype.open=d.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.reconnecting||this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},d.prototype.send=function(){var e=o(arguments);return e.unshift("message"),this.emit.apply(this,e),this},d.prototype.emit=function(e){if(c.hasOwnProperty(e))return f.apply(this,arguments),this;var t=o(arguments),n={type:(void 0!==this.flags.binary?this.flags.binary:h(t))?i.BINARY_EVENT:i.EVENT,data:t,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(u("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},d.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},d.prototype.onopen=function(){if(u("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"==typeof this.query?l.encode(this.query):this.query;u("sending connect packet with query %s",e),this.packet({type:i.CONNECT,query:e})}else this.packet({type:i.CONNECT})},d.prototype.onclose=function(e){u("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},d.prototype.onpacket=function(e){var t=e.nsp===this.nsp,n=e.type===i.ERROR&&"/"===e.nsp;if(t||n)switch(e.type){case i.CONNECT:this.onconnect();break;case i.EVENT:case i.BINARY_EVENT:this.onevent(e);break;case i.ACK:case i.BINARY_ACK:this.onack(e);break;case i.DISCONNECT:this.ondisconnect();break;case i.ERROR:this.emit("error",e.data)}},d.prototype.onevent=function(e){var t=e.data||[];u("emitting event %j",t),null!=e.id&&(u("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?f.apply(this,t):this.receiveBuffer.push(t)},d.prototype.ack=function(t){var n=this,r=!1;return function(){if(!r){r=!0;var e=o(arguments);u("sending ack %j",e),n.packet({type:h(e)?i.BINARY_ACK:i.ACK,id:t,data:e})}}},d.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(u("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):u("bad ack %s",e.id)},d.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},d.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)f.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},d.prototype.ondisconnect=function(){u("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},d.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},d.prototype.close=d.prototype.disconnect=function(){return this.connected&&(u("performing disconnect (%s)",this.nsp),this.packet({type:i.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},d.prototype.compress=function(e){return this.flags.compress=e,this},d.prototype.binary=function(e){return this.flags.binary=e,this}},{"./on":41,"component-bind":9,"component-emitter":10,debug:44,"has-binary2":27,parseqs:35,"socket.io-parser":47,"to-array":52}],43:[function(e,t,n){var i=e("parseuri"),o=e("debug")("socket.io-client:url");t.exports=function(e,t){var n=e;t=t||"undefined"!=typeof location&&location,null==e&&(e=t.protocol+"//"+t.host);"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(o("protocol-less url %s",e),e=void 0!==t?t.protocol+"//"+e:"https://"+e),o("parse %s",e),n=i(e));n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443"));n.path=n.path||"/";var r=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+r+":"+n.port,n.href=n.protocol+"://"+r+(t&&t.port===n.port?"":":"+n.port),n}},{debug:44,parseuri:36}],44:[function(e,t,n){arguments[4][22][0].apply(n,arguments)},{"./debug":45,_process:37,dup:22}],45:[function(e,t,n){arguments[4][23][0].apply(n,arguments)},{dup:23,ms:34}],46:[function(e,t,n){var h=e("isarray"),c=e("./is-buffer"),r=Object.prototype.toString,f="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===r.call(Blob),d="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===r.call(File);n.deconstructPacket=function(e){var t=[],n=e.data,r=e;return r.data=function e(t,n){if(!t)return t;{if(c(t)){var r={_placeholder:!0,num:n.length};return n.push(t),r}if(h(t)){for(var i=new Array(t.length),o=0;o<t.length;o++)i[o]=e(t[o],n);return i}if("object"==typeof t&&!(t instanceof Date)){var i={};for(var s in t)i[s]=e(t[s],n);return i}}return t}(n,t),r.attachments=t.length,{packet:r,buffers:t}},n.reconstructPacket=function(e,t){return e.data=function e(t,n){if(!t)return t;{if(t&&t._placeholder)return n[t.num];if(h(t))for(var r=0;r<t.length;r++)t[r]=e(t[r],n);else if("object"==typeof t)for(var i in t)t[i]=e(t[i],n)}return t}(e.data,t),e.attachments=void 0,e},n.removeBlobs=function(e,a){var u=0,l=e;!function e(t,n,r){if(!t)return t;if(f&&t instanceof Blob||d&&t instanceof File){u++;var i=new FileReader;i.onload=function(){r?r[n]=this.result:l=this.result,--u||a(l)},i.readAsArrayBuffer(t)}else if(h(t))for(var o=0;o<t.length;o++)e(t[o],o,t);else if("object"==typeof t&&!c(t))for(var s in t)e(t[s],s,t)}(l),u||a(l)}},{"./is-buffer":48,isarray:51}],47:[function(e,t,u){var l=e("debug")("socket.io-parser"),n=e("component-emitter"),o=e("./binary"),h=e("isarray"),r=e("./is-buffer");function i(){}u.protocol=4,u.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],u.CONNECT=0,u.DISCONNECT=1,u.EVENT=2,u.ACK=3,u.ERROR=4,u.BINARY_EVENT=5,u.BINARY_ACK=6,u.Encoder=i,u.Decoder=c;var s=u.ERROR+'"encode error"';function a(e){var t=""+e.type;if(u.BINARY_EVENT!==e.type&&u.BINARY_ACK!==e.type||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data){var n=function(e){try{return JSON.stringify(e)}catch(e){return!1}}(e.data);if(!1===n)return s;t+=n}return l("encoded %j as %s",e,t),t}function c(){this.reconstructor=null}function f(e){this.reconPack=e,this.buffers=[]}function d(e){return{type:u.ERROR,data:"parser error: "+e}}i.prototype.encode=function(e,t){(l("encoding packet %j",e),u.BINARY_EVENT===e.type||u.BINARY_ACK===e.type)?function(e,i){o.removeBlobs(e,function(e){var t=o.deconstructPacket(e),n=a(t.packet),r=t.buffers;r.unshift(n),i(r)})}(e,t):t([a(e)])},n(c.prototype),c.prototype.add=function(e){var t;if("string"==typeof e)t=function(e){var t=0,n={type:Number(e.charAt(0))};if(null==u.types[n.type])return d("unknown packet type "+n.type);if(u.BINARY_EVENT===n.type||u.BINARY_ACK===n.type){for(var r=t+1;"-"!==e.charAt(++t)&&t!=e.length;);var i=e.substring(r,t);if(i!=Number(i)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(i)}if("/"===e.charAt(t+1)){for(r=t+1;++t;){if(","===(s=e.charAt(t)))break;if(t===e.length)break}n.nsp=e.substring(r,t)}else n.nsp="/";var o=e.charAt(t+1);if(""!==o&&Number(o)==o){for(r=t+1;++t;){var s;if(null==(s=e.charAt(t))||Number(s)!=s){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){var a=function(e){try{return JSON.parse(e)}catch(e){return!1}}(e.substr(t));if(!(!1!==a&&(n.type===u.ERROR||h(a))))return d("invalid payload");n.data=a}return l("decoded %s as %j",e,n),n}(e),u.BINARY_EVENT===t.type||u.BINARY_ACK===t.type?(this.reconstructor=new f(t),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",t)):this.emit("decoded",t);else{if(!r(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(t=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",t))}},c.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},f.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length!==this.reconPack.attachments)return null;var t=o.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t},f.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":46,"./is-buffer":48,"component-emitter":10,debug:49,isarray:51}],48:[function(e,o,t){(function(i){(function(){o.exports=function(e){return t&&i.isBuffer(e)||n&&(e instanceof ArrayBuffer||r(e))};var t="function"==typeof i&&"function"==typeof i.isBuffer,n="function"==typeof ArrayBuffer,r=function(e){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:8}],49:[function(e,t,n){arguments[4][22][0].apply(n,arguments)},{"./debug":50,_process:37,dup:22}],50:[function(e,t,n){arguments[4][23][0].apply(n,arguments)},{dup:23,ms:34}],51:[function(e,t,n){arguments[4][28][0].apply(n,arguments)},{dup:28}],52:[function(e,t,n){t.exports=function(e,t){for(var n=[],r=(t=t||0)||0;r<e.length;r++)n[r-t]=e[r];return n}},{}],53:[function(e,t,n){"use strict";var r,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),o=64,s={},a=0,u=0;function l(e){for(var t="";t=i[e%o]+t,0<(e=Math.floor(e/o)););return t}function h(){var e=l(+new Date);return e!==r?(a=0,r=e):e+"."+l(a++)}for(;u<o;u++)s[i[u]]=u;h.encode=l,h.decode=function(e){var t=0;for(u=0;u<e.length;u++)t=t*o+s[e.charAt(u)];return t},t.exports=h},{}],54:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(e("sint.js"));var s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,o.Container),r(a,[{key:"updataOffset",value:function(e,t){this.filter.offset[0]+=.1*(e-this.filter.offset[0]),this.filter.offset[1]+=.1*(t-this.filter.offset[1])}},{key:"updata",value:function(){}}]),a);function a(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));return t.game=e,t.filterArea=new o.Rectangle(0,0,e.initWidth,e.initHeight),t.filter=new o.magic.HolesFilter(15790320,16777215,.2,.1),t.filters=[t.filter],o.Tween.to(t.filter,5,{zoom:.6,delay:2}),t}n.default=s},{"sint.js":38}],55:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(e("sint.js"));var o=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,s.Container),r(a,[{key:"setRoll",value:function(e){this.rollLine.rotation=Math.PI/180*e,this.rollTxt.text=e}},{key:"setPitch",value:function(e){this.pitchLine.rotation=Math.PI/180*e,this.pitchTxt.text=e}},{key:"setTem",value:function(e){this.temTxt.text=e+" °C"}},{key:"doTouch",value:function(e){if(!(e<1e3)){var t=new s.SpriteClip("top_d1");t.anchor.set(.5),t.scale.set(0),this.addChild(t),s.Tween.to(t.scale,1,{x:1,y:1,ease:Power2.easeOut,onCompleteParams:[this],onComplete:function(e){e.removeChild(t)}})}}},{key:"appear",value:function(){this.appeared=!0,this.hideTime=1e3,s.Tween.to(this,1,{x:-85,alpha:1,ease:Power3.easeOut})}},{key:"updata",value:function(){this.appeared&&(this.hideTime--,this.hideTime<0&&(this.appeared=!1,s.Tween.to(this,1,{x:85,alpha:0,ease:Power3.easeOut})))}}]),a);function a(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));r.id=e,r.x=t,r.y=n,r.appeared=!1,r.hideTime=100,r.bg=new s.SpriteClip("top_d1"),r.bg.anchor.set(.5),r.addChild(r.bg);for(var i=[],o=1;o<=8;o++)i.push(s.Texture.fromImage("./assets/top_n"+o+".png"));return r.numAS=new s.AnimatedSprite(i),r.addChild(r.numAS),r.numAS.anchor.set(.5),r.numAS.gotoAndStop(e-1),r.rollLine=new s.SpriteClip("top_d2"),r.rollLine.anchor.set(1,.5),r.addChild(r.rollLine),r.pitchLine=new s.SpriteClip("top_d2"),r.pitchLine.anchor.set(1,.5),r.pitchLine.scale.set(-1,1),r.addChild(r.pitchLine),r.rollTxt=new s.TextClip("0",-75,20,{fontFamily:"Arial",fontSize:28,fontWeight:"bold",fill:"#000000"}),r.addChild(r.rollTxt),r.pitchTxt=new s.TextClip("0",75,20,{fontFamily:"Arial",fontSize:28,fontWeight:"bold",fill:"#000000"}),r.pitchTxt.anchor.set(1,0),r.addChild(r.pitchTxt),r.temTxt=new s.TextClip("0 °C",0,50,{fontFamily:"Arial",fontSize:26,fontWeight:"bold",fill:"#000000"}),r.temTxt.anchor.set(.5,0),r.addChild(r.temTxt),r}n.default=o},{"sint.js":38}],56:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(e("sint.js")),s=e("ismobilejs"),u=(o=s)&&o.__esModule?o:{default:o};var l=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(h,a.Container),r(h,[{key:"start",value:function(){var e=this;this.appeared=!1,this.p1.scale.set(1),this.p1.position.set(800,1600),this.p1.alpha=0,a.Tween.to(this.p1.scale,5,{x:3,y:3,ease:Power1.easeOut}),a.Tween.to(this.p1,5,{x:-1100,y:-500,alpha:1,ease:Power3.easeOut}),this.p2.scale.set(.25),this.p2.position.set(800,1600),this.p2.alpha=0,a.Tween.to(this.p2.scale,5,{x:2,y:2,ease:Power1.easeOut}),a.Tween.to(this.p2,5,{x:-2100,y:-1400,alpha:1,ease:Power2.easeOut}),this.p3.scale.set(.1),this.p3.position.set(1130,1800),this.p3.alpha=0,a.Tween.to(this.p3.scale,5,{x:1,y:1,ease:Power1.easeInOut}),a.Tween.to(this.p3,5,{x:-280,y:-100,alpha:1,ease:Power2.easeOut}),this.p4.scale.set(.1),this.p4.position.set(1130,1800),this.p4.alpha=0,a.Tween.to(this.p4.scale,5,{x:1,y:1,delay:1,ease:Power1.easeInOut}),a.Tween.to(this.p4,5,{x:-350,y:1500,alpha:1,ease:Power1.easeOut}),this.t0.position.set(1100,1200),this.t1.position.set(1214,100),this.t2.position.set(1150,100),this.t3.position.set(280,1024),this.t4.position.set(200,1024),this.t5.position.set(840,1060);for(var t=[this.t0,this.t1,this.t2,this.t3,this.t4,this.t5],n=0;n<t.length;n++)t[n].alpha=0,a.Tween.to(t[n],3,{alpha:1,delay:2+.3*n,ease:Power2.easeInOut});(0,u.default)(window.navigator).phone||(this.filter=new a.magic.DisplacementFilter(0,.1,0),this.filters=[this.filter],a.Tween.to(this.filter,3,{density:.2,ease:Power2.easeOut})),setTimeout(function(){e.appeared=!0},4e3)}},{key:"removeThis",value:function(e,t){for(var n=this,r=0<arguments.length&&void 0!==e?e:-1,i=1<arguments.length&&void 0!==t?t:null,o=[this.p4,this.p3,this.p2,this.p1,this.t0,this.t1,this.t2,this.t3,this.t4,this.t5],s=0;s<o.length;s++)a.Tween.to(o[s],2,{y:o[s].y+800*r,alpha:0,delay:.1*s,ease:Power2.easeInOut});(0,u.default)(window.navigator).phone||a.Tween.to(this.filter,3,{density:3,ease:Power2.easeInOut}),setTimeout(function(){i&&i(),n.filters=[],n.parent&&n.parent.removeChild(n)},3e3)}},{key:"updataLayers",value:function(e,t){for(var n=0;n<this.layers.length;n++)this.layers[n].x+=.1*((.5-e)*(this.layers.length-n)*60-this.layers[n].x),this.layers[n].y+=.1*((.5-t)*(this.layers.length-n)*60-this.layers[n].y)}},{key:"updata",value:function(){}}]),h);function h(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));t.game=e,t.appeared=!1,t.filterArea=new a.Rectangle(0,0,t.game.initWidth,t.game.initHeight),t.p1=new a.SpriteClip("page1_p1"),t.p2=new a.SpriteClip("page1_p2"),t.p3=new a.SpriteClip("page1_p3"),t.p4=new a.SpriteClip("page1_p4"),t.t0=new a.SpriteClip("page1_t0"),t.t1=new a.SpriteClip("page1_t1"),t.t2=new a.SpriteClip("page1_t2"),t.t3=new a.SpriteClip("page1_t3"),t.t4=new a.SpriteClip("page1_t4"),t.t5=new a.SpriteClip("page1_t5"),t.layers=[];for(var n=0;n<5;n++){var r=new a.Container;t.addChild(r),t.layers.push(r)}return t.layers[0].addChild(t.p3),t.layers[0].addChild(t.t0),t.layers[1].addChild(t.p2),t.layers[1].addChild(t.p4),t.layers[2].addChild(t.p1),t.layers[2].addChild(t.t1),t.layers[2].addChild(t.t2),t.layers[3].addChild(t.t3),t.layers[3].addChild(t.t4),t.layers[4].addChild(t.t5),t}n.default=l},{ismobilejs:32,"sint.js":38}],57:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(e("sint.js")),s=e("ismobilejs"),u=(o=s)&&o.__esModule?o:{default:o};var l=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(h,a.Container),r(h,[{key:"start",value:function(){var e=this;this.appeared=!1,this.p1.anchor.set(1),this.p1.scale.set(.45),this.p1.position.set(1260,1800),this.p1.alpha=0,a.Tween.to(this.p1.scale,5,{x:2,y:2,ease:Power1.easeOut}),a.Tween.to(this.p1,5,{x:520,y:700,alpha:1,ease:Power3.easeOut}),this.p2.anchor.set(.5),this.p2.scale.set(1),this.p2.position.set(1e3,1870),this.p2.alpha=0,a.Tween.to(this.p2.scale,5,{x:2,y:2,ease:Back.easeInOut}),a.Tween.to(this.p2,5,{x:0,y:1400,alpha:1,ease:Power2.easeOut}),this.p3.anchor.set(1,0),this.p3.scale.set(.7),this.p3.position.set(1270,1800),this.p3.alpha=0,a.Tween.to(this.p3.scale,5,{x:4,y:4,ease:Back.easeOut}),a.Tween.to(this.p3,5,{x:2e3,y:900,alpha:1,ease:Power3.easeOut}),this.t0.position.set(760,920),this.t1.position.set(1200,100),this.t2.position.set(220,680),this.t3.position.set(180,680);for(var t=[this.t0,this.t1,this.t2,this.t3],n=0;n<t.length;n++)t[n].alpha=0,a.Tween.to(t[n],3,{alpha:1,delay:2+.3*n,ease:Power2.easeInOut});(0,u.default)(window.navigator).phone||(this.filter=new a.magic.DisplacementFilter(0,.1,0),this.filters=[this.filter],a.Tween.to(this.filter,3,{density:.2,ease:Power2.easeOut})),setTimeout(function(){e.appeared=!0},4e3)}},{key:"removeThis",value:function(e,t){for(var n=this,r=0<arguments.length&&void 0!==e?e:-1,i=1<arguments.length&&void 0!==t?t:null,o=[this.p3,this.p2,this.p1,this.t0,this.t1,this.t2,this.t3],s=0;s<o.length;s++)a.Tween.to(o[s],2,{y:o[s].y+800*r,alpha:0,delay:.1*s,ease:Power2.easeInOut});(0,u.default)(window.navigator).phone||a.Tween.to(this.filter,3,{density:3,ease:Power2.easeInOut}),setTimeout(function(){i&&i(),n.filters=[],n.parent&&n.parent.removeChild(n)},3e3)}},{key:"updataLayers",value:function(e,t){for(var n=0;n<this.layers.length;n++)this.layers[n].x+=.1*((.5-e)*(this.layers.length-n)*60-this.layers[n].x),this.layers[n].y+=.1*((.5-t)*(this.layers.length-n)*60-this.layers[n].y)}},{key:"updata",value:function(){}}]),h);function h(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));t.game=e,t.appeared=!1,t.filterArea=new a.Rectangle(0,0,t.game.initWidth,t.game.initHeight),t.p1=new a.SpriteClip("page2_p1"),t.p2=new a.SpriteClip("page2_p2"),t.p3=new a.SpriteClip("page2_p3"),t.t0=new a.SpriteClip("page2_t0"),t.t1=new a.SpriteClip("page2_t1"),t.t2=new a.SpriteClip("page2_t2"),t.t3=new a.SpriteClip("page2_t3"),t.layers=[];for(var n=0;n<5;n++){var r=new a.Container;t.addChild(r),t.layers.push(r)}return t.layers[0].addChild(t.p3),t.layers[1].addChild(t.p1),t.layers[1].addChild(t.p2),t.layers[2].addChild(t.t0),t.layers[3].addChild(t.t1),t.layers[4].addChild(t.t2),t.layers[4].addChild(t.t3),t}n.default=l},{ismobilejs:32,"sint.js":38}],58:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(e("sint.js")),s=e("ismobilejs"),u=(o=s)&&o.__esModule?o:{default:o};var l=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(h,a.Container),r(h,[{key:"start",value:function(){var e=this;this.appeared=!1,this.p1.anchor.set(1),this.p1.scale.set(.45),this.p1.position.set(1200,1800),this.p1.alpha=0,a.Tween.to(this.p1.scale,5,{x:2,y:2,ease:Power3.easeInOut}),a.Tween.to(this.p1,5,{x:0,y:500,alpha:1,ease:Power4.easeOut}),this.p2.anchor.set(.5),this.p2.scale.set(.25),this.p2.position.set(1220,1450),this.p2.alpha=0,a.Tween.to(this.p2.scale,5,{x:2,y:2,ease:Power1.easeInOut}),a.Tween.to(this.p2,5,{x:200,y:500,alpha:1,ease:Power2.easeOut}),this.p3.scale.set(.2),this.p3.position.set(1100,1200),this.p3.alpha=0,a.Tween.to(this.p3.scale,5,{x:2,y:2,ease:Power1.easeInOut}),a.Tween.to(this.p3,5,{x:-180,y:-2e3,alpha:1,ease:Power1.easeOut}),this.t0.position.set(850,1134),this.t1.position.set(1200,100),this.t2.position.set(280,1400),this.t3.position.set(200,1400);for(var t=[this.t0,this.t1,this.t2,this.t3],n=0;n<t.length;n++)t[n].alpha=0,a.Tween.to(t[n],3,{alpha:1,delay:2+.3*n,ease:Power2.easeInOut});(0,u.default)(window.navigator).phone||(this.filter=new a.magic.DisplacementFilter(0,.1,0),this.filters=[this.filter],a.Tween.to(this.filter,3,{density:.2,ease:Power2.easeOut})),setTimeout(function(){e.appeared=!0},4e3)}},{key:"removeThis",value:function(e,t){for(var n=this,r=0<arguments.length&&void 0!==e?e:-1,i=1<arguments.length&&void 0!==t?t:null,o=[this.p3,this.p2,this.p1,this.t0,this.t1,this.t2,this.t3],s=0;s<o.length;s++)a.Tween.to(o[s],2,{y:o[s].y+800*r,alpha:0,delay:.1*s,ease:Power2.easeInOut});(0,u.default)(window.navigator).phone||a.Tween.to(this.filter,3,{density:3,ease:Power2.easeInOut}),setTimeout(function(){i&&i(),n.filters=[],n.parent&&n.parent.removeChild(n)},3e3)}},{key:"updataLayers",value:function(e,t){for(var n=0;n<this.layers.length;n++)this.layers[n].x+=.1*((.5-e)*(this.layers.length-n)*60-this.layers[n].x),this.layers[n].y+=.1*((.5-t)*(this.layers.length-n)*60-this.layers[n].y)}},{key:"updata",value:function(){}}]),h);function h(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));t.game=e,t.appeared=!1,t.filterArea=new a.Rectangle(0,0,t.game.initWidth,t.game.initHeight),t.p1=new a.SpriteClip("page3_p1"),t.p2=new a.SpriteClip("page3_p2"),t.p3=new a.SpriteClip("page3_p3"),t.t0=new a.SpriteClip("page3_t0"),t.t1=new a.SpriteClip("page3_t1"),t.t2=new a.SpriteClip("page3_t2"),t.t3=new a.SpriteClip("page3_t3"),t.layers=[];for(var n=0;n<5;n++){var r=new a.Container;t.addChild(r),t.layers.push(r)}return t.layers[0].addChild(t.p3),t.layers[1].addChild(t.p1),t.layers[1].addChild(t.p2),t.layers[2].addChild(t.t0),t.layers[3].addChild(t.t1),t.layers[4].addChild(t.t2),t.layers[4].addChild(t.t3),t}n.default=l},{ismobilejs:32,"sint.js":38}],59:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(e("sint.js")),s=e("ismobilejs"),u=(o=s)&&o.__esModule?o:{default:o};var l=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(h,a.Container),r(h,[{key:"start",value:function(){var e=this;this.appeared=!1,this.p1.anchor.set(1),this.p1.scale.set(.45),this.p1.position.set(1200,1600),this.p1.alpha=0,a.Tween.to(this.p1.scale,5,{x:2,y:2,ease:Power3.easeInOut}),a.Tween.to(this.p1,5,{x:0,y:200,alpha:1,ease:Power4.easeOut}),this.p2.anchor.set(.5),this.p2.scale.set(.2),this.p2.position.set(1150,1550),this.p2.alpha=0,a.Tween.to(this.p2.scale,5,{x:2,y:2,ease:Power1.easeOut}),a.Tween.to(this.p2,5,{x:1200,y:100,alpha:1,ease:Power1.easeOut}),this.p3.scale.set(.2),this.p3.position.set(950,1500),this.p3.alpha=0,a.Tween.to(this.p3.scale,5,{x:2,y:2,ease:Power1.easeInOut}),a.Tween.to(this.p3,5,{x:-300,y:600,alpha:1,ease:Power1.easeOut}),this.p4.scale.set(.2),this.p4.position.set(900,1600),this.p4.alpha=0,a.Tween.to(this.p4.scale,5,{x:2,y:2,ease:Power1.easeInOut}),a.Tween.to(this.p4,5,{x:-900,y:1500,alpha:1,ease:Power1.easeOut}),this.t0.position.set(1125,1240),this.t1.position.set(700,880),this.t2.position.set(630,880),this.t3.position.set(580,880);for(var t=[this.t0,this.t1,this.t2,this.t3],n=0;n<t.length;n++)t[n].alpha=0,a.Tween.to(t[n],3,{alpha:1,delay:2+.3*n,ease:Power2.easeInOut});(0,u.default)(window.navigator).phone||(this.filter=new a.magic.DisplacementFilter(0,.1,0),this.filters=[this.filter],a.Tween.to(this.filter,3,{density:.2,ease:Power2.easeOut})),setTimeout(function(){e.appeared=!0},4e3)}},{key:"removeThis",value:function(e,t){for(var n=this,r=0<arguments.length&&void 0!==e?e:-1,i=1<arguments.length&&void 0!==t?t:null,o=[this.p3,this.p2,this.p4,this.p1,this.t0,this.t1,this.t2,this.t3],s=0;s<o.length;s++)a.Tween.to(o[s],2,{y:o[s].y+800*r,alpha:0,delay:.1*s,ease:Power2.easeInOut});(0,u.default)(window.navigator).phone||a.Tween.to(this.filter,3,{density:3,ease:Power2.easeInOut}),setTimeout(function(){i&&i(),n.filters=[],n.parent&&n.parent.removeChild(n)},3e3)}},{key:"updataLayers",value:function(e,t){for(var n=0;n<this.layers.length;n++)this.layers[n].x+=.1*((.5-e)*(this.layers.length-n)*60-this.layers[n].x),this.layers[n].y+=.1*((.5-t)*(this.layers.length-n)*60-this.layers[n].y)}},{key:"updata",value:function(){}}]),h);function h(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));t.game=e,t.appeared=!1,t.filterArea=new a.Rectangle(0,0,t.game.initWidth,t.game.initHeight),t.p1=new a.SpriteClip("page4_p1"),t.p2=new a.SpriteClip("page4_p2"),t.p3=new a.SpriteClip("page4_p3"),t.p4=new a.SpriteClip("page4_p4"),t.t0=new a.SpriteClip("page4_t0"),t.t1=new a.SpriteClip("page4_t1"),t.t2=new a.SpriteClip("page4_t2"),t.t3=new a.SpriteClip("page4_t3"),t.layers=[];for(var n=0;n<5;n++){var r=new a.Container;t.addChild(r),t.layers.push(r)}return t.layers[0].addChild(t.p3),t.layers[0].addChild(t.p4),t.layers[1].addChild(t.p1),t.layers[1].addChild(t.p2),t.layers[2].addChild(t.t0),t.layers[3].addChild(t.t1),t.layers[4].addChild(t.t2),t.layers[4].addChild(t.t3),t}n.default=l},{ismobilejs:32,"sint.js":38}],60:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(e("sint.js")),s=p(e("socket.io-client")),a=p(e("ismobilejs")),u=p(e("./Bg")),l=p(e("./Top")),h=p(e("./Page1")),c=p(e("./Page2")),f=p(e("./Page3")),d=p(e("./Page4"));function p(e){return e&&e.__esModule?e:{default:e}}var v=void 0,y=(0,a.default)(window.navigator).phone?.7:1,g=void 0,_=void 0,m=void 0,b=void 0,w=void 0,x=[],T=void 0,E={domElement:document.querySelector("#webglContainer"),initWidth:1536*y,initHeight:2048*y,showFPS:0,backgroundColor:16448250},O={logo:"./assets/logo.png",top_bg:"./assets/top_bg.png",top_bar:"./assets/top_bar.png",top_d1:"./assets/top_d1.png",top_d2:"./assets/top_d2.png",page1_p1:"./assets/p1_1.png",page1_p2:"./assets/p1_2.png",page1_p3:"./assets/p1_3.png",page1_p4:"./assets/p1_4.png",page1_t0:"./assets/p1_t0.png",page1_t1:"./assets/p1_t1.png",page1_t2:"./assets/p1_t2.png",page1_t3:"./assets/p1_t3.png",page1_t4:"./assets/p1_t4.png",page1_t5:"./assets/p1_t5.png",page2_p1:"./assets/p2_1.png",page2_p2:"./assets/p2_2.png",page2_p3:"./assets/p2_3.png",page2_t0:"./assets/p2_t0.png",page2_t1:"./assets/p2_t1.png",page2_t2:"./assets/p2_t2.png",page2_t3:"./assets/p2_t3.png",page3_p1:"./assets/p3_1.png",page3_p2:"./assets/p3_2.png",page3_p3:"./assets/p3_3.png",page3_t0:"./assets/p3_t0.png",page3_t1:"./assets/p3_t1.png",page3_t2:"./assets/p3_t2.png",page3_t3:"./assets/p3_t3.png",page4_p1:"./assets/p4_1.png",page4_p2:"./assets/p4_2.png",page4_p3:"./assets/p4_3.png",page4_p4:"./assets/p4_4.png",page4_t0:"./assets/p4_t0.png",page4_t1:"./assets/p4_t1.png",page4_t2:"./assets/p4_t2.png",page4_t3:"./assets/p4_t3.png"},P=(r(S,[{key:"init",value:function(){g=new o.Game(E);var t=new o.TextClip("0%",g.initWidth/2,g.initHeight/3,{fontFamily:"Arial",fontSize:30,fontWeight:"bold",fill:["#bbb","#aaa"]});t.anchor.set(.5),g.addChild(t),g.preload({assets:O,loading:function(e){t.text=Math.floor(e.progress)+"%"},loaded:function(){g.remove(t),v.initStage()}})}},{key:"initStage",value:function(){_=new o.Container,g.addChild(_),w=new l.default(g),g.addChild(w),w.position.set(g.initWidth,0),b=new u.default(g),_.addChild(b),x=[new h.default(g),new c.default(g),new f.default(g),new d.default(g)],T=0,_.addChild(x[0]),x[0].start(),this.socket&&this.socket.emit("setNum",T+1),m=new o.TextClip("© Sintlab.com 2021 .",g.initWidth-30,g.initHeight-20,{fontFamily:"Arial",fontSize:24,fill:["#ffffff"],dropShadow:!0,dropShadowColor:"#121212",dropShadowBlur:2,dropShadowAngle:Math.PI/2,dropShadowDistance:1}),g.addChild(m),m.anchor.set(1),m.alpha=.5,window.addEventListener("resize",this.onWindowResized),window.DeviceOrientationEvent&&window.addEventListener("deviceorientation",this.onOrientation),this.onWindowResized(),window.addEventListener("keydown",function(e){if(38===e.keyCode&&v.prePage(),40===e.keyCode&&v.nextPage(),80===e.keyCode){var t=document.documentElement;t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullScreen&&t.webkitRequestFullScreen(),v.onWindowResized()}}),_.interactive=!0,_.hitArea=new o.Rectangle(0,0,g.initWidth,g.initHeight),_.on("pointerdown",this.onDragStart).on("pointerup",this.onDragEnd).on("pointerupoutside",this.onDragEnd).on("pointermove",this.onPointMove)}},{key:"nextPage",value:function(){var e=this;x[T].appeared&&(x[T].removeThis(-1),setTimeout(function(){3<++T&&(T=0),_.addChild(x[T]),x[T].start(),e.socket&&e.socket.emit("setNum",T+1)},1e3))}},{key:"prePage",value:function(){var e=this;x[T].appeared&&(x[T].removeThis(1),setTimeout(function(){--T<0&&(T=3),_.addChild(x[T]),x[T].start(),e.socket&&e.socket.emit("setNum",T+1)},1e3))}},{key:"onDragStart",value:function(e){this.dragging=!0,this.startY=e.data.global.y,this.moveY=0}},{key:"onDragEnd",value:function(e){this.dragging=!1,this.moveY<-2&&v.nextPage(),2<this.moveY&&v.prePage()}},{key:"onPointMove",value:function(e){var t=e.data.global.clone();b.updataOffset(t.x/g.initWidth,t.y/g.initHeight);for(var n=0;n<x.length;n++)x[n].parent&&x[n].updataLayers(t.x/g.initWidth,t.y/g.initHeight);this.dragging&&(this.moveY=e.data.global.y-this.startY,this.startY=e.data.global.y)}},{key:"onWindowResized",value:function(){for(var e=0;e<x.length;e++)x[e].scale.set(y),x[e].filterArea.width=g.initWidth,x[e].filterArea.height=g.initHeight;b.filterArea.width=g.initWidth,b.filterArea.height=g.initHeight,w.bg.height=g.initHeight,m.x=g.initWidth-30,m.y=g.initHeight-20}},{key:"onOrientation",value:function(e){var t=e.beta?o.Unit.degToRad(e.beta):0,n=e.gamma?o.Unit.degToRad(e.gamma):0;b.updataOffset(t,n);for(var r=0;r<x.length;r++)x[r].parent&&x[r].updataLayers(t,n)}},{key:"updata",value:function(){requestAnimationFrame(this.updata.bind(this));for(var e=0;e<x.length;e++)x[e].parent&&x[e].updata();w&&w.updata()}}]),S);function S(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,S),(v=this).socket=(0,s.default)("ws://localhost:3434"),this.socket.on("cupData",function(e){try{var t=e.toString().split(">"),n=(Number(t[0]),Number(t[1].slice(-1))),r=Number(t[2]),i=Number(t[3]),o=Number(t[4]),s=Number(t[5]);w&&w.updataCup(n,r,i,o,s)}catch(e){console.log("Cup socket "+e)}}),this.init(),this.updata()}n.default=P},{"./Bg":54,"./Page1":56,"./Page2":57,"./Page3":58,"./Page4":59,"./Top":61,ismobilejs:32,"sint.js":38,"socket.io-client":39}],61:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,s=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(e("sint.js")),a=e("./Cup"),u=(o=a)&&o.__esModule?o:{default:o};var l=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(h,s.Container),r(h,[{key:"updataCup",value:function(e,t,n,r,i){this.cupList[e-1].appear(),this.cupList[e-1].setRoll(t),this.cupList[e-1].setPitch(n),this.cupList[e-1].setTem(r),this.cupList[e-1].doTouch(i)}},{key:"updata",value:function(){for(var e=0,t=0;t<this.cupList.length;t++)this.cupList[t].appeared&&(e++,s.Tween.to(this.cupList[t],1,{y:100+150*e,ease:Power3.easeOut}),this.cupList[t].updata())}}]),h);function h(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));t.game=e,t.bg=new s.SpriteClip("top_bg"),t.bg.anchor.set(1,0),t.addChild(t.bg),t.bg.alpha=.93,t.bg.height=e.initHeight,t.logo=new s.SpriteClip("logo",-85,60),t.logo.anchor.set(.5,0),t.addChild(t.logo),s.Tween.from(t.bg,2,{alpha:0,delay:1,ease:Power3.easeInOut}),s.Tween.from(t.logo.scale,1,{x:0,y:0,delay:2,ease:Back.easeOut}),t.cupList=[];for(var n=1;n<=8;n++){var r=new u.default(n,85,100+150*n);t.addChild(r),t.cupList.push(r)}return t}n.default=l},{"./Cup":55,"sint.js":38}],62:[function(e,t,n){"use strict";var r,i=e("./Scene");new((r=i)&&r.__esModule?r:{default:r}).default},{"./Scene":60}]},{},[62]);
